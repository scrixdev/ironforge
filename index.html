<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IRONFORGE — Prise de Masse</title>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCI+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojRTYzOTQ2Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I0ZGNkIzNSIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPCEtLSBEYXJrIGJhY2tncm91bmQgLS0+CiAgPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiByeD0iOCIgZmlsbD0iIzBhMGEwYyIvPgogIDwhLS0gSSAtLT4KICA8cmVjdCB4PSIxMCIgeT0iMTQiIHdpZHRoPSI4IiBoZWlnaHQ9IjM2IiByeD0iMSIgZmlsbD0idXJsKCNnKSIvPgogIDwhLS0gRiAtLT4KICA8cmVjdCB4PSIyNCIgeT0iMTQiIHdpZHRoPSI4IiBoZWlnaHQ9IjM2IiByeD0iMSIgZmlsbD0idXJsKCNnKSIvPgogIDxyZWN0IHg9IjMyIiB5PSIxNCIgd2lkdGg9IjE4IiBoZWlnaHQ9IjgiIHJ4PSIxIiBmaWxsPSJ1cmwoI2cpIi8+CiAgPHJlY3QgeD0iMzIiIHk9IjI4IiB3aWR0aD0iMTQiIGhlaWdodD0iNyIgcng9IjEiIGZpbGw9InVybCgjZykiLz4KPC9zdmc+Cg==">
<!-- PWA -->
<link rel="manifest" href="/ironforge/manifest.json">
<meta name="theme-color" content="#E63946">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="IRONFORGE">
<link rel="apple-touch-icon" href="icon-192.png">
<link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">

<!-- SEO -->
<meta name="description" content="IRONFORGE — Le guide ultime de la prise de masse. Programmes d'entraînement, nutrition, calculateur de calories, vidéos d'exercices et plans de repas.">
<meta property="og:title" content="IRONFORGE — Prise de Masse">
<meta property="og:description" content="Le guide ultime de la prise de masse : programmes, nutrition, calculateur de calories et vidéos d'exercices.">
<meta property="og:type" content="website">
<meta property="og:image" content="/ironforge/icon-512.png">
<meta name="twitter:card" content="summary_large_image">
<!-- Preconnect pour performance -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Barlow+Condensed:wght@300;400;600;700&family=Barlow:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --red: #E63946;
    --orange: #FF6B35;
    --gold: #FFB703;
    --dark: #0a0a0c;
    --dark2: #111116;
    --dark3: #1a1a22;
    --dark4: #242430;
    --light: #f0ede8;
    --gray: #888899;
    --white: #ffffff;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html { scroll-behavior: smooth; }

  body {
    background: var(--dark);
    color: var(--light);
    font-family: 'Barlow', sans-serif;
    overflow-x: hidden;
    cursor: default;
  }

  /* SCROLLBAR */
  ::-webkit-scrollbar { width: 4px; }
  ::-webkit-scrollbar-track { background: var(--dark); }
  ::-webkit-scrollbar-thumb { background: var(--red); }

  /* NAV */
  nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
    display: flex; align-items: center; justify-content: space-between;
    padding: 18px 48px;
    background: rgba(10,10,12,0.85);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(230,57,70,0.15);
  }

  .logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2rem;
    letter-spacing: 4px;
    background: linear-gradient(90deg, var(--red), var(--orange));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .nav-links { display: flex; gap: 36px; list-style: none; }
  .nav-links a {
    color: var(--gray);
    text-decoration: none;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.85rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    transition: color 0.3s;
  }
  .nav-links a:hover { color: var(--red); }

  /* HERO */
  .hero {
    min-height: 100vh;
    display: flex; align-items: center; justify-content: center;
    position: relative;
    overflow: hidden;
    background: var(--dark);
  }

  .hero-bg {
    position: absolute; inset: 0;
    background:
      radial-gradient(ellipse 80% 60% at 60% 40%, rgba(230,57,70,0.12) 0%, transparent 70%),
      radial-gradient(ellipse 40% 40% at 20% 80%, rgba(255,107,53,0.08) 0%, transparent 60%);
  }

  .hero-grid {
    position: absolute; inset: 0;
    background-image:
      linear-gradient(rgba(230,57,70,0.04) 1px, transparent 1px),
      linear-gradient(90deg, rgba(230,57,70,0.04) 1px, transparent 1px);
    background-size: 60px 60px;
  }

  .hero-content {
    text-align: center;
    z-index: 1;
    padding: 120px 24px 80px;
  }

  .hero-badge {
    display: inline-block;
    background: rgba(230,57,70,0.15);
    border: 1px solid rgba(230,57,70,0.4);
    color: var(--red);
    font-family: 'Barlow Condensed', sans-serif;
    letter-spacing: 4px;
    font-size: 0.75rem;
    padding: 6px 20px;
    border-radius: 2px;
    margin-bottom: 32px;
    animation: fadeDown 0.8s ease both;
  }

  .hero-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(5rem, 14vw, 12rem);
    line-height: 0.9;
    letter-spacing: 2px;
    animation: fadeUp 0.9s ease 0.2s both;
  }

  .hero-title span {
    display: block;
    background: linear-gradient(135deg, var(--red), var(--orange), var(--gold));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .hero-sub {
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 1.2rem;
    letter-spacing: 2px;
    color: var(--gray);
    margin: 24px 0 48px;
    animation: fadeUp 0.9s ease 0.4s both;
  }

  .hero-ctas {
    display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;
    animation: fadeUp 0.9s ease 0.6s both;
  }

  .btn-primary {
    background: linear-gradient(135deg, var(--red), var(--orange));
    color: white;
    border: none;
    padding: 14px 36px;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 1rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    cursor: pointer;
    border-radius: 2px;
    text-decoration: none;
    transition: transform 0.2s, box-shadow 0.2s;
    display: inline-block;
    box-shadow: 0 0 30px rgba(230,57,70,0.3);
  }
  .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 40px rgba(230,57,70,0.5); }

  .btn-outline {
    background: transparent;
    color: var(--light);
    border: 1px solid rgba(240,237,232,0.3);
    padding: 14px 36px;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 1rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    cursor: pointer;
    border-radius: 2px;
    text-decoration: none;
    transition: all 0.2s;
    display: inline-block;
  }
  .btn-outline:hover { border-color: var(--red); color: var(--red); }

  .hero-stats {
    display: flex; gap: 64px; justify-content: center; margin-top: 80px;
    animation: fadeUp 0.9s ease 0.8s both;
    flex-wrap: wrap;
  }

  .stat { text-align: center; }
  .stat-number {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 3rem;
    background: linear-gradient(135deg, var(--red), var(--orange));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .stat-label { font-size: 0.75rem; letter-spacing: 3px; color: var(--gray); text-transform: uppercase; }

  /* SECTION STYLES */
  section { padding: 100px 48px; max-width: 1400px; margin: 0 auto; }

  .section-header {
    display: flex; align-items: baseline; gap: 16px;
    margin-bottom: 64px;
  }
  .section-num {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1rem;
    color: var(--red);
    letter-spacing: 3px;
  }
  .section-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(2.5rem, 5vw, 4rem);
    letter-spacing: 2px;
    line-height: 1;
  }
  .section-line {
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, rgba(230,57,70,0.4), transparent);
    margin-left: 24px;
  }

  /* PROGRAMME */
  #programme { border-top: 1px solid rgba(255,255,255,0.05); }

  .tabs-wrapper {
    margin-bottom: 48px;
  }
  .tabs-group {
    margin-bottom: 12px;
  }
  .tabs-group-label {
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.65rem;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: var(--gray);
    margin-bottom: 10px;
    opacity: 0.5;
  }
  .programme-tabs {
    display: flex;
    gap: 0;
    flex-wrap: nowrap;
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 6px;
    overflow: hidden;
    width: 100%;
    scrollbar-width: none;
  }
  .programme-tabs::-webkit-scrollbar { display: none; }
  .tab-btn {
    font-family: 'Barlow Condensed', sans-serif;
    letter-spacing: 3px;
    font-size: 0.82rem;
    text-transform: uppercase;
    background: var(--dark2);
    border: none;
    border-right: 1px solid rgba(255,255,255,0.08);
    color: var(--gray);
    white-space: nowrap;
    flex: 1;
    padding: 14px 8px;
    cursor: pointer;
    border-radius: 0;
    transition: all 0.25s;
    text-align: center;
  }
  .tab-btn:last-child { border-right: none; }
  .tab-btn:hover { background: rgba(255,255,255,0.04); color: var(--light); }
  .tab-btn.active {
    border-color: transparent;
    color: white;
    box-shadow: none;
  }
  .tab-btn.spe { border-color: rgba(255,255,255,0.08); }

  /* ── Dégradés Programme Généraux ── */
  .tab-btn[onclick*="'ppl'"].active         { background: linear-gradient(135deg, #e63946, #ff6b35); }
  .tab-btn[onclick*="'fullbody'"].active    { background: linear-gradient(135deg, #c0392b, #e63946); }
  .tab-btn[onclick*="'upper'"].active       { background: linear-gradient(135deg, #8e44ad, #c0392b); }
  .tab-btn[onclick*="'debutant'"].active    { background: linear-gradient(135deg, #2980b9, #8e44ad); }
  .tab-btn[onclick*="'perso'"].active       { background: linear-gradient(135deg, #f7971e, #ffb703); color: #0a0a0c; }

  /* ── Dégradés Spécialisation ── */
  .tab-btn[onclick*="'pecs'"].active        { background: linear-gradient(135deg, #e63946, #ff6b35); }
  .tab-btn[onclick*="'abdos'"].active       { background: linear-gradient(135deg, #11998e, #38ef7d); color: #0a0a0c; }
  .tab-btn[onclick*="'bras'"].active        { background: linear-gradient(135deg, #f7971e, #ffb703); color: #0a0a0c; }
  .tab-btn[onclick*="'epaules'"].active     { background: linear-gradient(135deg, #2980b9, #6dd5fa); color: #0a0a0c; }
  .tab-btn[onclick*="'dos'"].active         { background: linear-gradient(135deg, #8e44ad, #da70d6); }
  .tab-btn[onclick*="'jambes'"].active      { background: linear-gradient(135deg, #c0392b, #ff6b35); }

  /* ── Boutons Échauffement ── */
  .wbtn {
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.82rem; letter-spacing: 3px; text-transform: uppercase;
    background: var(--dark2); border: none;
    border-right: 1px solid rgba(255,255,255,0.08);
    color: var(--gray); flex: 1; padding: 14px 8px;
    cursor: pointer; transition: all 0.25s; text-align: center;
  }
  .wbtn:hover { background: rgba(255,255,255,0.04); color: var(--light); }
  #wbtn-general.active  { background: linear-gradient(135deg, #e63946, #ff6b35); color: white; }
  #wbtn-pecs.active     { background: linear-gradient(135deg, #c0392b, #e63946); color: white; }
  #wbtn-dos.active      { background: linear-gradient(135deg, #8e44ad, #da70d6); color: white; }
  #wbtn-epaules.active  { background: linear-gradient(135deg, #2980b9, #6dd5fa); color: #0a0a0c; }
  #wbtn-jambes.active   { background: linear-gradient(135deg, #11998e, #38ef7d); color: #0a0a0c; }

  /* ── Dégradés Nutrition ── */
  .tab-btn[onclick*="'budget'"].active      { background: linear-gradient(135deg, #11998e, #38ef7d); color: #0a0a0c; }
  .tab-btn[onclick*="'standard'"].active    { background: linear-gradient(135deg, #e63946, #ff6b35); }
  .tab-btn[onclick*="'premium'"].active     { background: linear-gradient(135deg, #f7971e, #ffb703); color: #0a0a0c; }

  .day-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(min(300px, 100%), 1fr));
    gap: 20px;
  }

  .day-card {
    background: var(--dark2);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 8px;
    overflow: hidden;
    transition: border-color 0.3s, transform 0.3s;
  }
  .day-card:hover { border-color: rgba(230,57,70,0.4); transform: translateY(-4px); }

  .day-header {
    background: linear-gradient(135deg, rgba(230,57,70,0.2), rgba(255,107,53,0.1));
    padding: 20px 24px;
    display: flex; justify-content: space-between; align-items: center;
    border-bottom: 1px solid rgba(255,255,255,0.07);
  }

  .day-name { font-family: 'Bebas Neue', sans-serif; font-size: 1.5rem; letter-spacing: 2px; }
  .day-focus {
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.8rem;
    letter-spacing: 2px;
    color: var(--orange);
    text-transform: uppercase;
  }

  .day-body { padding: 20px 24px; }

  .exercise-item {
    display: flex; align-items: center; gap: 16px;
    padding: 12px 0;
    border-bottom: 1px solid rgba(255,255,255,0.05);
    cursor: pointer;
    transition: all 0.2s;
  }
  .exercise-item:last-child { border-bottom: none; }
  .exercise-item:hover .ex-name { color: var(--orange); }

  .ex-num {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.2rem;
    color: var(--red);
    min-width: 28px;
  }
  .ex-info { flex: 1; }
  .ex-name { font-family: 'Barlow Condensed', sans-serif; font-size: 1rem; letter-spacing: 1px; margin-bottom: 2px; transition: color 0.2s; }
  .ex-sets { font-size: 0.8rem; color: var(--gray); }
  .ex-play {
    width: 32px; height: 32px;
    background: rgba(230,57,70,0.15);
    border: 1px solid rgba(230,57,70,0.3);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.7rem;
    transition: all 0.2s;
  }
  .exercise-item:hover .ex-play { background: var(--red); border-color: var(--red); }

  /* EXERCICES / VIDEOS */
  #exercices { border-top: 1px solid rgba(255,255,255,0.05); }

  .exercise-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(min(320px, 100%), 1fr));
    gap: 24px;
  }

  .ex-card {
    background: var(--dark2);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 8px;
    overflow: hidden;
    transition: all 0.3s;
  }
  .ex-card:hover { border-color: rgba(230,57,70,0.4); transform: translateY(-6px); box-shadow: 0 20px 60px rgba(0,0,0,0.5); }

  .ex-video-thumb {
    position: relative;
    background: var(--dark3);
    padding-top: 56.25%;
    cursor: pointer;
    overflow: hidden;
  }

  .ex-video-thumb iframe {
    position: absolute; top: 0; left: 0;
    width: 100%; height: 100%;
    border: none;
    pointer-events: none;
  }

  .ex-thumb-overlay {
    position: absolute; inset: 0;
    background: rgba(0,0,0,0.4);
    display: flex; align-items: center; justify-content: center;
    transition: all 0.3s;
  }

  .ex-card:hover .ex-thumb-overlay { background: rgba(0,0,0,0.1); }

  .play-btn-large {
    width: 60px; height: 60px;
    background: rgba(230,57,70,0.9);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.4rem;
    transition: transform 0.2s;
    box-shadow: 0 0 30px rgba(230,57,70,0.5);
  }
  .ex-card:hover .play-btn-large { transform: scale(1.1); }

  .ex-card-body { padding: 20px 24px; }
  .ex-card-muscle {
    display: inline-block;
    background: rgba(230,57,70,0.15);
    color: var(--red);
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.7rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    padding: 3px 10px;
    border-radius: 2px;
    margin-bottom: 10px;
  }
  .ex-card-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; letter-spacing: 2px; margin-bottom: 8px; }
  .ex-card-desc { font-size: 0.85rem; color: var(--gray); line-height: 1.6; }
  .ex-card-tips {
    margin-top: 14px;
    padding: 12px;
    background: rgba(255,183,3,0.08);
    border-left: 2px solid var(--gold);
    border-radius: 0 4px 4px 0;
    font-size: 0.82rem;
    color: var(--gold);
    line-height: 1.6;
  }

  /* VIDEO MODAL */
  .modal-overlay {
    display: none;
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.85);
    z-index: 2000;
    align-items: flex-end;
    justify-content: center;
    backdrop-filter: blur(6px);
  }
  .modal-overlay.active { display: flex; animation: modalFadeIn 0.3s cubic-bezier(0.16,1,0.3,1) both; }
  @keyframes modalFadeIn { from { opacity:0; } to { opacity:1; } }

  .modal-content {
    width: 100%; max-width: 640px;
    background: #111116;
    border-radius: 20px 20px 0 0;
    overflow: hidden;
    position: relative;
    box-shadow: 0 -20px 60px rgba(0,0,0,0.5);
    max-height: 92vh;
    display: flex; flex-direction: column;
    animation: slideUp 0.35s cubic-bezier(0.16,1,0.3,1) both;
  }
  @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

  /* Vidéo */
  .modal-video {
    width: 100%; aspect-ratio: 16/9;
    position: relative; background: #000; flex-shrink: 0;
  }
  .modal-video iframe { width: 100%; height: 100%; border: none; display: block; }

  /* Miniature */
  .modal-video-thumb {
    position: absolute; inset: 0;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; overflow: hidden; background: #1a1a22;
  }
  .modal-video-thumb img {
    width: 100%; height: 100%; object-fit: cover;
    transition: transform 0.4s ease;
  }
  .modal-video-thumb:hover img { transform: scale(1.04); }
  .modal-thumb-overlay {
    position: absolute; inset: 0;
    background: linear-gradient(to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.45) 100%);
  }
  /* Fallback si miniature ne charge pas */
  .modal-thumb-fallback {
    display: none;
    position: absolute; inset: 0;
    align-items: center; justify-content: center;
    background: linear-gradient(135deg, #1a1a22, #0f0f14);
  }
  .modal-thumb-icon {
    font-size: 3rem; opacity: 0.2; color: white;
  }

  /* Bouton play */
  .modal-play-btn {
    position: absolute; z-index: 3;
    width: 64px; height: 64px;
    background: linear-gradient(135deg, var(--red), var(--orange));
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    transition: transform 0.2s, box-shadow 0.2s;
    box-shadow: 0 8px 30px rgba(230,57,70,0.55);
  }
  .modal-video-thumb:hover .modal-play-btn { transform: scale(1.1); }

  /* Bouton fermer */
  .modal-close {
    position: absolute; top: 12px; right: 12px; z-index: 10;
    width: 30px; height: 30px;
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(8px);
    border: none; border-radius: 50%;
    color: rgba(255,255,255,0.8);
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: background 0.2s;
  }
  .modal-close:hover { background: var(--red); color: white; }

  /* Zone info */
  .modal-info {
    padding: 20px 20px 28px;
    overflow-y: auto; flex-shrink: 1;
  }
  .modal-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.35rem; letter-spacing: 2px;
    color: var(--light); line-height: 1.15;
    margin-bottom: 14px;
  }
  .modal-actions { margin-bottom: 16px; }
  .modal-yt-btn {
    display: inline-flex; align-items: center; gap: 8px;
    background: #ff0000;
    color: white; font-weight: 700;
    padding: 9px 18px; border-radius: 8px;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.8rem; letter-spacing: 2px; text-transform: uppercase;
    text-decoration: none;
    transition: all 0.2s;
    box-shadow: 0 4px 16px rgba(255,0,0,0.3);
  }
  .modal-yt-btn:hover { background: #cc0000; transform: translateY(-1px); }
  .modal-divider {
    height: 1px; background: rgba(255,255,255,0.06);
    margin-bottom: 16px;
  }
  .modal-desc {
    color: rgba(136,136,153,0.95);
    line-height: 1.8; font-size: 0.88rem;
  }

  /* Desktop — centré */
  @media (min-width: 640px) {
    .modal-overlay { align-items: center; padding: 24px; }
    .modal-content { border-radius: 16px; max-height: 88vh; }
    @keyframes slideUp { from { opacity:0; transform:scale(0.95) translateY(20px); } to { opacity:1; transform:scale(1) translateY(0); } }
  }

  /* CALORIE CALCULATOR */
  #calories { border-top: 1px solid rgba(255,255,255,0.05); }

  .calc-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    align-items: start;
  }

  @media (max-width: 768px) { .calc-container { grid-template-columns: 1fr; } }

  .calc-form {
    background: var(--dark2);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 8px;
    padding: 36px;
  }

  .form-group { margin-bottom: 24px; }

  .form-label {
    display: block;
    font-family: 'Barlow Condensed', sans-serif;
    letter-spacing: 3px;
    font-size: 0.75rem;
    text-transform: uppercase;
    color: var(--gray);
    margin-bottom: 10px;
  }

  .form-input, .form-select {
    width: 100%;
    background: var(--dark3);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 4px;
    color: var(--light);
    padding: 12px 16px;
    font-family: 'Barlow', sans-serif;
    font-size: 1rem;
    transition: border-color 0.3s;
    outline: none;
    appearance: none;
  }
  .form-input:focus, .form-select:focus { border-color: var(--red); }

  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }

  .calc-btn {
    width: 100%;
    background: linear-gradient(135deg, var(--red), var(--orange));
    color: white;
    border: none;
    padding: 16px;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.3rem;
    letter-spacing: 4px;
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.2s;
    margin-top: 8px;
  }
  .calc-btn:hover { box-shadow: 0 8px 30px rgba(230,57,70,0.4); transform: translateY(-1px); }

  .calc-results {
    background: var(--dark2);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 8px;
    padding: 36px;
  }

  .result-hidden { display: none; }

  .result-main {
    text-align: center;
    padding: 32px 0;
    border-bottom: 1px solid rgba(255,255,255,0.07);
    margin-bottom: 32px;
  }
  .result-label { font-family: 'Barlow Condensed', sans-serif; letter-spacing: 3px; font-size: 0.8rem; text-transform: uppercase; color: var(--gray); margin-bottom: 8px; }
  .result-calories {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 5rem;
    line-height: 1;
    background: linear-gradient(135deg, var(--red), var(--orange));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .result-unit { font-family: 'Barlow Condensed', sans-serif; letter-spacing: 2px; color: var(--gray); }

  .macros-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; }
  .macro-card {
    background: var(--dark3);
    border-radius: 6px;
    padding: 16px;
    text-align: center;
  }
  .macro-value { font-family: 'Bebas Neue', sans-serif; font-size: 2rem; }
  .macro-label { font-size: 0.75rem; letter-spacing: 2px; color: var(--gray); text-transform: uppercase; }
  .macro-prot .macro-value { color: var(--red); }
  .macro-carb .macro-value { color: var(--orange); }
  .macro-fat .macro-value { color: var(--gold); }

  .result-note {
    margin-top: 24px;
    padding: 16px;
    background: rgba(255,183,3,0.08);
    border-left: 2px solid var(--gold);
    border-radius: 0 4px 4px 0;
    font-size: 0.85rem;
    color: var(--gold);
    line-height: 1.7;
  }

  .calc-placeholder {
    text-align: center;
    padding: 60px 24px;
  }
  .placeholder-icon { font-size: 4rem; margin-bottom: 16px; opacity: 0.3; }
  .placeholder-text { color: var(--gray); font-size: 0.9rem; line-height: 1.7; }

  /* NUTRITION */
  #nutrition { border-top: 1px solid rgba(255,255,255,0.05); }

  .meal-plan-tabs {
    display: flex;
    gap: 0;
    margin-bottom: 48px;
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 6px;
    overflow: hidden;
    width: 100%;
  }
  .meal-plan-tabs .tab-btn {
    padding: 14px 8px;
    font-size: 0.82rem;
    letter-spacing: 3px;
    border-radius: 0;
    border: none;
    border-right: 1px solid rgba(255,255,255,0.08);
    background: var(--dark2);
    color: var(--gray);
    transition: all 0.25s;
    flex: 1; text-align: center;
  }
  .meal-plan-tabs .tab-btn:last-child { border-right: none; }
  .meal-plan-tabs .tab-btn:not(.active):hover { background: rgba(255,255,255,0.04); color: var(--light); }

  /* Dégradés Plan Nutritionnel */
  .tab-btn[onclick*="'eco'"].active  { background: linear-gradient(135deg, #134e5e, #71b280); color: white; }
  .tab-btn[onclick*="'mid'"].active  { background: linear-gradient(135deg, #2980b9, #6dd5fa); color: #0a0a0c; }
  .tab-btn[onclick*="'pro'"].active  { background: linear-gradient(135deg, #8e44ad, #da70d6); color: white; }

  .meal-day-content { display: none; }
  .meal-day-content.active { display: grid; grid-template-columns: repeat(auto-fill, minmax(min(280px, 100%), 1fr)); gap: 20px; }

  .meal-card {
    background: var(--dark2);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 8px;
    overflow: hidden;
    transition: all 0.3s;
  }
  .meal-card:hover { border-color: rgba(255,107,53,0.4); transform: translateY(-4px); }

  .meal-header {
    background: linear-gradient(135deg, rgba(255,107,53,0.2), rgba(255,183,3,0.1));
    padding: 16px 20px;
    border-bottom: 1px solid rgba(255,255,255,0.07);
    display: flex; justify-content: space-between; align-items: center;
  }
  .meal-time { font-family: 'Bebas Neue', sans-serif; font-size: 1.3rem; letter-spacing: 2px; }
  .meal-cals {
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.8rem;
    letter-spacing: 2px;
    color: var(--orange);
    background: rgba(255,107,53,0.15);
    padding: 3px 10px;
    border-radius: 2px;
  }
  .meal-body { padding: 20px; }
  .meal-food-item {
    display: flex; align-items: center; gap: 12px;
    padding: 8px 0;
    border-bottom: 1px solid rgba(255,255,255,0.04);
    font-size: 0.9rem;
  }
  .meal-food-item:last-child { border-bottom: none; }
  .meal-emoji { font-size: 1.2rem; }
  .meal-food-name { flex: 1; }
  .meal-food-amount { color: var(--gray); font-size: 0.82rem; }
  .meal-macros {
    display: flex; gap: 12px;
    margin-top: 14px;
    padding-top: 14px;
    border-top: 1px solid rgba(255,255,255,0.07);
  }
  .meal-macro { text-align: center; flex: 1; }
  .meal-macro-val { font-family: 'Bebas Neue', sans-serif; font-size: 1.3rem; }
  .meal-macro-lbl { font-size: 0.7rem; color: var(--gray); letter-spacing: 2px; text-transform: uppercase; }

  /* TIPS / CONSEILS */
  #conseils { border-top: 1px solid rgba(255,255,255,0.05); }

  .tips-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(min(340px, 100%), 1fr)); gap: 24px; }

  .tip-card {
    background: var(--dark2);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 8px;
    padding: 32px;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
  }
  .tip-card::before {
    content: '';
    position: absolute; top: 0; left: 0; right: 0; height: 2px;
    background: linear-gradient(90deg, var(--red), var(--orange));
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.3s;
  }
  .tip-card:hover::before { transform: scaleX(1); }
  .tip-card:hover { border-color: rgba(230,57,70,0.3); transform: translateY(-4px); }

  .tip-icon { font-size: 2.5rem; margin-bottom: 16px; }
  .tip-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; letter-spacing: 2px; margin-bottom: 12px; }
  .tip-text { font-size: 0.88rem; color: #aaa; line-height: 1.8; }

  /* FOOTER */
  footer {
    background: var(--dark2);
    border-top: 1px solid rgba(255,255,255,0.07);
    padding: 48px;
    text-align: center;
  }
  .footer-logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2rem;
    letter-spacing: 4px;
    background: linear-gradient(90deg, var(--red), var(--orange));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 16px;
  }
  .footer-text { color: var(--gray); font-size: 0.85rem; }

  /* PROGRESS BAR */
  .progress-bar { position: fixed; top: 0; left: 0; height: 2px; background: linear-gradient(90deg, var(--red), var(--orange)); z-index: 2000; width: 0%; transition: width 0.1s; }

  /* ── REST TIMER ── */
  .rest-timer-btn {
    display: inline-flex; align-items: center; gap: 6px;
    background: rgba(255,183,3,0.12);
    border: 1px solid rgba(255,183,3,0.35);
    color: var(--gold);
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.72rem; letter-spacing: 2px; text-transform: uppercase;
    padding: 4px 12px; border-radius: 4px; cursor: pointer;
    transition: all 0.2s; margin-left: auto; flex-shrink: 0;
  }
  .rest-timer-btn:hover { background: rgba(255,183,3,0.22); }

  #rest-timer-overlay {
    display: none; position: fixed; bottom: 24px; right: 24px;
    z-index: 1500;
    background: linear-gradient(135deg, #16161f, #1e1e2a);
    border: 1px solid rgba(255,183,3,0.4);
    border-radius: 16px; padding: 20px 24px;
    box-shadow: 0 16px 60px rgba(0,0,0,0.7);
    min-width: 200px; text-align: center;
    animation: fadeUp 0.3s ease both;
  }
  #rest-timer-overlay.active { display: block; }
  .timer-label { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 3px; color: var(--gray); text-transform: uppercase; margin-bottom: 8px; }
  .timer-display {
    font-family: 'Bebas Neue', sans-serif; font-size: 3.5rem;
    background: linear-gradient(135deg, var(--gold), var(--orange));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    line-height: 1;
  }
  .timer-progress-ring { width: 80px; height: 80px; margin: 8px auto; }
  .timer-progress-ring circle { fill: none; stroke-width: 5; }
  .timer-ring-bg { stroke: rgba(255,183,3,0.15); }
  .timer-ring-fill { stroke: var(--gold); stroke-linecap: round; transition: stroke-dashoffset 1s linear; transform-origin: center; transform: rotate(-90deg); }
  .timer-controls { display: flex; gap: 8px; margin-top: 12px; justify-content: center; }
  .timer-ctrl-btn {
    background: rgba(255,255,255,0.07); border: 1px solid rgba(255,255,255,0.1);
    color: var(--light); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.78rem; letter-spacing: 2px; text-transform: uppercase;
    padding: 6px 14px; border-radius: 6px; cursor: pointer; transition: all 0.2s;
  }
  .timer-ctrl-btn:hover { background: rgba(255,183,3,0.15); border-color: rgba(255,183,3,0.4); color: var(--gold); }
  .timer-presets { display: flex; gap: 6px; margin-top: 10px; justify-content: center; }
  .timer-preset {
    background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
    color: var(--gray); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.7rem; letter-spacing: 1px; padding: 4px 10px;
    border-radius: 4px; cursor: pointer; transition: all 0.2s;
  }
  .timer-preset:hover { border-color: var(--gold); color: var(--gold); }

  /* ── WORKOUT TRACKER ── */
  #workout-tracker { border-top: 1px solid rgba(255,255,255,0.05); }

  .tracker-container {
    display: grid; grid-template-columns: 1fr 1fr; gap: 32px; align-items: start;
  }
  @media (max-width: 900px) { .tracker-container { grid-template-columns: 1fr; } }

  .tracker-form {
    background: var(--dark2); border: 1px solid rgba(255,107,53,0.2);
    border-radius: 10px; padding: 28px;
  }
  .tracker-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.3rem; letter-spacing: 2px; color: var(--orange); margin-bottom: 20px; display: flex; align-items: center; gap: 8px; }

  .tracker-fields { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 12px; }
  .tracker-field { display: flex; flex-direction: column; gap: 4px; }
  .tracker-field label { font-family: 'Barlow Condensed', sans-serif; font-size: 0.68rem; letter-spacing: 2px; text-transform: uppercase; color: var(--gray); }
  .tracker-input {
    background: var(--dark3); border: 1px solid rgba(255,255,255,0.1);
    border-radius: 4px; color: var(--light); padding: 8px 10px;
    font-family: 'Barlow', sans-serif; font-size: 0.9rem;
    outline: none; transition: border-color 0.3s;
  }
  .tracker-input:focus { border-color: var(--orange); }
  .tracker-select {
    background: var(--dark3); border: 1px solid rgba(255,255,255,0.1);
    border-radius: 4px; color: var(--light); padding: 8px 10px;
    font-family: 'Barlow', sans-serif; font-size: 0.9rem;
    outline: none; appearance: none; cursor: pointer;
    transition: border-color 0.3s;
  }
  .tracker-select:focus { border-color: var(--orange); }
  .tracker-add-btn {
    background: linear-gradient(135deg, var(--red), var(--orange));
    color: white; border: none; padding: 10px 20px;
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.85rem;
    letter-spacing: 2px; text-transform: uppercase; cursor: pointer;
    border-radius: 4px; transition: all 0.2s; margin-top: 4px;
  }
  .tracker-add-btn:hover { box-shadow: 0 4px 20px rgba(230,57,70,0.4); transform: translateY(-1px); }

  .tracker-log {
    background: var(--dark2); border: 1px solid rgba(255,255,255,0.07);
    border-radius: 10px; padding: 28px;
  }
  .tracker-log-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.3rem; letter-spacing: 2px; margin-bottom: 16px; }
  .tracker-empty { color: var(--gray); font-size: 0.88rem; text-align: center; padding: 40px 0; }
  .tracker-session { margin-bottom: 20px; }
  .tracker-session-date { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 3px; text-transform: uppercase; color: var(--red); margin-bottom: 10px; }
  .tracker-entry {
    display: flex; gap: 12px; align-items: center;
    background: var(--dark3); border-radius: 6px; padding: 10px 14px;
    margin-bottom: 6px; transition: all 0.2s;
  }
  .tracker-entry:hover { border-color: rgba(230,57,70,0.3); }
  .tracker-ex-name { font-family: 'Barlow Condensed', sans-serif; font-size: 0.9rem; letter-spacing: 1px; flex: 1; }
  .tracker-badge {
    background: rgba(255,107,53,0.15); color: var(--orange);
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem;
    letter-spacing: 1px; padding: 2px 8px; border-radius: 3px;
  }
  .tracker-delete { background: none; border: none; color: rgba(255,255,255,0.2); cursor: pointer; font-size: 0.9rem; transition: color 0.2s; }
  .tracker-delete:hover { color: var(--red); }
  .tracker-stats { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 16px; }
  .tracker-stat-card {
    background: var(--dark3); border-radius: 6px; padding: 12px;
    text-align: center;
  }
  .tracker-stat-val { font-family: 'Bebas Neue', sans-serif; font-size: 1.6rem; color: var(--red); }
  .tracker-stat-lbl { font-size: 0.68rem; letter-spacing: 2px; text-transform: uppercase; color: var(--gray); }
  .tracker-clear-btn {
    width: 100%; background: transparent; border: 1px solid rgba(255,255,255,0.1);
    color: var(--gray); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.78rem; letter-spacing: 2px; text-transform: uppercase;
    padding: 8px; border-radius: 4px; cursor: pointer; transition: all 0.2s;
    margin-top: 12px;
  }
  .tracker-clear-btn:hover { border-color: var(--red); color: var(--red); }

  /* ── MODE SÉANCE PROFESSIONNEL ── */
  #session-mode-btn {
    position: fixed; bottom: 24px; left: 24px; z-index: 10000;
    background: linear-gradient(135deg, var(--red), var(--orange));
    color: white; border: none;
    padding: 13px 22px; border-radius: 50px;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.82rem; letter-spacing: 3px; text-transform: uppercase;
    cursor: pointer; box-shadow: 0 8px 30px rgba(230,57,70,0.45);
    transition: all 0.3s; display: flex; align-items: center; gap: 8px;
  }
  #session-mode-btn:hover { transform: translateY(-2px); box-shadow: 0 12px 40px rgba(230,57,70,0.6); }
  #session-mode-btn .btn-notif-dot {
    width: 7px; height: 7px; border-radius: 50%; background: #fff;
    animation: pulse-dot 1.6s infinite; display: none;
  }
  #session-mode-btn.has-scheduled .btn-notif-dot { display: block; }
  @keyframes pulse-dot { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.4;transform:scale(0.7)} }

  /* ── OVERLAY PRINCIPAL ── */
  #session-overlay {
    display: none; position: fixed; inset: 0;
    background: rgba(0,0,0,0.94); z-index: 3000;
    backdrop-filter: blur(16px);
    align-items: center; justify-content: center; padding: 16px;
  }
  #session-overlay.active { display: flex; animation: modalFadeIn 0.3s ease both; }

  /* Panel principal — tabs */
  .session-shell {
    background: #0e0e14;
    border: 1px solid rgba(230,57,70,0.25);
    border-radius: 24px;
    width: 100%; max-width: 680px;
    max-height: 92vh; overflow: hidden;
    display: flex; flex-direction: column;
    box-shadow: 0 40px 100px rgba(0,0,0,0.8);
    animation: fadeUp 0.4s cubic-bezier(0.16,1,0.3,1) both;
  }

  /* MOBILE — plein écran ancré en bas */
  @media (max-width: 768px) {
    #session-overlay {
      padding: 0;
      align-items: flex-end;
      justify-content: flex-end;
    }
    .session-shell {
      border-radius: 20px 20px 0 0;
      max-width: 100% !important;
      width: 100% !important;
      height: 92vh !important;
      height: 92dvh !important;
      max-height: none !important;
      flex-shrink: 0;
      border-left: none;
      border-right: none;
      border-bottom: none;
      animation: slideUp 0.35s cubic-bezier(0.16,1,0.3,1) both;
      padding-bottom: env(safe-area-inset-bottom, 0px);
    }
  }

  /* Header de l'overlay */
  .session-shell-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 18px 24px 0;
    flex-shrink: 0;
  }
  .session-shell-logo {
    font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; letter-spacing: 4px;
    background: linear-gradient(90deg, var(--red), var(--orange));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  }
  .session-shell-close {
    background: rgba(255,255,255,0.07); border: none; color: rgba(255,255,255,0.6);
    width: 30px; height: 30px; border-radius: 50%; cursor: pointer; transition: all 0.2s;
    font-size: 0.9rem; display: flex; align-items: center; justify-content: center;
  }
  .session-shell-close:hover { background: var(--red); color: white; }

  /* Tabs */
  .session-tabs {
    display: flex; gap: 0; padding: 16px 24px 0; flex-shrink: 0;
    border-bottom: 1px solid rgba(255,255,255,0.06); margin-top: 12px;
  }
  .session-tab {
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.78rem; letter-spacing: 3px;
    text-transform: uppercase; color: var(--gray); background: none; border: none;
    padding: 10px 18px; cursor: pointer; border-bottom: 2px solid transparent;
    transition: all 0.2s; margin-bottom: -1px;
  }
  .session-tab:hover { color: var(--light); }
  .session-tab.active { color: white; border-bottom-color: var(--red); }

  /* Body scrollable */
  .session-body { overflow-y: auto; flex: 1; padding: 24px; }
  .session-body::-webkit-scrollbar { width: 3px; }
  .session-body::-webkit-scrollbar-thumb { background: var(--red); border-radius: 2px; }

  /* Tab panes */
  .session-pane { display: none; }
  .session-pane.active { display: block; }

  /* ── PANE: DÉMARRER ── */
  .prog-select-grid {
    display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px;
  }
  @media(max-width:768px){ .prog-select-grid { grid-template-columns: 1fr; gap: 10px; } }

  /* ── SESSION SHELL : TOUT ADAPTÉ MOBILE ── */
  @media(max-width:768px){
    /* Bloquer tout overflow horizontal */
    #session-overlay { overflow: hidden; }
    .session-shell {
      overflow-x: hidden;
      max-width: 100vw;
      box-sizing: border-box;
    }
    .session-body {
      padding: 16px;
      overflow-x: hidden;
      box-sizing: border-box;
    }

    /* Tabs plus compacts */
    .session-tabs { padding: 12px 16px 0; gap: 0; }
    .session-tab { font-size: 0.72rem; letter-spacing: 1px; padding: 8px 10px; }

    /* Nom exercice moins grand */
    .live-ex-name { font-size: 1.5rem; }

    /* Input charge/reps/tempo : 3 colonnes → 2 */
    .live-input-row { grid-template-columns: 1fr 1fr; gap: 8px; }

    /* Résumé stats : plus compactes */
    .summary-stats { gap: 8px; }
    .summary-stat { padding: 12px 8px; }
    .summary-stat-val { font-size: 1.4rem; }
    .summary-stat-lbl { font-size: 0.6rem; letter-spacing: 1px; }

    /* Planifier : 2 colonnes → 1 */
    .sch-grid { grid-template-columns: 1fr; gap: 10px; }

    /* Live exercise card moins paddée */
    .live-exercise-card { padding: 16px; }

    /* Header du shell */
    .session-shell-header { padding: 14px 16px 0; }
    .session-shell-logo { font-size: 1.1rem; letter-spacing: 3px; }

    /* Historique : badges qui wrappent */
    .history-badges { flex-wrap: wrap; justify-content: flex-end; max-width: 140px; }
    .history-session-header { align-items: flex-start; }

    /* Eviter les textes longs qui débordent */
    .live-ex-name, .summary-title, .history-prog-name {
      word-break: break-word;
      overflow-wrap: break-word;
    }

    /* Tout élément dans le shell reste dans le shell */
    .session-shell * { max-width: 100%; box-sizing: border-box; }
  }
  .prog-card {
    background: var(--dark3); border: 1px solid rgba(255,255,255,0.08);
    border-radius: 12px; padding: 16px 18px; cursor: pointer; transition: all 0.25s;
    text-align: left;
  }
  .prog-card:hover { border-color: rgba(230,57,70,0.4); transform: translateY(-2px); }
  .prog-card.selected { border-color: var(--red); background: rgba(230,57,70,0.08); }
  .prog-card-icon { font-size: 1.5rem; margin-bottom: 6px; }
  .prog-card-name { font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; letter-spacing: 2px; margin-bottom: 3px; }
  .prog-card-desc { font-size: 0.75rem; color: var(--gray); line-height: 1.5; }
  .prog-card-badge {
    display: inline-block; margin-top: 8px;
    background: rgba(230,57,70,0.15); color: var(--red);
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.65rem; letter-spacing: 2px;
    text-transform: uppercase; padding: 2px 8px; border-radius: 3px;
  }

  /* Day selector */
  .day-selector-wrap { margin-bottom: 20px; }
  .day-selector-label { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 3px; text-transform: uppercase; color: var(--gray); margin-bottom: 10px; }
  .day-selector { display: flex; gap: 6px; flex-wrap: wrap; }
  .day-chip {
    background: var(--dark3); border: 1px solid rgba(255,255,255,0.1);
    color: var(--gray); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.75rem; letter-spacing: 1px; text-transform: uppercase;
    padding: 7px 14px; border-radius: 6px; cursor: pointer; transition: all 0.2s;
  }
  .day-chip:hover { border-color: rgba(255,183,3,0.4); color: var(--gold); }
  .day-chip.selected { background: rgba(255,107,53,0.15); border-color: var(--orange); color: var(--orange); }

  /* Start session button */
  .session-start-btn {
    width: 100%; background: linear-gradient(135deg, var(--red), var(--orange));
    color: white; border: none; padding: 16px;
    font-family: 'Bebas Neue', sans-serif; font-size: 1.3rem; letter-spacing: 4px;
    cursor: pointer; border-radius: 10px; transition: all 0.2s;
    box-shadow: 0 6px 24px rgba(230,57,70,0.4); margin-top: 8px;
  }
  .session-start-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 36px rgba(230,57,70,0.55); }
  .session-start-btn:disabled { opacity: 0.4; cursor: not-allowed; transform: none; }

  /* ── PANE: SÉANCE EN COURS ── */
  .live-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 20px; padding-bottom: 16px;
    border-bottom: 1px solid rgba(255,255,255,0.07);
  }
  .live-prog-name { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 3px; text-transform: uppercase; color: var(--red); }
  .live-elapsed {
    font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem;
    color: var(--orange); letter-spacing: 2px;
  }

  .live-progress-bar-wrap { margin-bottom: 24px; }
  .live-progress-text { display: flex; justify-content: space-between; font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 2px; color: var(--gray); margin-bottom: 6px; }
  .live-progress-track { height: 3px; background: rgba(255,255,255,0.08); border-radius: 2px; }
  .live-progress-fill { height: 100%; background: linear-gradient(90deg, var(--red), var(--orange)); border-radius: 2px; transition: width 0.5s ease; }

  .live-exercise-card {
    background: linear-gradient(135deg, rgba(230,57,70,0.08), rgba(255,107,53,0.04));
    border: 1px solid rgba(230,57,70,0.2); border-radius: 14px; padding: 24px;
    margin-bottom: 20px;
  }
  .live-ex-muscle { font-family: 'Barlow Condensed', sans-serif; font-size: 0.68rem; letter-spacing: 3px; text-transform: uppercase; color: var(--red); margin-bottom: 6px; }
  .live-ex-name { font-family: 'Bebas Neue', sans-serif; font-size: 2rem; letter-spacing: 2px; line-height: 1; margin-bottom: 8px; }
  .live-ex-prescription { font-family: 'Barlow Condensed', sans-serif; font-size: 1rem; letter-spacing: 2px; color: var(--orange); margin-bottom: 20px; }

  /* Série tracker inline */
  .live-sets-row { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 20px; }
  .live-set-bubble {
    width: 44px; height: 44px; border-radius: 50%;
    border: 2px solid rgba(255,255,255,0.15);
    display: flex; align-items: center; justify-content: center;
    font-family: 'Bebas Neue', sans-serif; font-size: 1rem;
    cursor: pointer; transition: all 0.25s; color: var(--gray);
    position: relative;
  }
  .live-set-bubble.done { border-color: var(--red); background: rgba(230,57,70,0.2); color: white; }
  .live-set-bubble.done::after { content: '✓'; position: absolute; }
  .live-set-bubble.done span { display: none; }
  .live-set-bubble:hover:not(.done) { border-color: var(--orange); color: var(--light); }

  /* Input charge + reps */
  .live-input-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 16px; }
  .live-input-group { display: flex; flex-direction: column; gap: 4px; }
  .live-input-label { font-family: 'Barlow Condensed', sans-serif; font-size: 0.65rem; letter-spacing: 2px; text-transform: uppercase; color: var(--gray); }
  .live-input {
    background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px; color: var(--light); padding: 10px 12px;
    font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; letter-spacing: 1px;
    text-align: center; outline: none; transition: border-color 0.2s;
    width: 100%;
  }
  .live-input:focus { border-color: var(--orange); }

  /* Bouton "Série validée" */
  .live-validate-btn {
    width: 100%; background: linear-gradient(135deg, var(--red), var(--orange));
    color: white; border: none; padding: 14px;
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.9rem; letter-spacing: 3px;
    text-transform: uppercase; cursor: pointer; border-radius: 10px; transition: all 0.2s;
    margin-bottom: 12px;
  }
  .live-validate-btn:hover { box-shadow: 0 6px 24px rgba(230,57,70,0.4); }

  /* Notes texte */
  .live-notes {
    width: 100%; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);
    border-radius: 8px; color: var(--gray); padding: 10px 14px;
    font-family: 'Barlow', sans-serif; font-size: 0.85rem; outline: none;
    resize: none; transition: border-color 0.2s;
  }
  .live-notes:focus { border-color: rgba(255,255,255,0.2); }

  /* Nav prev/next */
  .live-nav { display: flex; gap: 10px; margin-top: 16px; }
  .live-nav-btn {
    flex: 1; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
    color: var(--light); padding: 13px; border-radius: 8px;
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.82rem; letter-spacing: 2px;
    text-transform: uppercase; cursor: pointer; transition: all 0.2s;
  }
  .live-nav-btn:hover { background: rgba(255,255,255,0.09); }
  .live-nav-btn.finish { background: linear-gradient(135deg, #11998e, #38ef7d); border-color: transparent; color: #0a0a0c; font-weight: 700; }
  .live-nav-btn.finish:hover { box-shadow: 0 6px 24px rgba(17,153,142,0.4); }

  /* Timer compact */
  .live-timer-bar {
    display: flex; align-items: center; gap: 12px;
    background: rgba(255,183,3,0.07); border: 1px solid rgba(255,183,3,0.2);
    border-radius: 10px; padding: 10px 16px; margin-bottom: 12px;
  }
  .live-timer-count { font-family: 'Bebas Neue', sans-serif; font-size: 1.6rem; color: var(--gold); letter-spacing: 2px; min-width: 60px; }
  .live-timer-presets { display: flex; gap: 6px; flex: 1; flex-wrap: wrap; }
  .live-timer-preset {
    background: rgba(255,183,3,0.1); border: 1px solid rgba(255,183,3,0.2);
    color: var(--gold); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.72rem; letter-spacing: 1px; padding: 4px 10px;
    border-radius: 4px; cursor: pointer; transition: all 0.2s;
  }
  .live-timer-preset:hover, .live-timer-preset.active-preset { background: rgba(255,183,3,0.25); border-color: var(--gold); }
  .live-timer-stop { background: none; border: none; color: rgba(255,255,255,0.3); cursor: pointer; font-size: 0.9rem; transition: color 0.2s; }
  .live-timer-stop:hover { color: var(--red); }

  /* Summary screen */
  .session-summary {
    text-align: center; padding: 20px 0;
  }
  .summary-icon { font-size: 3.5rem; margin-bottom: 16px; }
  .summary-title { font-family: 'Bebas Neue', sans-serif; font-size: 2.2rem; letter-spacing: 3px; background: linear-gradient(135deg, #11998e, #38ef7d); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px; }
  .summary-sub { font-family: 'Barlow Condensed', sans-serif; font-size: 0.85rem; letter-spacing: 2px; color: var(--gray); margin-bottom: 28px; }
  .summary-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 24px; }
  .summary-stat { background: var(--dark3); border-radius: 10px; padding: 16px; }
  .summary-stat-val { font-family: 'Bebas Neue', sans-serif; font-size: 1.8rem; color: var(--red); }
  .summary-stat-lbl { font-size: 0.68rem; letter-spacing: 2px; text-transform: uppercase; color: var(--gray); }
  .summary-entries { text-align: left; margin-bottom: 20px; }
  .summary-entry { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.05); font-family: 'Barlow Condensed', sans-serif; font-size: 0.9rem; letter-spacing: 1px; }
  .summary-entry:last-child { border-bottom: none; }
  .summary-entry-name { flex: 1; }
  .summary-entry-badge { background: rgba(255,107,53,0.15); color: var(--orange); font-size: 0.72rem; letter-spacing: 1px; padding: 2px 8px; border-radius: 3px; }
  .summary-save-btn { width: 100%; background: linear-gradient(135deg, var(--red), var(--orange)); color: white; border: none; padding: 15px; font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; letter-spacing: 4px; cursor: pointer; border-radius: 10px; transition: all 0.2s; }
  .summary-save-btn:hover { box-shadow: 0 8px 30px rgba(230,57,70,0.45); }

  /* ── PANE: PLANIFIER ── */
  .schedule-form { display: flex; flex-direction: column; gap: 16px; }
  .sch-field label { display: block; font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 3px; text-transform: uppercase; color: var(--gray); margin-bottom: 6px; }
  .sch-input, .sch-select {
    width: 100%; background: var(--dark3); border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px; color: var(--light); padding: 11px 14px;
    font-family: 'Barlow', sans-serif; font-size: 0.95rem; outline: none;
    transition: border-color 0.3s; appearance: none;
  }
  .sch-input:focus, .sch-select:focus { border-color: var(--orange); }
  .sch-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
  .sch-submit {
    width: 100%; background: linear-gradient(135deg, var(--orange), var(--gold));
    color: #0a0a0c; border: none; padding: 14px;
    font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; letter-spacing: 4px;
    cursor: pointer; border-radius: 10px; transition: all 0.2s; font-weight: 700;
  }
  .sch-submit:hover { box-shadow: 0 8px 30px rgba(255,183,3,0.4); transform: translateY(-1px); }

  .schedule-list { margin-top: 24px; }
  .schedule-list-title { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 3px; text-transform: uppercase; color: var(--gray); margin-bottom: 12px; }
  .sch-item {
    display: flex; align-items: center; gap: 12px;
    background: var(--dark3); border: 1px solid rgba(255,255,255,0.07);
    border-radius: 10px; padding: 12px 16px; margin-bottom: 8px; transition: all 0.2s;
  }
  .sch-item:hover { border-color: rgba(255,183,3,0.3); }
  .sch-item-icon { font-size: 1.4rem; flex-shrink: 0; }
  .sch-item-info { flex: 1; }
  .sch-item-prog { font-family: 'Barlow Condensed', sans-serif; font-size: 0.9rem; letter-spacing: 1px; }
  .sch-item-time { font-size: 0.75rem; color: var(--gray); margin-top: 2px; }
  .sch-item-countdown {
    font-family: 'Bebas Neue', sans-serif; font-size: 0.85rem; letter-spacing: 1px;
    background: rgba(255,183,3,0.12); color: var(--gold); padding: 3px 10px; border-radius: 4px;
    flex-shrink: 0;
  }
  .sch-item-countdown.soon { background: rgba(230,57,70,0.15); color: var(--red); animation: pulse-dot 1s infinite; }
  .sch-item-del { background: none; border: none; color: rgba(255,255,255,0.2); cursor: pointer; transition: color 0.2s; font-size: 1rem; }
  .sch-item-del:hover { color: var(--red); }

  /* Notif permission banner */
  .notif-banner {
    background: rgba(255,183,3,0.08); border: 1px solid rgba(255,183,3,0.25);
    border-radius: 10px; padding: 14px 18px; margin-bottom: 20px;
    display: flex; align-items: center; gap: 12px;
  }
  .notif-banner-text { font-size: 0.85rem; color: var(--light); line-height: 1.5; flex: 1; }
  .notif-banner-btn {
    background: var(--gold); color: #0a0a0c; border: none;
    padding: 8px 16px; border-radius: 6px; cursor: pointer;
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.78rem;
    letter-spacing: 2px; text-transform: uppercase; font-weight: 700;
    flex-shrink: 0; transition: all 0.2s;
  }
  .notif-banner-btn:hover { background: var(--orange); }

  /* ── PANE: HISTORIQUE ── */
  .history-empty { text-align: center; padding: 40px 0; color: var(--gray); font-size: 0.88rem; line-height: 1.8; }
  .history-session {
    background: var(--dark3); border: 1px solid rgba(255,255,255,0.07);
    border-radius: 12px; margin-bottom: 12px; overflow: hidden; transition: all 0.2s;
  }
  .history-session:hover { border-color: rgba(230,57,70,0.2); }
  .history-session-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 14px 18px; cursor: pointer; transition: background 0.2s;
  }
  .history-session-header:hover { background: rgba(255,255,255,0.02); }
  .history-date-block { display: flex; flex-direction: column; }
  .history-date { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 3px; text-transform: uppercase; color: var(--gray); }
  .history-prog-name { font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; letter-spacing: 2px; margin-top: 2px; }
  .history-badges { display: flex; gap: 6px; align-items: center; }
  .history-badge { background: rgba(230,57,70,0.12); color: var(--red); font-family: 'Barlow Condensed', sans-serif; font-size: 0.68rem; letter-spacing: 2px; text-transform: uppercase; padding: 3px 8px; border-radius: 4px; }
  .history-badge.green { background: rgba(56,239,125,0.12); color: #38ef7d; }
  .history-session-body { display: none; padding: 0 18px 16px; }
  .history-session.open .history-session-body { display: block; }
  .history-ex-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.04); font-size: 0.85rem; }
  .history-ex-row:last-child { border-bottom: none; }
  .history-ex-name { font-family: 'Barlow Condensed', sans-serif; letter-spacing: 1px; }
  .history-ex-detail { color: var(--gray); font-size: 0.78rem; }
  .history-ex-pr { color: var(--gold); font-size: 0.72rem; letter-spacing: 1px; }
  .history-delete-btn {
    width: 100%; background: transparent; border: 1px solid rgba(255,0,0,0.15);
    color: rgba(255,0,0,0.4); padding: 8px; border-radius: 6px;
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 2px;
    text-transform: uppercase; cursor: pointer; transition: all 0.2s; margin-top: 12px;
  }
  .history-delete-btn:hover { border-color: var(--red); color: var(--red); background: rgba(230,57,70,0.07); }

  /* Stats globales */
  .global-stats { display: grid; grid-template-columns: repeat(4,1fr); gap: 10px; margin-bottom: 24px; }
  @media(max-width:768px){ .global-stats { grid-template-columns: repeat(2,1fr); } }
  .gstat { background: var(--dark3); border-radius: 10px; padding: 14px; text-align: center; }
  .gstat-val { font-family: 'Bebas Neue', sans-serif; font-size: 1.5rem; background: linear-gradient(135deg, var(--red), var(--orange)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
  .gstat-lbl { font-size: 0.65rem; letter-spacing: 2px; text-transform: uppercase; color: var(--gray); }

  /* ── FAQ ── */
  #faq { border-top: 1px solid rgba(255,255,255,0.05); }

  .faq-list { max-width: 800px; margin: 0 auto; }
  .faq-item {
    background: var(--dark2); border: 1px solid rgba(255,255,255,0.07);
    border-radius: 8px; margin-bottom: 10px; overflow: hidden;
    transition: border-color 0.3s;
  }
  .faq-item:hover { border-color: rgba(230,57,70,0.25); }
  .faq-question {
    display: flex; justify-content: space-between; align-items: center;
    padding: 20px 24px; cursor: pointer;
    font-family: 'Barlow Condensed', sans-serif; font-size: 1rem;
    letter-spacing: 1px; transition: color 0.2s;
  }
  .faq-question:hover { color: var(--red); }
  .faq-icon { font-size: 1.2rem; color: var(--red); transition: transform 0.3s; flex-shrink: 0; }
  .faq-item.open .faq-icon { transform: rotate(45deg); }
  .faq-answer {
    max-height: 0; overflow: hidden; transition: max-height 0.4s ease;
    font-size: 0.88rem; color: #aaa; line-height: 1.8;
  }
  .faq-answer-inner { padding: 0 24px 20px; }
  .faq-item.open .faq-answer { max-height: 500px; }

  /* ── CALCUL EXPORT / COPY ── */
  .calc-export-btn {
    display: inline-flex; align-items: center; gap: 6px;
    background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12);
    color: var(--gray); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.75rem; letter-spacing: 2px; text-transform: uppercase;
    padding: 8px 16px; border-radius: 4px; cursor: pointer;
    transition: all 0.2s; margin-top: 12px;
  }
  .calc-export-btn:hover { border-color: var(--orange); color: var(--orange); }

  /* ── SCROLL HINT pour tabs ── */
  .tabs-scroll-hint {
    position: relative;
  }
  .tabs-scroll-hint::after {
    content: '›';
    position: absolute; right: 0; top: 50%; transform: translateY(-50%);
    color: var(--red); font-size: 1.4rem; opacity: 0.6; pointer-events: none;
  }
  @media (min-width: 769px) { .tabs-scroll-hint::after { display: none; } }

  /* ── ARIA: Skip link ── */
  .skip-link {
    position: fixed; top: -999px; left: 8px;
    background: var(--red); color: white; padding: 8px 16px; border-radius: 4px;
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.9rem; letter-spacing: 2px;
    z-index: 9999; text-decoration: none; transition: top 0.2s;
  }
  .skip-link:focus { top: 8px; }

  .live-set-bubble.pr { background: rgba(255,183,3,0.3) !important; border-color: var(--gold) !important; }
  .live-set-bubble.pr span { color: var(--gold); font-size: 0.7rem; }

  /* ── PROG CARD CUSTOM ── */
  .prog-card-custom {
    border-color: rgba(255,183,3,0.25) !important;
    background: linear-gradient(135deg, rgba(255,183,3,0.06), rgba(255,107,53,0.04)) !important;
  }
  .prog-card-custom:hover { border-color: rgba(255,183,3,0.5) !important; }

  /* ── CUSTOM PROGRAM BUILDER MODAL ── */
  #custom-prog-overlay {
    display: none; position: fixed; inset: 0;
    background: rgba(0,0,0,0.7);
    backdrop-filter: blur(8px);
    z-index: 4000;
    overflow-y: auto;
    padding: 20px;
    align-items: flex-start;
    justify-content: center;
  }
  #custom-prog-overlay.active { display: flex; }

  .cpb-shell {
    background: linear-gradient(145deg, #13131a, #1a1a24);
    border: 1px solid rgba(255,183,3,0.25);
    border-radius: 20px;
    width: 100%; max-width: 720px;
    margin: auto;
    overflow: hidden;
    box-shadow: 0 24px 80px rgba(0,0,0,0.8);
  }
  .cpb-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 20px 28px;
    border-bottom: 1px solid rgba(255,255,255,0.07);
    background: rgba(255,183,3,0.05);
  }
  .cpb-title {
    font-family: 'Bebas Neue', sans-serif; font-size: 1.5rem;
    letter-spacing: 3px;
    background: linear-gradient(90deg, var(--gold), var(--orange));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  }
  .cpb-close {
    background: none; border: none; color: var(--gray);
    font-size: 1.3rem; cursor: pointer; line-height: 1; transition: color 0.2s;
  }
  .cpb-close:hover { color: var(--red); }
  .cpb-body { padding: 24px 28px; }
  .cpb-prog-name-input {
    width: 100%; background: var(--dark3);
    border: 1px solid rgba(255,183,3,0.3);
    border-radius: 8px; color: var(--light);
    padding: 12px 16px; font-family: 'Barlow Condensed', sans-serif;
    font-size: 1.1rem; letter-spacing: 2px;
    outline: none; margin-bottom: 20px; transition: border-color 0.3s;
  }
  .cpb-prog-name-input:focus { border-color: var(--gold); }
  .cpb-prog-name-input::placeholder { color: rgba(136,136,153,0.5); }

  .cpb-days-list { display: flex; flex-direction: column; gap: 10px; margin-bottom: 12px; }
  .cpb-day {
    background: var(--dark3); border: 1px solid rgba(255,255,255,0.07);
    border-radius: 12px; overflow: hidden; transition: border-color 0.2s;
  }
  .cpb-day:hover { border-color: rgba(255,183,3,0.2); }
  .cpb-day-header {
    display: flex; align-items: center; gap: 10px;
    padding: 13px 16px;
    background: rgba(255,255,255,0.02);
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }
  .cpb-day-toggle {
    font-size: 0.8rem; color: var(--gray);
    cursor: pointer; transition: transform 0.3s;
    margin-left: auto; flex-shrink: 0; background: none; border: none;
  }
  .cpb-day.open .cpb-day-toggle { transform: rotate(180deg); }
  .cpb-day-name-input {
    flex: 1; background: transparent; border: none;
    color: var(--light); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.95rem; letter-spacing: 2px; text-transform: uppercase;
    outline: none;
  }
  .cpb-day-name-input::placeholder { color: rgba(136,136,153,0.4); }
  .cpb-day-remove {
    background: none; border: none; color: rgba(255,0,0,0.3);
    cursor: pointer; font-size: 0.85rem; transition: color 0.2s; flex-shrink: 0;
  }
  .cpb-day-remove:hover { color: var(--red); }
  .cpb-day-body { display: none; padding: 12px 16px 16px; }
  .cpb-day.open .cpb-day-body { display: block; }

  .cpb-ex-labels {
    display: grid; grid-template-columns: 1fr 58px 58px 72px 28px;
    gap: 6px; margin-bottom: 4px; padding: 0 4px;
  }
  .cpb-ex-label {
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.58rem;
    letter-spacing: 2px; text-transform: uppercase; color: var(--gray); opacity: 0.6;
  }
  .cpb-exercises-list { display: flex; flex-direction: column; gap: 6px; margin-bottom: 8px; }
  .cpb-ex {
    display: grid; grid-template-columns: 1fr 58px 58px 72px 28px;
    gap: 6px; align-items: center;
    background: rgba(255,255,255,0.025);
    border-radius: 8px; padding: 7px 8px;
    border: 1px solid rgba(255,255,255,0.05); transition: border-color 0.2s;
  }
  .cpb-ex:hover { border-color: rgba(255,183,3,0.15); }
  .cpb-ex-input {
    background: var(--dark2); border: 1px solid rgba(255,255,255,0.08);
    border-radius: 6px; color: var(--light);
    padding: 6px 8px; font-family: 'Barlow', sans-serif; font-size: 0.82rem;
    outline: none; width: 100%; transition: border-color 0.2s;
  }
  .cpb-ex-input:focus { border-color: var(--gold); }
  .cpb-ex-input::placeholder { color: rgba(136,136,153,0.4); font-size: 0.7rem; }
  .cpb-ex-del {
    background: none; border: none; color: rgba(255,0,0,0.3);
    cursor: pointer; font-size: 0.85rem; text-align: center; transition: color 0.2s;
  }
  .cpb-ex-del:hover { color: var(--red); }

  .cpb-add-ex-btn {
    display: flex; align-items: center; gap: 6px; justify-content: center;
    width: 100%; background: rgba(255,183,3,0.06);
    border: 1px dashed rgba(255,183,3,0.25);
    color: var(--gold); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.78rem; letter-spacing: 2px; text-transform: uppercase;
    padding: 8px; border-radius: 8px; cursor: pointer; transition: all 0.2s;
  }
  .cpb-add-ex-btn:hover { background: rgba(255,183,3,0.12); border-color: rgba(255,183,3,0.4); }

  .cpb-add-day-btn {
    display: flex; align-items: center; gap: 8px; justify-content: center;
    width: 100%; background: rgba(255,255,255,0.02);
    border: 1px dashed rgba(255,255,255,0.12);
    color: var(--gray); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.8rem; letter-spacing: 3px; text-transform: uppercase;
    padding: 13px; border-radius: 12px; cursor: pointer; transition: all 0.2s;
  }
  .cpb-add-day-btn:hover { border-color: rgba(255,183,3,0.3); color: var(--gold); background: rgba(255,183,3,0.03); }

  .cpb-footer {
    display: flex; gap: 10px; padding: 18px 28px;
    border-top: 1px solid rgba(255,255,255,0.07);
  }
  .cpb-save-btn {
    flex: 1; background: linear-gradient(135deg, var(--gold), var(--orange));
    color: #0a0a0c; border: none; padding: 13px;
    font-family: 'Bebas Neue', sans-serif; font-size: 1.15rem; letter-spacing: 4px;
    cursor: pointer; border-radius: 10px; transition: all 0.2s; font-weight: 700;
  }
  .cpb-save-btn:hover { box-shadow: 0 8px 28px rgba(255,183,3,0.35); transform: translateY(-1px); }
  .cpb-cancel-btn {
    background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
    color: var(--gray); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.88rem; letter-spacing: 2px; text-transform: uppercase;
    padding: 13px 20px; border-radius: 10px; cursor: pointer; transition: all 0.2s;
  }
  .cpb-cancel-btn:hover { border-color: var(--red); color: var(--red); }

  .cpb-saved-section { margin-bottom: 20px; }
  .cpb-saved-title {
    font-family: 'Barlow Condensed', sans-serif; font-size: 0.62rem;
    letter-spacing: 3px; text-transform: uppercase; color: var(--gray);
    opacity: 0.6; margin-bottom: 8px;
  }
  .cpb-saved-item {
    display: flex; align-items: center; gap: 10px;
    background: rgba(255,183,3,0.05); border: 1px solid rgba(255,183,3,0.18);
    border-radius: 8px; padding: 10px 14px; margin-bottom: 6px;
    transition: all 0.2s;
  }
  .cpb-saved-item:hover { border-color: rgba(255,183,3,0.35); background: rgba(255,183,3,0.09); }
  .cpb-saved-item-name { flex: 1; font-family: 'Barlow Condensed', sans-serif; font-size: 0.9rem; letter-spacing: 1px; }
  .cpb-saved-item-meta { font-size: 0.7rem; color: var(--gray); }
  .cpb-saved-item-edit {
    background: rgba(255,183,3,0.1); border: 1px solid rgba(255,183,3,0.2);
    color: var(--gold); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.65rem; letter-spacing: 1px; text-transform: uppercase;
    padding: 3px 8px; border-radius: 4px; cursor: pointer; transition: all 0.2s;
  }
  .cpb-saved-item-edit:hover { background: rgba(255,183,3,0.2); }
  .cpb-saved-item-use {
    background: linear-gradient(135deg, rgba(255,183,3,0.2), rgba(255,107,53,0.15));
    border: 1px solid rgba(255,183,3,0.3);
    color: var(--gold); font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.65rem; letter-spacing: 1px; text-transform: uppercase;
    padding: 3px 10px; border-radius: 4px; cursor: pointer; transition: all 0.2s;
  }
  .cpb-saved-item-use:hover { background: linear-gradient(135deg, rgba(255,183,3,0.35), rgba(255,107,53,0.25)); }
  .cpb-saved-item-del {
    background: none; border: none; color: rgba(255,0,0,0.3);
    cursor: pointer; font-size: 0.9rem; transition: color 0.2s;
  }
  .cpb-saved-item-del:hover { color: var(--red); }

  /* ANIMATIONS */
  @keyframes fadeUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes fadeDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }

  .fade-in-up { opacity: 0; transform: translateY(30px); }
  .fade-in-up.visible { animation: fadeUp 0.7s ease forwards; }

  /* HAMBURGER + MENU MOBILE */
  .nav-burger {
    display: none;
    flex-direction: column; gap: 5px;
    background: none; border: none; cursor: pointer; padding: 4px;
  }
  .nav-burger span {
    display: block; width: 24px; height: 2px;
    background: var(--light);
    transition: all 0.3s;
    border-radius: 2px;
  }
  .nav-burger.open span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
  .nav-burger.open span:nth-child(2) { opacity: 0; }
  .nav-burger.open span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

  .mobile-menu {
    display: none;
    position: fixed; top: 56px; left: 0; right: 0;
    background: rgba(10,10,12,0.98);
    backdrop-filter: blur(20px);
    z-index: 999;
    border-bottom: 1px solid rgba(230,57,70,0.2);
    flex-direction: column;
    padding: 8px 0 16px;
    animation: slideDown 0.25s ease both;
  }
  .mobile-menu.open { display: flex; }
  @keyframes slideDown { from { opacity:0; transform:translateY(-8px); } to { opacity:1; transform:translateY(0); } }
  .mobile-menu a {
    color: var(--gray);
    text-decoration: none;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.9rem; letter-spacing: 3px; text-transform: uppercase;
    padding: 14px 24px;
    border-bottom: 1px solid rgba(255,255,255,0.04);
    transition: all 0.2s;
  }
  .mobile-menu a:hover { color: var(--red); padding-left: 32px; }

  @media (max-width: 768px) {
    .nav-burger { display: flex; }
  }
  @media (max-width: 768px) {

    /* NAV */
    nav { padding: 14px 18px; }
    .nav-links { display: none; }
    .logo { font-size: 1.6rem; }

    /* SECTIONS */
    section { padding: 60px 18px !important; }

    /* HERO */
    .hero-content { padding: 100px 18px 60px; }
    .hero-title { font-size: clamp(3.5rem, 18vw, 6rem); }
    .hero-sub { font-size: 1rem; margin: 16px 0 32px; }
    .hero-ctas { flex-direction: column; align-items: center; gap: 12px; }
    .hero-ctas a, .hero-ctas button { width: 100%; max-width: 320px; text-align: center; }
    .hero-stats { gap: 28px; margin-top: 48px; }
    .stat-number { font-size: 2.2rem; }

    /* SECTION HEADERS */
    .section-title { font-size: clamp(2.2rem, 10vw, 3.2rem); }
    .section-num { font-size: 1.1rem; letter-spacing: 3px; }
    .section-header { margin-bottom: 36px; }

    /* PROGRAMME TABS — wrap sur mobile */
    .tabs-wrapper { margin-bottom: 24px; }
    .programme-tabs {
      overflow: visible;
      width: 100%;
      border-radius: 0;
      border: none;
      flex-wrap: wrap;
      gap: 6px;
      background: none;
    }
    .tab-btn {
      font-size: 0.78rem;
      letter-spacing: 1.5px;
      padding: 12px 16px;
      flex: 0 0 auto;
      white-space: nowrap;
      border-radius: 8px !important;
      border: 1px solid rgba(255,255,255,0.1) !important;
      border-right: 1px solid rgba(255,255,255,0.1) !important;
    }
    .tab-btn.active {
      border-color: transparent !important;
    }
    .programme-content.active { grid-template-columns: 1fr; }

    /* DAY CARDS */
    .day-grid { grid-template-columns: 1fr !important; }
    .day-card { border-radius: 10px; }
    .day-header { padding: 18px 20px; }
    .day-name { font-size: 1.6rem; }
    .day-focus { font-size: 0.85rem; letter-spacing: 1.5px; }
    .day-body { padding: 8px 14px 14px; }
    .exercise-item { padding: 13px 8px; gap: 12px; }
    .ex-num { font-size: 1.1rem; min-width: 26px; }
    .ex-name { font-size: 1rem; letter-spacing: 0.5px; }
    .ex-sets { font-size: 0.82rem; margin-top: 3px; }
    .ex-play { width: 36px; height: 36px; font-size: 0.8rem; }

    /* GÉNÉRATEUR */
    .gen-container { grid-template-columns: 1fr !important; }
    .gen-form { padding: 20px; border-radius: 8px; }
    .gen-row { grid-template-columns: 1fr 1fr; gap: 10px; }
    .gen-result { padding: 20px; min-height: 200px; }
    .gen-days-grid { grid-template-columns: 1fr !important; }
    .gen-result-header { flex-direction: column; gap: 12px; text-align: left !important; }

    /* ÉCHAUFFEMENT TABS */
    .wbtn {
      font-size: 0.75rem;
      letter-spacing: 1.5px;
      padding: 11px 14px;
      flex: 0 0 auto;
      white-space: nowrap;
      border-radius: 6px !important;
      border: 1px solid rgba(255,255,255,0.1) !important;
    }
    /* Container échauffement wrap */
    #echauffement .fade-in-up[style*="gap:0"] {
      flex-wrap: wrap !important;
      gap: 6px !important;
      border: none !important;
      border-radius: 0 !important;
      overflow: visible !important;
      width: 100% !important;
    }

    /* EXERCICES CARDS */
    .ex-grid { grid-template-columns: 1fr !important; }
    .ex-card { border-radius: 10px; }
    .ex-card-video { aspect-ratio: 16/9; }
    .ex-card-body { padding: 18px 20px; }
    .ex-card-title { font-size: 1.15rem; }
    .ex-card-muscle { font-size: 0.75rem; padding: 4px 10px; margin-bottom: 8px; }
    .ex-card-desc { font-size: 0.88rem; line-height: 1.7; }
    .ex-card-tips { font-size: 0.82rem; padding: 12px 14px; margin-top: 12px; }

    /* CALCULATEUR */
    .calc-container { grid-template-columns: 1fr !important; gap: 24px; }
    .calc-form { padding: 20px; }
    .calc-results { padding: 20px; }
    .macro-bar { flex-direction: column; gap: 8px; }

    /* PLAN NUTRITION */
    .meal-plan-tabs {
      width: 100% !important;
      flex-wrap: wrap !important;
      border: none !important;
      border-radius: 0 !important;
      gap: 6px !important;
      overflow: visible !important;
    }
    .meal-plan-tabs .tab-btn {
      font-size: 0.75rem; letter-spacing: 1.5px; padding: 11px 14px;
      flex: 0 0 auto !important;
      border-radius: 6px !important;
      border: 1px solid rgba(255,255,255,0.1) !important;
      border-right: 1px solid rgba(255,255,255,0.1) !important;
    }
    .meal-plan-tabs .tab-btn.active { border-color: transparent !important; }
    .meal-day-content.active { grid-template-columns: 1fr; }
    .meal-header { padding: 18px 20px; }
    .meal-time { font-size: 1.3rem; }
    .meal-body { padding: 16px 20px; }
    .meal-food-item { padding: 10px 0; font-size: 0.92rem; }
    .meal-food-amount { font-size: 0.85rem; }
    .meal-macro-val { font-size: 1.4rem; }

    /* RECETTES TABS */
    .recipe-tabs {
      width: 100% !important;
      flex-wrap: wrap !important;
      border: none !important;
      border-radius: 0 !important;
      gap: 6px !important;
      overflow: visible !important;
    }
    .recipe-tab {
      font-size: 0.75rem; letter-spacing: 1.5px; padding: 11px 14px;
      flex: 0 0 auto !important;
      border-radius: 6px !important;
      border: 1px solid rgba(255,255,255,0.1) !important;
      border-right: 1px solid rgba(255,255,255,0.1) !important;
    }
    .recipe-tab.active { border-color: transparent !important; }
    .recipe-grid.active { grid-template-columns: 1fr; }
    .recipe-card { border-radius: 8px; }

    /* FOOD SHOWCASE */
    .food-showcase { grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 24px; }
    .food-cat-card { padding: 16px; }
    .food-cat-emoji { font-size: 2rem; margin-bottom: 8px; }

    /* SUPPLEMENTS */
    .supp-grid { grid-template-columns: 1fr; }

    /* VIDEO MODAL */
    .modal-overlay { padding: 0; align-items: flex-end; }
    .modal-content {
      border-radius: 16px 16px 0 0;
      max-height: 95vh;
      max-width: 100%;
    }
    .modal-play-btn { width: 54px; height: 54px; }
    .modal-info { padding: 16px 18px 32px; }
    .modal-title { font-size: 1.1rem; letter-spacing: 2px; }
    .modal-yt-btn { padding: 7px 12px; font-size: 0.7rem; }

    /* FOOTER */
    footer { padding: 48px 18px; }
    .footer-logo { font-size: 2rem; }

    /* INLINE SECTIONS — échauffement, exercices, etc */
    [style*="padding: 100px 48px"] { padding: 60px 18px !important; }
    [style*="padding:100px 48px"] { padding: 60px 18px !important; }
  }

  /* Petit mobile */
  @media (max-width: 400px) {
    .hero-title { font-size: clamp(3rem, 20vw, 5rem); }
    .tab-btn, .wbtn, .recipe-tab { font-size: 0.65rem; padding: 11px 8px; }
    .food-showcase { grid-template-columns: 1fr; }
    .gen-row { grid-template-columns: 1fr; }
  }

  /* ── AMÉLIORATIONS MOBILE MODE SÉANCE ── */
  @media (max-width: 768px) {

    /* Bouton séance flottant — plus compact, safe area */
    #session-mode-btn {
      bottom: max(16px, env(safe-area-inset-bottom, 16px));
      left: 16px;
      padding: 11px 18px;
      font-size: 0.78rem;
      letter-spacing: 2px;
    }

    /* Timer overlay — full width en bas sur mobile */
    #rest-timer-overlay {
      bottom: 0;
      right: 0;
      left: 0;
      border-radius: 16px 16px 0 0;
      min-width: unset;
      padding: 16px 20px max(16px, env(safe-area-inset-bottom, 16px));
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 12px;
      text-align: left;
    }
    #rest-timer-overlay.active { display: flex; }
    .timer-progress-ring { width: 56px; height: 56px; flex-shrink: 0; margin: 0; }
    .timer-display { font-size: 2.8rem; }
    .timer-controls { margin-top: 6px; }
    .timer-presets { margin-top: 6px; }

    /* Onglets séance — scrollables si trop larges */
    .session-tabs {
      overflow-x: auto;
      scrollbar-width: none;
      -webkit-overflow-scrolling: touch;
      flex-wrap: nowrap;
    }
    .session-tabs::-webkit-scrollbar { display: none; }
    .session-tab { flex-shrink: 0; white-space: nowrap; }

    /* Sous-onglets historique */
    #hist-tab-sessions,
    #hist-tab-progression,
    #hist-tab-records {
      font-size: 0.65rem !important;
      letter-spacing: 1px !important;
      padding: 8px 6px !important;
    }

    /* Custom Program Builder — padding réduit */
    .cpb-body { padding: 14px 14px; }
    .cpb-header { padding: 16px 18px; }
    .cpb-footer { padding: 14px 18px; gap: 8px; }
    .cpb-shell { border-radius: 16px; }
    #custom-prog-overlay { padding: 12px; }

    /* CPB exercices — layout 2 lignes sur mobile */
    .cpb-ex-labels { display: none; }
    .cpb-ex {
      grid-template-columns: 1fr auto;
      grid-template-rows: auto auto;
      gap: 6px;
      padding: 10px 10px;
    }
    /* Nom d'exercice — pleine largeur, ligne 1 */
    .cpb-ex .cpb-ex-input:first-child {
      grid-column: 1 / 2;
      grid-row: 1;
    }
    /* Bouton supprimer — ligne 1, col 2 */
    .cpb-ex .cpb-ex-del {
      grid-column: 2;
      grid-row: 1;
      align-self: center;
    }
    /* Séries, Reps, Repos — 3 colonnes sur ligne 2 */
    .cpb-ex .cpb-ex-input:nth-child(2),
    .cpb-ex .cpb-ex-input:nth-child(3),
    .cpb-ex .cpb-ex-input:nth-child(4) {
      grid-row: 2;
    }
    .cpb-ex .cpb-ex-input:nth-child(2) { grid-column: 1; }
    .cpb-ex .cpb-ex-input:nth-child(3) { grid-column: 1; }
    .cpb-ex .cpb-ex-input:nth-child(4) { grid-column: 1; }
    /* Re-layout en 3 colonnes pour la ligne 2 */
    .cpb-exercises-list .cpb-ex {
      display: grid;
      grid-template-columns: 1fr auto;
      grid-template-rows: auto auto;
    }
    /* Surcharge : les 3 petits inputs côte à côte sur ligne 2 */
    .cpb-ex::after {
      display: none;
    }

    /* Approche plus simple : flex-wrap pour les inputs */
    .cpb-ex {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      align-items: center;
    }
    .cpb-ex .cpb-ex-input:first-child {
      flex: 1 1 100%;
      order: 1;
    }
    .cpb-ex .cpb-ex-input:nth-child(2),
    .cpb-ex .cpb-ex-input:nth-child(3),
    .cpb-ex .cpb-ex-input:nth-child(4) {
      flex: 1 1 calc(33% - 8px);
      order: 2;
      min-width: 60px;
    }
    .cpb-ex .cpb-ex-del {
      order: 1;
      flex-shrink: 0;
    }
    /* Labels placeholder comme guide */
    .cpb-ex .cpb-ex-input:nth-child(2)::placeholder { content: "Séries"; }
    .cpb-ex .cpb-ex-input:nth-child(2) { position: relative; }

    /* CPB prog name */
    .cpb-prog-name-input { font-size: 0.95rem; padding: 10px 14px; }

    /* Live input row — rester 2 colonnes proprement */
    .live-input-row { grid-template-columns: 1fr 1fr; gap: 8px; }

    /* Live header plus compact */
    .live-header { margin-bottom: 14px; padding-bottom: 12px; }

    /* Progrès barre */
    .live-progress-bar-wrap { margin-bottom: 16px; }

    /* Bulles de séries — plus petites */
    .live-set-bubble { width: 38px; height: 38px; font-size: 0.9rem; }

    /* Notes textarea plus compact */
    .live-notes { padding: 8px 12px; font-size: 0.82rem; }

    /* Day chips plus touchables */
    .day-chip { padding: 10px 16px; font-size: 0.8rem; }

    /* Prog card en mode séance */
    .prog-card { padding: 14px 16px; }
    .prog-card-name { font-size: 1rem; }
    .prog-card-desc { font-size: 0.7rem; }

    /* Summary stats texte */
    .summary-title { font-size: 1.8rem; }
  }

  /* Très petits écrans (< 360px) */
  @media (max-width: 360px) {
    .session-tab { font-size: 0.65rem; letter-spacing: 0.5px; padding: 8px 8px; }
    .cpb-ex .cpb-ex-input:nth-child(2),
    .cpb-ex .cpb-ex-input:nth-child(3),
    .cpb-ex .cpb-ex-input:nth-child(4) {
      flex: 1 1 calc(33% - 6px);
      min-width: 52px;
    }
    #session-mode-btn { font-size: 0.7rem; padding: 10px 14px; letter-spacing: 1.5px; }
  }

  /* INTENSITY BADGES */
  .intensity {
    display: inline-flex; gap: 3px; align-items: center;
    margin-left: auto;
  }
  .intensity-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--dark4); }
  .intensity-dot.filled { background: var(--red); }

  /* PROGRAMME TABS */
  .programme-content { display: none; }
  .programme-content.active { display: grid; grid-template-columns: repeat(auto-fill, minmax(min(300px, 100%), 1fr)); gap: 20px; }

  /* FOOD CATEGORIES */
  .food-showcase {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 16px;
    margin-top: 48px;
  }

  .food-cat-card {
    background: var(--dark2);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 8px;
    padding: 24px;
    text-align: center;
    transition: all 0.3s;
  }
  .food-cat-card:hover { border-color: rgba(255,183,3,0.4); transform: translateY(-4px); }
  .food-cat-emoji { font-size: 2.5rem; margin-bottom: 12px; }
  .food-cat-name { font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; letter-spacing: 2px; margin-bottom: 8px; }
  .food-cat-examples { font-size: 0.82rem; color: var(--gray); line-height: 1.7; }
  .food-cat-protein {
    display: inline-block;
    margin-top: 10px;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.75rem;
    letter-spacing: 2px;
    color: var(--gold);
    background: rgba(255,183,3,0.1);
    padding: 2px 10px;
    border-radius: 2px;
  }

  /* SUPPLEMENT SECTION */
  .supp-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(min(260px, 100%), 1fr)); gap: 20px; margin-top: 48px; }
  .supp-card {
    background: var(--dark2);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 8px;
    padding: 28px;
    transition: all 0.3s;
  }
  .supp-card:hover { border-color: rgba(230,57,70,0.3); transform: translateY(-4px); }
  .supp-priority {
    display: inline-block;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.7rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    padding: 3px 10px;
    border-radius: 2px;
    margin-bottom: 12px;
  }
  .priority-essentiel { background: rgba(230,57,70,0.15); color: var(--red); }
  .priority-utile { background: rgba(255,107,53,0.15); color: var(--orange); }
  .priority-optionnel { background: rgba(255,183,3,0.15); color: var(--gold); }
  .supp-name { font-family: 'Bebas Neue', sans-serif; font-size: 1.5rem; letter-spacing: 2px; margin-bottom: 8px; }
  .supp-desc { font-size: 0.85rem; color: var(--gray); line-height: 1.7; }
  .supp-dose { margin-top: 12px; font-size: 0.82rem; color: #aaa; }
  .supp-dose span { color: var(--orange); font-weight: 600; }

  /* GÉNÉRATEUR PERSO */
  .gen-container {
    display: grid;
    grid-template-columns: 380px 1fr;
    gap: 32px;
    align-items: start;
  }
  @media(max-width:900px){ .gen-container { grid-template-columns: 1fr; } }
  .gen-form {
    background: var(--dark2);
    border: 1px solid rgba(255,183,3,0.2);
    border-radius: 12px;
    padding: 32px;
  }
  .gen-form-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.4rem;
    letter-spacing: 2px;
    color: var(--gold);
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .gen-field { margin-bottom: 18px; }
  .gen-label {
    display: block;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.72rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--gray);
    margin-bottom: 8px;
  }
  .gen-input, .gen-select {
    width: 100%;
    background: var(--dark3);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 6px;
    color: var(--light);
    padding: 11px 14px;
    font-family: 'Barlow', sans-serif;
    font-size: 0.95rem;
    outline: none;
    transition: border-color 0.3s;
    appearance: none;
  }
  .gen-input:focus, .gen-select:focus { border-color: var(--gold); }
  .gen-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
  .gen-chips { display: flex; flex-wrap: wrap; gap: 8px; }
  .gen-chip {
    background: var(--dark3);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 20px;
    color: var(--gray);
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.78rem;
    letter-spacing: 1px;
    text-transform: uppercase;
    padding: 6px 16px;
    cursor: pointer;
    transition: all 0.2s;
    user-select: none;
  }
  .gen-chip.selected {
    background: rgba(255,183,3,0.15);
    border-color: rgba(255,183,3,0.5);
    color: var(--gold);
  }
  .gen-btn {
    width: 100%;
    background: linear-gradient(135deg, var(--red), var(--orange));
    color: white;
    border: none;
    padding: 15px;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.88rem;
    letter-spacing: 4px;
    text-transform: uppercase;
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.2s;
    margin-top: 8px;
    box-shadow: 0 4px 20px rgba(230,57,70,0.35);
  }
  .gen-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(230,57,70,0.55); }

  .gen-result {
    background: var(--dark2);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 12px;
    padding: 32px;
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .gen-result.has-content {
    align-items: flex-start;
    justify-content: flex-start;
  }
  .gen-placeholder {
    text-align: center;
    color: var(--gray);
  }
  .gen-placeholder-icon { font-size: 3.5rem; margin-bottom: 16px; opacity: 0.3; }
  .gen-result-content { width: 100%; }
  .gen-result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 20px;
    border-bottom: 1px solid rgba(255,255,255,0.07);
  }
  .gen-result-name {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.8rem;
    letter-spacing: 2px;
    background: linear-gradient(90deg, var(--gold), var(--orange));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .gen-result-meta {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    margin-top: 6px;
  }
  .gen-meta-badge {
    background: rgba(255,255,255,0.07);
    border-radius: 4px;
    padding: 4px 12px;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.75rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--gray);
  }
  .gen-days-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(min(280px, 100%), 1fr));
    gap: 16px;
  }
  .gen-day {
    background: var(--dark3);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 8px;
    overflow: hidden;
  }
  .gen-day-header {
    padding: 12px 16px;
    background: linear-gradient(135deg, rgba(230,57,70,0.15), rgba(255,107,53,0.07));
    border-bottom: 1px solid rgba(255,255,255,0.06);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .gen-day-name { font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; letter-spacing: 2px; }
  .gen-day-focus { font-family: 'Barlow Condensed', sans-serif; font-size: 0.72rem; letter-spacing: 2px; text-transform: uppercase; color: var(--orange); }
  .gen-ex { padding: 10px 16px; border-bottom: 1px solid rgba(255,255,255,0.04); display: flex; gap: 10px; align-items: center; cursor: pointer; transition: background 0.2s; }
  .gen-ex:last-child { border-bottom: none; }
  .gen-ex:hover { background: rgba(255,255,255,0.03); }
  .gen-ex-num { font-family: 'Bebas Neue', sans-serif; color: var(--red); font-size: 1rem; min-width: 22px; }
  .gen-ex-name { font-family: 'Barlow Condensed', sans-serif; font-size: 0.95rem; letter-spacing: 1px; flex: 1; }
  .gen-ex-sets { font-size: 0.75rem; color: var(--gray); }
  .gen-ex-play { width: 26px; height: 26px; background: rgba(230,57,70,0.15); border: 1px solid rgba(230,57,70,0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.6rem; flex-shrink: 0; transition: all 0.2s; }
  .gen-ex:hover .gen-ex-play { background: var(--red); border-color: var(--red); }
  .gen-rest-day {
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--gray);
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.9rem;
    letter-spacing: 1px;
  }

  /* RECETTES */
  #recettes { border-top: 1px solid rgba(255,255,255,0.05); }
  .recipe-tabs { display: flex; gap: 0; margin-bottom: 48px; border: 1px solid rgba(255,255,255,0.08); border-radius: 6px; overflow: hidden; width: fit-content; }
  .recipe-tab {
    background: var(--dark2);
    border: none;
    border-right: 1px solid rgba(255,255,255,0.08);
    color: var(--gray);
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.82rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    padding: 14px 32px;
    cursor: pointer;
    transition: all 0.25s;
    white-space: nowrap;
  }
  .recipe-tab:last-child { border-right: none; }
  .recipe-tab:hover { background: rgba(255,255,255,0.04); color: var(--light); }
  .recipe-tab[onclick*="budget"].active  {
    background: linear-gradient(135deg, #11998e, #38ef7d);
    color: #0a0a0c; font-weight: 700;
    box-shadow: inset 0 0 20px rgba(56,239,125,0.15);
  }
  .recipe-tab[onclick*="standard"].active {
    background: linear-gradient(135deg, var(--red), var(--orange));
    color: white; font-weight: 700;
    box-shadow: inset 0 0 20px rgba(230,57,70,0.2);
  }
  .recipe-tab[onclick*="premium"].active {
    background: linear-gradient(135deg, #f7971e, var(--gold));
    color: #0a0a0c; font-weight: 700;
    box-shadow: inset 0 0 20px rgba(255,183,3,0.2);
  }
  .recipe-grid { display: none; grid-template-columns: repeat(auto-fill, minmax(min(300px, 100%), 1fr)); gap: 24px; }
  .recipe-grid.active { display: grid; }
  .recipe-card {
    background: var(--dark2);
    border: 1px solid rgba(255,255,255,0.07);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s;
  }
  .recipe-card:hover { transform: translateY(-5px); border-color: rgba(255,107,53,0.4); box-shadow: 0 16px 50px rgba(0,0,0,0.4); }
  .recipe-header {
    padding: 20px 24px 16px;
    background: linear-gradient(135deg, rgba(255,107,53,0.12), rgba(255,183,3,0.06));
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }
  .recipe-emoji { font-size: 2rem; margin-bottom: 8px; }
  .recipe-name { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; letter-spacing: 2px; margin-bottom: 4px; }
  .recipe-subtitle { font-family: 'Barlow Condensed', sans-serif; font-size: 0.75rem; letter-spacing: 2px; text-transform: uppercase; color: var(--orange); }
  .recipe-macros {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0;
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }
  .recipe-macro {
    padding: 12px 8px;
    text-align: center;
    border-right: 1px solid rgba(255,255,255,0.06);
  }
  .recipe-macro:last-child { border-right: none; }
  .recipe-macro-val { font-family: 'Bebas Neue', sans-serif; font-size: 1.3rem; }
  .recipe-macro-lbl { font-size: 0.65rem; letter-spacing: 2px; text-transform: uppercase; color: var(--gray); }
  .recipe-macro-val.prot { color: var(--red); }
  .recipe-macro-val.cal { color: var(--orange); }
  .recipe-macro-val.carb { color: #69b3ff; }
  .recipe-macro-val.fat { color: var(--gold); }
  .recipe-body { padding: 20px 24px; }
  .recipe-cost {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: rgba(255,183,3,0.1);
    border: 1px solid rgba(255,183,3,0.2);
    border-radius: 4px;
    padding: 4px 12px;
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.75rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 14px;
  }
  .recipe-ingredients { margin-bottom: 14px; }
  .recipe-ingredients-title {
    font-family: 'Barlow Condensed', sans-serif;
    font-size: 0.7rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--gray);
    margin-bottom: 8px;
  }
  .recipe-ingredient {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 5px 0;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    font-size: 0.88rem;
  }
  .recipe-ingredient:last-child { border-bottom: none; }
  .recipe-ingredient-dot { width: 5px; height: 5px; border-radius: 50%; background: var(--orange); flex-shrink: 0; }
  .recipe-tip {
    margin-top: 12px;
    padding: 10px 14px;
    background: rgba(255,183,3,0.07);
    border-left: 2px solid var(--gold);
    border-radius: 0 4px 4px 0;
    font-size: 0.82rem;
    color: var(--gold);
    line-height: 1.6;
  }
</style>
</head>
<body>
<a href="#programme" class="skip-link">Aller au contenu</a>

<div class="progress-bar" id="progressBar"></div>

<!-- MODE SÉANCE FLOTTANT -->
<button id="session-mode-btn" onclick="openSessionMode()" aria-label="Mode Séance">
  ⚡ Mode Séance
</button>

<!-- TIMER DE REPOS FLOTTANT -->
<div id="rest-timer-overlay" role="timer" aria-live="polite">
  <div class="timer-label">Repos entre séries</div>
  <svg class="timer-progress-ring" viewBox="0 0 80 80">
    <circle class="timer-ring-bg" cx="40" cy="40" r="35"/>
    <circle class="timer-ring-fill" id="timerRingFill" cx="40" cy="40" r="35" stroke-dasharray="220" stroke-dashoffset="0"/>
  </svg>
  <div class="timer-display" id="timerDisplay">3:00</div>
  <div class="timer-presets">
    <button class="timer-preset" onclick="setTimer(90)">1:30</button>
    <button class="timer-preset" onclick="setTimer(120)">2:00</button>
    <button class="timer-preset" onclick="setTimer(180)">3:00</button>
    <button class="timer-preset" onclick="setTimer(300)">5:00</button>
  </div>
  <div class="timer-controls">
    <button class="timer-ctrl-btn" onclick="toggleTimer()" id="timerStartBtn">Démarrer</button>
    <button class="timer-ctrl-btn" onclick="resetTimer()">Reset</button>
    <button class="timer-ctrl-btn" onclick="closeTimer()">✕</button>
  </div>
</div>

<!-- SESSION MODE OVERLAY PROFESSIONNEL -->
<div id="session-overlay">
  <div class="session-shell">

    <!-- Header -->
    <div class="session-shell-header">
      <div class="session-shell-logo">⚡ IRONFORGE</div>
      <button class="session-shell-close" onclick="closeSessionMode()">✕</button>
    </div>

    <!-- Tabs -->
    <div class="session-tabs">
      <button class="session-tab active" onclick="switchSessionTab('start')" id="stab-start">Démarrer</button>
      <button class="session-tab" onclick="switchSessionTab('live')" id="stab-live" style="display:none;">🔴 En cours</button>
      <button class="session-tab" onclick="switchSessionTab('schedule')" id="stab-schedule">Planifier</button>
      <button class="session-tab" onclick="switchSessionTab('history')" id="stab-history">Historique</button>
    </div>

    <!-- Body -->
    <div class="session-body">

      <!-- ── TAB: DÉMARRER ── -->
      <div class="session-pane active" id="spane-start">

        <!-- Card AUJOURD'HUI -->
        <div id="todayCard" style="
          background: linear-gradient(135deg, rgba(230,57,70,0.15), rgba(255,107,53,0.08));
          border: 1px solid rgba(230,57,70,0.35);
          border-radius: 16px; padding: 18px; margin-bottom: 20px;
          display: none;
        ">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;">
            <div>
              <div style="font-family:'Barlow Condensed',sans-serif;font-size:0.68rem;letter-spacing:3px;text-transform:uppercase;color:var(--gray);margin-bottom:3px;" id="todayDateLabel"></div>
              <div style="font-family:'Bebas Neue',sans-serif;font-size:1.4rem;letter-spacing:3px;color:white;" id="todaySessionName"></div>
              <div style="font-size:0.75rem;color:var(--gray);margin-top:2px;" id="todaySessionDesc"></div>
            </div>
            <div style="text-align:right;flex-shrink:0;">
              <div style="font-size:2rem;" id="todaySessionIcon"></div>
              <div style="font-family:'Barlow Condensed',sans-serif;font-size:0.65rem;letter-spacing:2px;color:var(--orange);margin-top:4px;" id="todayExCount"></div>
            </div>
          </div>
          <!-- Aperçu exercices -->
          <div id="todayExPreview" style="display:flex;flex-wrap:wrap;gap:5px;margin-bottom:14px;"></div>
          <button onclick="launchTodaySession()" style="
            width:100%; background:linear-gradient(135deg,var(--red),var(--orange));
            border:none; color:white; padding:15px;
            font-family:'Bebas Neue',sans-serif; font-size:1.1rem; letter-spacing:4px;
            border-radius:10px; cursor:pointer;
            box-shadow: 0 6px 24px rgba(230,57,70,0.4);
            transition: all 0.2s;
          " onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='none'">
            ⚡ LANCER MA SÉANCE DU JOUR
          </button>
        </div>

        <!-- Pas de programme actif -->
        <div id="noProgCard" style="
          background: var(--dark3); border: 1px dashed rgba(255,255,255,0.1);
          border-radius: 16px; padding: 24px; text-align:center; margin-bottom:20px;
          display: none;
        ">
          <div style="font-size:2rem;margin-bottom:10px;">📋</div>
          <div style="font-family:'Bebas Neue',sans-serif;font-size:1.1rem;letter-spacing:2px;margin-bottom:8px;">AUCUN PROGRAMME ACTIF</div>
          <div style="font-size:0.8rem;color:var(--gray);line-height:1.6;">Choisis un programme ci-dessous ou crée le tien pour voir ta séance du jour automatiquement.</div>
        </div>

        <!-- Séparateur -->
        <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px;">
          <div style="flex:1;height:1px;background:rgba(255,255,255,0.07);"></div>
          <div style="font-family:'Barlow Condensed',sans-serif;font-size:0.68rem;letter-spacing:3px;text-transform:uppercase;color:var(--gray);">Changer de programme</div>
          <div style="flex:1;height:1px;background:rgba(255,255,255,0.07);"></div>
        </div>

        <!-- Grille programmes -->
        <div class="prog-select-grid">
          <div class="prog-card" onclick="setActiveProgram('ppl',this)">
            <div class="prog-card-icon">💪</div>
            <div class="prog-card-name">PPL</div>
            <div class="prog-card-desc">6j/sem · Push Pull Legs</div>
            <div class="prog-card-badge">Intermédiaire+</div>
          </div>
          <div class="prog-card" onclick="setActiveProgram('fullbody',this)">
            <div class="prog-card-icon">⚡</div>
            <div class="prog-card-name">Full Body</div>
            <div class="prog-card-desc">3j/sem · Polyvalent</div>
            <div class="prog-card-badge">Tous niveaux</div>
          </div>
          <div class="prog-card" onclick="setActiveProgram('upper',this)">
            <div class="prog-card-icon">🏋️</div>
            <div class="prog-card-name">Upper / Lower</div>
            <div class="prog-card-desc">4j/sem · Force & Volume</div>
            <div class="prog-card-badge">Intermédiaire</div>
          </div>
          <div class="prog-card" onclick="setActiveProgram('debutant',this)">
            <div class="prog-card-icon">🔰</div>
            <div class="prog-card-name">Débutant 5×5</div>
            <div class="prog-card-desc">3j/sem · Progression linéaire</div>
            <div class="prog-card-badge">Débutant</div>
          </div>
          <div class="prog-card prog-card-custom" onclick="openCustomProgramBuilder()">
            <div class="prog-card-icon">✏️</div>
            <div class="prog-card-name">Programme Perso</div>
            <div class="prog-card-desc">Crée ton propre programme</div>
            <div class="prog-card-badge" style="background:rgba(255,183,3,0.2);color:var(--gold);">Personnalisé</div>
          </div>
        </div>

        <!-- Séance manuelle (fallback) -->
        <div id="manualPickWrap" style="margin-top:16px;display:none;">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px;">
            <div style="flex:1;height:1px;background:rgba(255,255,255,0.07);"></div>
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:0.68rem;letter-spacing:3px;text-transform:uppercase;color:var(--gray);">Choisir une séance manuellement</div>
            <div style="flex:1;height:1px;background:rgba(255,255,255,0.07);"></div>
          </div>
          <div class="day-selector" id="dayPickerOptions"></div>
          <button class="session-start-btn" id="sessionLaunchBtn" onclick="launchSession()" disabled style="margin-top:14px;">
            ⚡ LANCER LA SÉANCE
          </button>
        </div>

      </div>

      <!-- ── TAB: EN COURS ── -->
      <div class="session-pane" id="spane-live">
        <!-- Summary screen -->
        <div id="live-summary" style="display:none;">
          <div class="session-summary">
            <div class="summary-icon">🏆</div>
            <div class="summary-title">SÉANCE TERMINÉE !</div>
            <div class="summary-sub" id="summaryTimeText"></div>
            <div class="summary-stats" id="summaryStats"></div>
            <div class="summary-entries" id="summaryEntries"></div>
            <button class="summary-save-btn" onclick="saveSession()">💾 SAUVEGARDER DANS L'HISTORIQUE</button>
          </div>
        </div>

        <!-- Live exercise screen -->
        <div id="live-active">
          <div class="live-header">
            <div>
              <div class="live-prog-name" id="liveProgName">—</div>
              <div id="liveSessionDay" style="font-family:'Barlow Condensed',sans-serif;font-size:0.8rem;letter-spacing:2px;color:var(--gray);margin-top:2px;"></div>
            </div>
            <div class="live-elapsed" id="liveElapsed">0:00</div>
          </div>

          <div class="live-progress-bar-wrap">
            <div class="live-progress-text">
              <span id="liveExIdx">Exercice 1</span>
              <span id="liveExCount"></span>
            </div>
            <div class="live-progress-track">
              <div class="live-progress-fill" id="liveProgressFill" style="width:0%"></div>
            </div>
          </div>

          <!-- Timer compact -->
          <div class="live-timer-bar" id="liveTimerBar">
            <span style="font-family:'Barlow Condensed',sans-serif;font-size:0.7rem;letter-spacing:2px;color:var(--gray);text-transform:uppercase;">Repos</span>
            <div class="live-timer-count" id="liveTimerCount">—</div>
            <div class="live-timer-presets">
              <button class="live-timer-preset" onclick="liveStartTimer(60)">1:00</button>
              <button class="live-timer-preset" onclick="liveStartTimer(90)">1:30</button>
              <button class="live-timer-preset" onclick="liveStartTimer(120)">2:00</button>
              <button class="live-timer-preset" onclick="liveStartTimer(180)">3:00</button>
              <button class="live-timer-preset" onclick="liveStartTimer(300)">5:00</button>
            </div>
            <button class="live-timer-stop" onclick="liveStopTimer()">⏹</button>
          </div>

          <!-- Exercice card -->
          <div class="live-exercise-card">
            <div class="live-ex-muscle" id="liveExMuscle"></div>
            <div class="live-ex-name" id="liveExName">—</div>
            <div class="live-ex-prescription" id="liveExSets">—</div>

            <!-- Perf précédente -->
            <div id="livePrevPerf" style="display:none;margin:8px 0 4px;padding:8px 12px;background:rgba(255,183,3,0.07);border:1px solid rgba(255,183,3,0.2);border-radius:8px;font-family:'Barlow Condensed',sans-serif;font-size:0.78rem;letter-spacing:1px;color:var(--gold);display:flex;align-items:center;gap:8px;">
              <span>📊</span>
              <span id="livePrevPerfText"></span>
            </div>
            <!-- PR badge -->
            <div id="livePRBadge" style="display:none;margin:4px 0;padding:6px 12px;background:linear-gradient(135deg,rgba(56,239,125,0.15),rgba(56,239,125,0.05));border:1px solid rgba(56,239,125,0.35);border-radius:8px;font-family:'Bebas Neue',sans-serif;font-size:0.9rem;letter-spacing:2px;color:#38ef7d;text-align:center;">
              🏆 NOUVEAU RECORD PERSONNEL !
            </div>

            <!-- Bulles de séries -->
            <div class="live-sets-row" id="liveSetBubbles"></div>

            <!-- Inputs charge/reps -->
            <div class="live-input-row">
              <div class="live-input-group">
                <div class="live-input-label">Charge (kg)</div>
                <input type="number" class="live-input" id="liveInputWeight" placeholder="0" min="0" step="0.5" oninput="checkPR()">
              </div>
              <div class="live-input-group">
                <div class="live-input-label">Reps</div>
                <input type="number" class="live-input" id="liveInputReps" placeholder="—" min="1" oninput="checkPR()">
              </div>
              <div class="live-input-group">
                <div class="live-input-label">Série</div>
                <div class="live-input" id="liveCurrentSetNum" style="display:flex;align-items:center;justify-content:center;cursor:default;border-color:rgba(255,183,3,0.3);color:var(--gold);">1</div>
              </div>
            </div>
            <button class="live-validate-btn" onclick="validateSet()">✓ VALIDER LA SÉRIE</button>
            <textarea class="live-notes" id="liveNotes" rows="2" placeholder="Notes (ressenti, charge, technique...)"></textarea>
          </div>

          <div class="live-nav">
            <button class="live-nav-btn" onclick="livePrev()">← Précédent</button>
            <button class="live-nav-btn" id="liveNextBtn" onclick="liveNext()">Suivant →</button>
          </div>
        </div>
      </div>

      <!-- ── TAB: PLANIFIER ── -->
      <div class="session-pane" id="spane-schedule">
        <div id="notifBanner" class="notif-banner" style="display:none;">
          <div class="notif-banner-text">🔔 Autorise les notifications pour recevoir des rappels automatiques chaque jour.</div>
          <button class="notif-banner-btn" onclick="requestNotifPermission()">Activer</button>
        </div>

        <!-- Onglets Planifier / Récurrence -->
        <div style="display:flex;gap:0;border:1px solid rgba(255,255,255,0.08);border-radius:8px;overflow:hidden;margin-bottom:18px;">
          <button id="sch-tab-once" onclick="switchSchTab('once')" style="flex:1;padding:10px;font-family:'Barlow Condensed',sans-serif;font-size:0.78rem;letter-spacing:2px;text-transform:uppercase;background:linear-gradient(135deg,var(--red),var(--orange));color:white;border:none;cursor:pointer;">📅 Séance unique</button>
          <button id="sch-tab-daily" onclick="switchSchTab('daily')" style="flex:1;padding:10px;font-family:'Barlow Condensed',sans-serif;font-size:0.78rem;letter-spacing:2px;text-transform:uppercase;background:var(--dark2);color:var(--gray);border:none;cursor:pointer;">🔔 Rappels quotidiens</button>
        </div>

        <!-- PANEL: Séance unique -->
        <div id="sch-panel-once">
          <div class="schedule-form">
            <div class="sch-field">
              <label>Programme</label>
              <select class="sch-select" id="schProg" onchange="updateSchProgDays()">
                <option value="ppl">PPL — Push Pull Legs</option>
                <option value="fullbody">Full Body</option>
                <option value="upper">Upper / Lower</option>
                <option value="debutant">Débutant 5×5</option>
              </select>
            </div>
            <div class="sch-field">
              <label>Type de séance</label>
              <select class="sch-select" id="schDay">
                <option value="">— Sélectionne le programme d'abord —</option>
              </select>
            </div>
            <div class="sch-grid">
              <div class="sch-field">
                <label>Date</label>
                <input type="date" class="sch-input" id="schDate">
              </div>
              <div class="sch-field">
                <label>Heure</label>
                <input type="time" class="sch-input" id="schTime" value="18:00">
              </div>
            </div>
            <div class="sch-field">
              <label>Lieu (optionnel)</label>
              <input type="text" class="sch-input" id="schLocation" placeholder="Ma salle, Domicile...">
            </div>
            <div class="sch-field">
              <label>Rappel</label>
              <select class="sch-select" id="schReminder">
                <option value="5">5 minutes avant</option>
                <option value="15">15 minutes avant</option>
                <option value="30" selected>30 minutes avant</option>
                <option value="60">1 heure avant</option>
                <option value="120">2 heures avant</option>
              </select>
            </div>
            <button class="sch-submit" onclick="addSchedule()">📅 PLANIFIER CETTE SÉANCE</button>
          </div>
        </div>

        <!-- PANEL: Rappels quotidiens -->
        <div id="sch-panel-daily" style="display:none;">
          <div class="schedule-form">
            <div class="sch-field">
              <label>Programme</label>
              <select class="sch-select" id="dailyProg" onchange="updateDailyProgDays()">
                <option value="ppl">PPL — Push Pull Legs</option>
                <option value="fullbody">Full Body</option>
                <option value="upper">Upper / Lower</option>
                <option value="debutant">Débutant 5×5</option>
              </select>
            </div>
            <div class="sch-field">
              <label>Heure d'entraînement chaque jour</label>
              <input type="time" class="sch-input" id="dailyTime" value="18:00">
            </div>
            <div class="sch-field">
              <label>Rappel avant la séance</label>
              <select class="sch-select" id="dailyReminder">
                <option value="5">5 minutes avant</option>
                <option value="15">15 minutes avant</option>
                <option value="30" selected>30 minutes avant</option>
                <option value="60">1 heure avant</option>
              </select>
            </div>
            <div class="sch-field">
              <label>Jours actifs</label>
              <div id="dailyDaysGrid" style="display:flex;flex-wrap:wrap;gap:6px;margin-top:4px;"></div>
            </div>
            <div style="background:rgba(255,183,3,0.07);border:1px solid rgba(255,183,3,0.2);border-radius:8px;padding:12px 14px;font-size:0.8rem;color:var(--gold);line-height:1.6;margin-bottom:14px;">
              🔔 Tu recevras une notification chaque jour sélectionné à l'heure choisie, même si l'app est fermée (si installée comme PWA).
            </div>
            <button class="sch-submit" onclick="saveDailyReminders()">🔔 ACTIVER LES RAPPELS QUOTIDIENS</button>
          </div>

          <!-- Rappels actifs -->
          <div class="schedule-list" id="dailyRemindersList" style="margin-top:20px;">
            <div class="schedule-list-title">Rappels quotidiens actifs</div>
            <div id="dailyRemindersItems"></div>
          </div>
        </div>

        <div class="schedule-list" id="oncScheduleList">
          <div class="schedule-list-title">Séances planifiées</div>
          <div id="scheduleItems">
            <div style="color:var(--gray);font-size:0.85rem;padding:20px 0;text-align:center;">Aucune séance planifiée</div>
          </div>
        </div>
      </div>

      <!-- ── TAB: HISTORIQUE ── -->
      <div class="session-pane" id="spane-history">
        <!-- Stats globales -->
        <div class="global-stats" id="globalStats">
          <div class="gstat"><div class="gstat-val" id="gstatSessions">0</div><div class="gstat-lbl">Séances</div></div>
          <div class="gstat"><div class="gstat-val" id="gstatVolume">0</div><div class="gstat-lbl">Volume (t)</div></div>
          <div class="gstat"><div class="gstat-val" id="gstatStreak">0</div><div class="gstat-lbl">Streak 🔥</div></div>
          <div class="gstat"><div class="gstat-val" id="gstatPRs">0</div><div class="gstat-lbl">PRs 🏆</div></div>
        </div>

        <!-- Sous-onglets historique -->
        <div style="display:flex;gap:0;border:1px solid rgba(255,255,255,0.08);border-radius:8px;overflow:hidden;margin-bottom:16px;">
          <button id="hist-tab-sessions" onclick="switchHistTab('sessions')" style="flex:1;padding:9px;font-family:'Barlow Condensed',sans-serif;font-size:0.72rem;letter-spacing:2px;text-transform:uppercase;background:linear-gradient(135deg,var(--red),var(--orange));color:white;border:none;cursor:pointer;">📋 Séances</button>
          <button id="hist-tab-progression" onclick="switchHistTab('progression')" style="flex:1;padding:9px;font-family:'Barlow Condensed',sans-serif;font-size:0.72rem;letter-spacing:2px;text-transform:uppercase;background:var(--dark2);color:var(--gray);border:none;border-left:1px solid rgba(255,255,255,0.08);cursor:pointer;">📈 Progression</button>
          <button id="hist-tab-records" onclick="switchHistTab('records')" style="flex:1;padding:9px;font-family:'Barlow Condensed',sans-serif;font-size:0.72rem;letter-spacing:2px;text-transform:uppercase;background:var(--dark2);color:var(--gray);border:none;border-left:1px solid rgba(255,255,255,0.08);cursor:pointer;">🏆 Records</button>
        </div>

        <!-- Panel: Séances -->
        <div id="hist-panel-sessions">
          <div id="historyItems">
            <div class="history-empty">Aucune séance enregistrée.<br>Lance ta première séance et sauvegarde-la !</div>
          </div>
        </div>

        <!-- Panel: Progression -->
        <div id="hist-panel-progression" style="display:none;">
          <div style="margin-bottom:12px;">
            <select id="progExSelect" onchange="renderProgression()" style="width:100%;background:var(--dark3);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:var(--light);padding:10px 14px;font-family:'Barlow Condensed',sans-serif;font-size:0.9rem;letter-spacing:1px;outline:none;appearance:none;">
              <option value="">— Choisir un exercice —</option>
            </select>
          </div>
          <div id="progressionChart" style="background:var(--dark3);border:1px solid rgba(255,255,255,0.07);border-radius:12px;padding:16px;min-height:180px;"></div>
        </div>

        <!-- Panel: Records -->
        <div id="hist-panel-records" style="display:none;">
          <div id="recordsList"></div>
        </div>
      </div>

    </div><!-- .session-body -->
  </div><!-- .session-shell -->
</div>

<!-- NAVIGATION -->
<nav>
  <a href="#" class="logo" style="text-decoration:none;">IRONFORGE</a>
  <ul class="nav-links">
    <li><a href="#programme">Programme</a></li>
    <li><a href="#echauffement">Échauffement</a></li>
    <li><a href="#exercices">Exercices</a></li>
    <li><a href="#calories">Calories</a></li>
    <li><a href="#nutrition">Nutrition</a></li>
    <li><a href="#recettes">Recettes</a></li>
    <li><a href="#conseils">Conseils</a></li>
    <li><a href="#supplements">Suppléments</a></li>
    <li><a href="#workout-tracker">Tracker</a></li>
    <li><a href="#faq">FAQ</a></li>
  </ul>
  <button class="nav-burger" onclick="toggleMenu()" aria-label="Menu">
    <span></span><span></span><span></span>
  </button>
</nav>
<!-- MENU MOBILE -->
<div class="mobile-menu" id="mobileMenu">
  <a href="#programme" onclick="toggleMenu()">Programme</a>
  <a href="#echauffement" onclick="toggleMenu()">Échauffement</a>
  <a href="#exercices" onclick="toggleMenu()">Exercices</a>
  <a href="#calories" onclick="toggleMenu()">Calories</a>
  <a href="#nutrition" onclick="toggleMenu()">Nutrition</a>
  <a href="#recettes" onclick="toggleMenu()">Recettes</a>
  <a href="#conseils" onclick="toggleMenu()">Conseils</a>
  <a href="#supplements" onclick="toggleMenu()">Suppléments</a>
  <a href="#workout-tracker" onclick="toggleMenu()">Tracker</a>
  <a href="#faq" onclick="toggleMenu()">FAQ</a>
</div>

<!-- HERO -->
<div class="hero">
  <div class="hero-bg"></div>
  <div class="hero-grid"></div>
  <div class="hero-content">
    <div class="hero-badge">⚡ Guide Complet Prise de Masse</div>
    <h1 class="hero-title">
      FORGE<br>
      <span>TON CORPS</span>
    </h1>
    <p class="hero-sub">Programme · Nutrition · Calcul Calorique · Exercices</p>
    <div class="hero-ctas">
      <a href="#calories" class="btn-primary">Calculer mes calories</a>
      <a href="#programme" class="btn-outline">Voir le programme</a>
    </div>
    <div class="hero-stats">
      <div class="stat">
        <div class="stat-number">5</div>
        <div class="stat-label">Jours / semaine</div>
      </div>
      <div class="stat">
        <div class="stat-number">+500</div>
        <div class="stat-label">Kcal surplus</div>
      </div>
      <div class="stat">
        <div class="stat-number">2g</div>
        <div class="stat-label">Protéines / kg</div>
      </div>
      <div class="stat">
        <div class="stat-number">8h</div>
        <div class="stat-label">Sommeil requis</div>
      </div>
    </div>
  </div>
</div>

<!-- PROGRAMME -->
<section id="programme" aria-label="Programmes d'entraînement">
  <div class="section-header fade-in-up">
    <span class="section-num">01</span>
    <h2 class="section-title">PROGRAMME D'ENTRAÎNEMENT</h2>
    <div class="section-line"></div>
  </div>

  <div class="tabs-wrapper fade-in-up">
    <div class="tabs-group">
      <div class="tabs-group-label">Programmes généraux</div>
      <div class="programme-tabs" id="prog-tabs-main">
        <button class="tab-btn active" onclick="switchProgram('ppl')">PPL — Push/Pull/Legs</button>
        <button class="tab-btn" onclick="switchProgram('fullbody')">Full Body</button>
        <button class="tab-btn" onclick="switchProgram('upper')">Upper/Lower</button>
        <button class="tab-btn" onclick="switchProgram('debutant')">Débutant 5×5</button>
        <button class="tab-btn" onclick="switchProgram('perso')">Mon Programme Perso</button>
      </div>
    </div>
    <div class="tabs-group" style="margin-top:12px;">
      <div class="tabs-group-label">Spécialisation par muscle</div>
      <div class="programme-tabs">
        <button class="tab-btn spe" onclick="switchProgram('pecs')">Pectoraux</button>
        <button class="tab-btn spe" onclick="switchProgram('abdos')">Abdominaux</button>
        <button class="tab-btn spe" onclick="switchProgram('bras')">Bras</button>
        <button class="tab-btn spe" onclick="switchProgram('epaules')">Épaules</button>
        <button class="tab-btn spe" onclick="switchProgram('dos')">Dos</button>
        <button class="tab-btn spe" onclick="switchProgram('jambes')">Jambes</button>

      </div>
    </div>
  </div>

  <!-- PROGRAMME PERSO GÉNÉRÉ -->
  <div class="programme-content" id="prog-perso">
    <div class="gen-container" style="grid-column: 1 / -1;">
      <div class="gen-form">
        <div class="gen-form-title">⚡ MON PROGRAMME PERSO</div>
        <div class="gen-row">
          <div class="gen-field">
            <label class="gen-label">Poids (kg)</label>
            <input type="number" class="gen-input" id="genWeight" placeholder="75" min="40" max="200">
          </div>
          <div class="gen-field">
            <label class="gen-label">Taille (cm)</label>
            <input type="number" class="gen-input" id="genHeight" placeholder="175" min="140" max="220">
          </div>
        </div>
        <div class="gen-row">
          <div class="gen-field">
            <label class="gen-label">Âge</label>
            <input type="number" class="gen-input" id="genAge" placeholder="25" min="15" max="70">
          </div>
          <div class="gen-field">
            <label class="gen-label">Sexe</label>
            <select class="gen-select" id="genSex">
              <option value="m">Homme</option>
              <option value="f">Femme</option>
            </select>
          </div>
        </div>
        <div class="gen-field">
          <label class="gen-label">Niveau</label>
          <select class="gen-select" id="genLevel">
            <option value="debutant">Débutant (0-1 an)</option>
            <option value="intermediaire">Intermédiaire (1-3 ans)</option>
            <option value="avance">Avancé (3+ ans)</option>
          </select>
        </div>
        <div class="gen-field">
          <label class="gen-label">Jours dispo / semaine</label>
          <select class="gen-select" id="genDays">
            <option value="3">3 jours</option>
            <option value="4">4 jours</option>
            <option value="5" selected>5 jours</option>
            <option value="6">6 jours</option>
          </select>
        </div>
        <div class="gen-field">
          <label class="gen-label">Objectif principal</label>
          <select class="gen-select" id="genGoal">
            <option value="masse">Prise de masse globale</option>
            <option value="force">Force & puissance</option>
            <option value="seche">Sèche / Définition</option>
            <option value="athletique">Physique athlétique</option>
          </select>
        </div>
        <div class="gen-field">
          <label class="gen-label">Muscles prioritaires (plusieurs choix)</label>
          <div class="gen-chips" id="genMuscles">
            <div class="gen-chip" onclick="toggleChip(this,'pecs')">💪 Pecs</div>
            <div class="gen-chip" onclick="toggleChip(this,'dos')">🔱 Dos</div>
            <div class="gen-chip" onclick="toggleChip(this,'epaules')">🏋️ Épaules</div>
            <div class="gen-chip" onclick="toggleChip(this,'bras')">🦾 Bras</div>
            <div class="gen-chip" onclick="toggleChip(this,'abdos')">⚡ Abdos</div>
            <div class="gen-chip" onclick="toggleChip(this,'jambes')">🦵 Jambes</div>
            <div class="gen-chip" onclick="toggleChip(this,'fessiers')">🍑 Fessiers</div>
          </div>
        </div>
        <div class="gen-field">
          <label class="gen-label">Équipement disponible</label>
          <select class="gen-select" id="genEquip">
            <option value="salle">Salle complète</option>
            <option value="halteres">Haltères seulement</option>
            <option value="maison">Poids du corps / maison</option>
          </select>
        </div>
        <button class="gen-btn" onclick="generateProgram()">⚡ GÉNÉRER MON PROGRAMME</button>
      </div>
      <div class="gen-result" id="genResult">
        <div class="gen-placeholder">
          <div class="gen-placeholder-icon">⚡</div>
          <p style="font-family:'Barlow Condensed',sans-serif;font-size:1.1rem;letter-spacing:2px;text-transform:uppercase;margin-bottom:8px;">Ton programme personnalisé</p>
          <p style="font-size:0.85rem;line-height:1.8;">Remplis le formulaire et clique sur<br><strong style="color:var(--gold);">Générer mon programme</strong></p>
        </div>
      </div>
    </div>
  </div>

  <!-- PPL -->
  <div class="programme-content active" id="prog-ppl">
    <div class="day-card fade-in-up">
      <div class="day-header">
        <div>
          <div class="day-name">LUNDI</div>
          <div class="day-focus">PUSH — Pec · Épaules · Triceps</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('bench-press')">
          <div class="ex-num">01</div>
          <div class="ex-info">
            <div class="ex-name">Développé Couché Barre</div>
            <div class="ex-sets">4 séries × 6-8 reps · Repos 3 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('incline-db')">
          <div class="ex-num">02</div>
          <div class="ex-info">
            <div class="ex-name">Développé Incliné Haltères</div>
            <div class="ex-sets">3 séries × 8-10 reps · Repos 2 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('ohp')">
          <div class="ex-num">03</div>
          <div class="ex-info">
            <div class="ex-name">Développé Militaire</div>
            <div class="ex-sets">4 séries × 6-8 reps · Repos 3 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('lateral-raise')">
          <div class="ex-num">04</div>
          <div class="ex-info">
            <div class="ex-name">Élévations Latérales</div>
            <div class="ex-sets">3 séries × 12-15 reps · Repos 90 sec</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('tricep-dips')">
          <div class="ex-num">05</div>
          <div class="ex-info">
            <div class="ex-name">Dips Triceps</div>
            <div class="ex-sets">3 séries × 10-12 reps · Repos 2 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
      </div>
    </div>

    <div class="day-card fade-in-up">
      <div class="day-header">
        <div>
          <div class="day-name">MARDI</div>
          <div class="day-focus">PULL — Dos · Biceps · Arrière-Épaules</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('deadlift')">
          <div class="ex-num">01</div>
          <div class="ex-info">
            <div class="ex-name">Soulevé de Terre</div>
            <div class="ex-sets">4 séries × 5 reps · Repos 4 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('pullups')">
          <div class="ex-num">02</div>
          <div class="ex-info">
            <div class="ex-name">Tractions Pronation</div>
            <div class="ex-sets">4 séries × 6-10 reps · Repos 3 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('row-barre')">
          <div class="ex-num">03</div>
          <div class="ex-info">
            <div class="ex-name">Rowing Barre Pronation</div>
            <div class="ex-sets">4 séries × 6-8 reps · Repos 3 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('facepull')">
          <div class="ex-num">04</div>
          <div class="ex-info">
            <div class="ex-name">Face Pull Poulie</div>
            <div class="ex-sets">3 séries × 15 reps · Repos 90 sec</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('bicep-curl')">
          <div class="ex-num">05</div>
          <div class="ex-info">
            <div class="ex-name">Curl Biceps Barre</div>
            <div class="ex-sets">3 séries × 10-12 reps · Repos 90 sec</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
      </div>
    </div>

    <div class="day-card fade-in-up">
      <div class="day-header">
        <div>
          <div class="day-name">JEUDI</div>
          <div class="day-focus">LEGS — Quadriceps · Ischios · Fessiers</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('squat')">
          <div class="ex-num">01</div>
          <div class="ex-info">
            <div class="ex-name">Squat Barre Haute</div>
            <div class="ex-sets">5 séries × 5 reps · Repos 4 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('leg-press')">
          <div class="ex-num">02</div>
          <div class="ex-info">
            <div class="ex-name">Leg Press</div>
            <div class="ex-sets">3 séries × 10-12 reps · Repos 2 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('rdl')">
          <div class="ex-num">03</div>
          <div class="ex-info">
            <div class="ex-name">Romanian Deadlift</div>
            <div class="ex-sets">3 séries × 8-10 reps · Repos 2 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('leg-curl')">
          <div class="ex-num">04</div>
          <div class="ex-info">
            <div class="ex-name">Leg Curl Couché</div>
            <div class="ex-sets">3 séries × 12 reps · Repos 90 sec</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('calf-raises')">
          <div class="ex-num">05</div>
          <div class="ex-info">
            <div class="ex-name">Mollets Debout</div>
            <div class="ex-sets">4 séries × 15-20 reps · Repos 90 sec</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
      </div>
    </div>

    <div class="day-card fade-in-up">
      <div class="day-header">
        <div>
          <div class="day-name">VENDREDI</div>
          <div class="day-focus">PUSH — Répétition</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('bench-press')">
          <div class="ex-num">01</div>
          <div class="ex-info">
            <div class="ex-name">Développé Couché (Hypertrophie)</div>
            <div class="ex-sets">4 séries × 8-12 reps · Repos 2 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('cable-fly')">
          <div class="ex-num">02</div>
          <div class="ex-info">
            <div class="ex-name">Écarté Poulie Basse</div>
            <div class="ex-sets">3 séries × 12-15 reps · Repos 90 sec</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('arnold-press')">
          <div class="ex-num">03</div>
          <div class="ex-info">
            <div class="ex-name">Développé Arnold</div>
            <div class="ex-sets">3 séries × 10-12 reps · Repos 2 min</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('lateral-raise')">
          <div class="ex-num">04</div>
          <div class="ex-info">
            <div class="ex-name">Raises Latérales (Dropset)</div>
            <div class="ex-sets">3 séries × 15+10+5 reps</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('tricep-pushdown')">
          <div class="ex-num">05</div>
          <div class="ex-info">
            <div class="ex-name">Extension Triceps Poulie</div>
            <div class="ex-sets">3 séries × 12-15 reps</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
      </div>
    </div>

    <div class="day-card fade-in-up">
      <div class="day-header">
        <div>
          <div class="day-name">SAMEDI</div>
          <div class="day-focus">PULL — Répétition</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('pullups')">
          <div class="ex-num">01</div>
          <div class="ex-info">
            <div class="ex-name">Tractions Supination (Chins)</div>
            <div class="ex-sets">4 séries × 8-10 reps</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('seated-cable-row')">
          <div class="ex-num">02</div>
          <div class="ex-info">
            <div class="ex-name">Tirage Horizontal Poulie</div>
            <div class="ex-sets">3 séries × 12-15 reps</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('pulldown')">
          <div class="ex-num">03</div>
          <div class="ex-info">
            <div class="ex-name">Tirage Vertical Poulie Haute</div>
            <div class="ex-sets">3 séries × 10-12 reps</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
        <div class="exercise-item" onclick="openModal('hammer-curl')">
          <div class="ex-num">04</div>
          <div class="ex-info">
            <div class="ex-name">Curl Marteau Haltères</div>
            <div class="ex-sets">3 séries × 10-12 reps</div>
          </div>
          <div class="ex-play" aria-label="Voir la vidéo">▶</div>
        </div>
      </div>
    </div>

    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div>
          <div class="day-name" style="color: var(--gold);">MERCREDI · DIMANCHE</div>
          <div class="day-focus" style="color: var(--gold);">REPOS ACTIF</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item">
          <div class="ex-num" style="color: var(--gold);">✦</div>
          <div class="ex-info">
            <div class="ex-name">Marche 30-45 min</div>
            <div class="ex-sets">Favorise la récupération musculaire</div>
          </div>
        </div>
        <div class="exercise-item">
          <div class="ex-num" style="color: var(--gold);">✦</div>
          <div class="ex-info">
            <div class="ex-name">Stretching complet 20 min</div>
            <div class="ex-sets">Focus sur les groupes travaillés</div>
          </div>
        </div>
        <div class="exercise-item">
          <div class="ex-num" style="color: var(--gold);">✦</div>
          <div class="ex-info">
            <div class="ex-name">Rouleau de massage (foam roll)</div>
            <div class="ex-sets">10-15 min · Quadriceps, dos, mollets</div>
          </div>
        </div>
        <div class="exercise-item">
          <div class="ex-num" style="color: var(--gold);">✦</div>
          <div class="ex-info">
            <div class="ex-name">NUTRITION : maintenez le surplus calorique</div>
            <div class="ex-sets">La construction se fait au repos !</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FULL BODY -->
  <div class="programme-content" id="prog-fullbody">
    <div class="day-card fade-in-up" style="grid-column: 1 / -1;">
      <div class="day-header">
        <div>
          <div class="day-name">PROGRAMME FULL BODY — 3 JOURS / SEMAINE</div>
          <div class="day-focus">Lundi · Mercredi · Vendredi</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('squat')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Squat Barre</div><div class="ex-sets">4 séries × 5 reps</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('bench-press')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Développé Couché</div><div class="ex-sets">4 séries × 5 reps</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('row-barre')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Rowing Barre</div><div class="ex-sets">4 séries × 5 reps</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('ohp')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Développé Militaire</div><div class="ex-sets">3 séries × 8 reps</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('deadlift')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Soulevé de Terre</div><div class="ex-sets">1 série × 5 reps (lundi uniquement)</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
  </div>

  <!-- UPPER LOWER -->
  <div class="programme-content" id="prog-upper">
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">UPPER A</div><div class="day-focus">Lundi — Force</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('bench-press')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Développé Couché Barre</div><div class="ex-sets">4×4-6 · Force</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('row-barre')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Rowing Barre Pronation</div><div class="ex-sets">4×4-6 · Force</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('ohp')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Développé Militaire</div><div class="ex-sets">3×8-10</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('incline-db')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Développé Incliné Haltères</div><div class="ex-sets">3×10-12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('pulldown')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Tirage Vertical Poulie</div><div class="ex-sets">3×10-12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('lateral-raise')"><div class="ex-num">06</div><div class="ex-info"><div class="ex-name">Élévations Latérales</div><div class="ex-sets">3×15</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('tricep-pushdown')"><div class="ex-num">07</div><div class="ex-info"><div class="ex-name">Extension Triceps Poulie</div><div class="ex-sets">3×12-15</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('bicep-curl')"><div class="ex-num">08</div><div class="ex-info"><div class="ex-name">Curl Biceps Barre</div><div class="ex-sets">3×12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">LOWER A</div><div class="day-focus">Mardi — Force</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('squat')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Squat Barre Haute</div><div class="ex-sets">4×4-6 · Force</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('rdl')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Romanian Deadlift</div><div class="ex-sets">3×8-10</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('leg-press')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Leg Press</div><div class="ex-sets">3×10-12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('hack-squat')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Hack Squat Machine</div><div class="ex-sets">3×10-12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('leg-curl')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Leg Curl Couché</div><div class="ex-sets">3×12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('calf-raises')"><div class="ex-num">06</div><div class="ex-info"><div class="ex-name">Mollets Debout</div><div class="ex-sets">4×15-20</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('hyperextension')"><div class="ex-num">07</div><div class="ex-info"><div class="ex-name">Hyperextension</div><div class="ex-sets">3×15</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('ab-wheel')"><div class="ex-num">08</div><div class="ex-info"><div class="ex-name">Ab Wheel / Rouleau</div><div class="ex-sets">3×10-15</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">UPPER B</div><div class="day-focus">Jeudi — Hypertrophie</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('incline-barbell')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Développé Incliné Barre</div><div class="ex-sets">4×8-10</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('tbar-row')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">T-Bar Row</div><div class="ex-sets">4×8-10</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('arnold-press')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Développé Arnold</div><div class="ex-sets">3×10-12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('pec-deck')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Pec Deck (Butterfly)</div><div class="ex-sets">3×12-15</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('seated-cable-row')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Tirage Horizontal Poulie</div><div class="ex-sets">3×12-15</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('facepull')"><div class="ex-num">06</div><div class="ex-info"><div class="ex-name">Face Pull</div><div class="ex-sets">3×15</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('tricep-dips')"><div class="ex-num">07</div><div class="ex-info"><div class="ex-name">Dips Triceps</div><div class="ex-sets">3×10-12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('hammer-curl')"><div class="ex-num">08</div><div class="ex-info"><div class="ex-name">Curl Marteau Haltères</div><div class="ex-sets">3×12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">LOWER B</div><div class="day-focus">Vendredi — Hypertrophie</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('hack-squat')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Hack Squat Machine</div><div class="ex-sets">4×8-10</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('bulgarian-squat')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Fentes Bulgares</div><div class="ex-sets">3×10 par jambe</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('rdl')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Romanian Deadlift</div><div class="ex-sets">4×10-12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('leg-curl')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Leg Curl Couché</div><div class="ex-sets">3×12-15</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('calf-raises')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Mollets Assis Machine</div><div class="ex-sets">4×20</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('hyperextension')"><div class="ex-num">06</div><div class="ex-info"><div class="ex-name">Hyperextension</div><div class="ex-sets">3×15</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('ab-wheel')"><div class="ex-num">07</div><div class="ex-info"><div class="ex-name">Ab Wheel / Rouleau</div><div class="ex-sets">3×12</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
  </div>

  <!-- DÉBUTANT 5x5 -->
  <div class="programme-content" id="prog-debutant">
    <div class="day-card fade-in-up" style="grid-column: 1 / -1;">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.2), rgba(255,107,53,0.1));">
        <div>
          <div class="day-name" style="color: var(--gold);">STRONGLIFTS 5×5 — DÉBUTANT</div>
          <div class="day-focus" style="color: var(--orange);">Le programme le plus efficace pour débuter · 3 séances / semaine</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none; opacity:0.6;">
          <div class="ex-num" style="color:var(--gold);">💡</div>
          <div class="ex-info">
            <div class="ex-name" style="color:var(--gold);">Principe : +2,5kg à chaque séance sur chaque exercice</div>
            <div class="ex-sets">Alterne Séance A et Séance B · Lundi / Mercredi / Vendredi · Repos les autres jours</div>
          </div>
        </div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(230,57,70,0.2), rgba(255,107,53,0.1));">
        <div><div class="day-name">SÉANCE A</div><div class="day-focus">Lundi / Vendredi alternés</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('squat')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Squat Barre</div><div class="ex-sets">5 séries × 5 reps · +2,5kg / séance</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('bench-press')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Développé Couché Barre</div><div class="ex-sets">5 séries × 5 reps · +2,5kg / séance</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('row-barre')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Rowing Barre</div><div class="ex-sets">5 séries × 5 reps · +2,5kg / séance</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(230,57,70,0.2), rgba(255,107,53,0.1));">
        <div><div class="day-name">SÉANCE B</div><div class="day-focus">Mercredi alternés</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('squat')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Squat Barre</div><div class="ex-sets">5 séries × 5 reps · +2,5kg / séance</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('ohp')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Développé Militaire</div><div class="ex-sets">5 séries × 5 reps · +2,5kg / séance</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('deadlift')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Soulevé de Terre</div><div class="ex-sets">1 série × 5 reps · +5kg / séance</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">RÈGLES D'OR 5×5</div><div class="day-focus" style="color: var(--gold);">Ne jamais déroger</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;">
          <div class="ex-num" style="color:var(--gold);">✦</div>
          <div class="ex-info"><div class="ex-name">Commence à 50% de ton max estimé</div><div class="ex-sets">Technique d'abord, charges ensuite</div></div>
        </div>
        <div class="exercise-item" style="pointer-events:none;">
          <div class="ex-num" style="color:var(--gold);">✦</div>
          <div class="ex-info"><div class="ex-name">Si tu rates 3 séries × 5 reps</div><div class="ex-sets">Réduis la charge de 10% et repars</div></div>
        </div>
        <div class="exercise-item" style="pointer-events:none;">
          <div class="ex-num" style="color:var(--gold);">✦</div>
          <div class="ex-info"><div class="ex-name">Repos 3-5 minutes entre les séries</div><div class="ex-sets">C'est du travail de force, pas du cardio</div></div>
        </div>
        <div class="exercise-item" style="pointer-events:none;">
          <div class="ex-num" style="color:var(--gold);">✦</div>
          <div class="ex-info"><div class="ex-name">Progression garantie 6-12 mois</div><div class="ex-sets">+50-100kg au squat la première année</div></div>
        </div>
      </div>
    </div>
  </div>

  <!-- PECTORAUX -->
  <div class="programme-content" id="prog-pecs">
    <div class="day-card fade-in-up" style="grid-column: 1 / -1;">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(230,57,70,0.25), rgba(255,107,53,0.1));">
        <div>
          <div class="day-name" style="background: linear-gradient(90deg,var(--red),var(--orange)); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">PROGRAMME SPÉCIALISATION PECTORAUX</div>
          <div class="day-focus">2 séances chest / semaine · Focus hypertrophie · 8-12 semaines</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none; opacity:0.7;">
          <div class="ex-num" style="color:var(--red);">💡</div>
          <div class="ex-info">
            <div class="ex-name" style="color:var(--orange);">Principe : 1 séance force (lundi) + 1 séance volume/pump (jeudi)</div>
            <div class="ex-sets">Travaille aussi le reste du corps 2×/semaine · Mange en surplus de 300-500 kcal · Dors 8h minimum</div>
          </div>
        </div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE A — FORCE</div><div class="day-focus">Lundi · Charges lourdes</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('bench-press')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Développé Couché Barre</div><div class="ex-sets">5 × 4-6 reps · Repos 4 min · Charge max</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('incline-barbell')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Développé Incliné Barre</div><div class="ex-sets">4 × 6-8 reps · Repos 3 min</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('incline-db')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Développé Incliné Haltères</div><div class="ex-sets">3 × 8-10 reps · Repos 2 min</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('tricep-dips')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Dips (focus pecs, buste penché)</div><div class="ex-sets">3 × 8-12 reps · Poids ajouté si possible</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('cable-fly')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Écarté Poulie Basse</div><div class="ex-sets">3 × 12-15 reps · Repos 90 sec · Finition</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE B — VOLUME</div><div class="day-focus">Jeudi · Pump & hypertrophie</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('incline-db')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Développé Incliné Haltères</div><div class="ex-sets">4 × 10-12 reps · Repos 2 min</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('cable-fly')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Écarté Poulie Croisée (bas-haut)</div><div class="ex-sets">4 × 12-15 reps · Repos 2 min</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('pec-deck')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Pec Deck Butterfly</div><div class="ex-sets">4 × 12-15 reps · Pause contraction 2 sec</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('pullover')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Pull-Over Haltère (pecs)</div><div class="ex-sets">3 × 12-15 reps · Étirement cage thoracique</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('tricep-pushdown')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Extension Triceps Poulie (finition)</div><div class="ex-sets">3 × 15 reps · Congestion totale</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">TECHNIQUES AVANCÉES</div><div class="day-focus" style="color:var(--gold);">Pour maximiser la croissance pectorale</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Stretching pecs entre chaque série</div><div class="ex-sets">30 sec en position étirée · Augmente la flexibilité et la croissance</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Dropsets sur le Pec Deck</div><div class="ex-sets">Réduis le poids de 30% et continue · 2-3 fois en fin de séance</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Pré-fatigue avec écarté avant développé</div><div class="ex-sets">Écarté poulie → immédiatement développé couché · Super-set puissant</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Descente lente 3-4 secondes</div><div class="ex-sets">La phase excentrique est clé pour l'hypertrophie pectorale</div></div></div>
      </div>
    </div>
  </div>

  <!-- ABDOMINAUX -->
  <div class="programme-content" id="prog-abdos">
    <div class="day-card fade-in-up" style="grid-column: 1 / -1;">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(230,57,70,0.25), rgba(255,107,53,0.1));">
        <div>
          <div class="day-name" style="background: linear-gradient(90deg,var(--red),var(--orange)); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">PROGRAMME ABDOMINAUX — 6 PACK</div>
          <div class="day-focus">3-4 séances abdos / semaine · Cardio + gainage + isolation · Résultats visibles en 8-12 semaines</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none; opacity:0.7;">
          <div class="ex-num" style="color:var(--red);">💡</div>
          <div class="ex-info">
            <div class="ex-name" style="color:var(--orange);">Les abdos se font aussi en cuisine : sans déficit calorique, pas de 6 pack visible</div>
            <div class="ex-sets">Programme abdos à ajouter à la fin de tes séances normales · 15-20 min suffisent · Intensité > durée</div>
          </div>
        </div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE FORCE CORE</div><div class="day-focus">Lundi & Jeudi · Abdos profonds</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('ab-wheel')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Ab Wheel — Rouleau Abdominal</div><div class="ex-sets">4 × 8-12 reps · L'exercice roi du core</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('dragon-flag')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Dragon Flag (ou variante genou)</div><div class="ex-sets">3 × 6-10 reps · Force abdominale maximale</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('hanging-knee')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Relevé de Genoux Suspendu</div><div class="ex-sets">4 × 15-20 reps · Bas du ventre</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('plank')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Planche Frontale</div><div class="ex-sets">3 × 45-60 sec · Gainage profond</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('side-plank')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Planche Latérale</div><div class="ex-sets">3 × 30-45 sec par côté · Obliques</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE VOLUME</div><div class="day-focus">Mardi & Vendredi · Pump abdominal</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('crunch-cable')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Crunch Poulie Haute</div><div class="ex-sets">4 × 15-20 reps · Avec résistance = hypertrophie réelle</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('russian-twist')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Russian Twist Lesté</div><div class="ex-sets">3 × 20 reps (10 par côté) · Obliques</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('leg-raise')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Relevé de Jambes Allongé</div><div class="ex-sets">4 × 15-20 reps · Bas abdos</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('bicycle-crunch')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Bicycle Crunch</div><div class="ex-sets">3 × 30 reps (15 par côté) · Full abdos</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('ab-wheel')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Ab Wheel (finition)</div><div class="ex-sets">2 × max reps · Tout donner</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">LA VÉRITÉ SUR LES ABDOS</div><div class="day-focus" style="color:var(--gold);">Ce que personne ne te dit</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Les abdos : 30% entraînement, 70% alimentation</div><div class="ex-sets">Déficit de 300-500 kcal/jour · Cardio 2-3×/semaine · Patience 3-6 mois</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Entraîne les abdos comme n'importe quel muscle</div><div class="ex-sets">Avec résistance (poulie, disque) · Pas 500 crunchs à vide</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Le squat et le soulevé de terre = meilleurs exercices abdos</div><div class="ex-sets">Gainage naturel sous charge lourde = abdos solides et épais</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Protéines élevées pendant la sèche</div><div class="ex-sets">2,2-2,5g/kg pour préserver le muscle pendant le déficit</div></div></div>
      </div>
    </div>
  </div>

  <!-- BRAS -->
  <div class="programme-content" id="prog-bras">
    <div class="day-card fade-in-up" style="grid-column: 1 / -1;">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(230,57,70,0.25), rgba(255,107,53,0.1));">
        <div>
          <div class="day-name" style="background: linear-gradient(90deg,var(--red),var(--orange)); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">PROGRAMME SPÉCIALISATION BRAS</div>
          <div class="day-focus">Biceps + Triceps + Avant-bras · 2 séances bras / semaine · +2-3 cm en 12 semaines</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none; opacity:0.7;">
          <div class="ex-num" style="color:var(--red);">💡</div>
          <div class="ex-info">
            <div class="ex-name" style="color:var(--orange);">Les bras grossissent surtout avec le dos et la poitrine — ne néglige pas les exercices de base</div>
            <div class="ex-sets">Les triceps représentent 2/3 du volume du bras · Travaille-les autant que les biceps</div>
          </div>
        </div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE BICEPS</div><div class="day-focus">Mardi · Focus biceps complets</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('bicep-curl')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Curl Barre EZ ou Droite</div><div class="ex-sets">4 × 8-10 reps · Exercice de masse</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('hammer-curl')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Curl Marteau Haltères</div><div class="ex-sets">4 × 10-12 reps · Épaisseur du bras</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('cable-curl')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Curl Poulie Basse</div><div class="ex-sets">3 × 12-15 reps · Tension constante</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('incline-db')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Curl Incliné Haltères (pic)</div><div class="ex-sets">3 × 12-15 reps par bras · Étirement long chef</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('pullups')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Tractions Supination (Chins)</div><div class="ex-sets">3 × max reps · Long chef + masse dorsale</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE TRICEPS</div><div class="day-focus">Vendredi · Focus triceps 3 têtes</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('tricep-dips')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Dips Triceps Lestés</div><div class="ex-sets">4 × 8-10 reps · Masse globale triceps</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('tricep-pushdown')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Extension Poulie Haute (barre)</div><div class="ex-sets">4 × 10-12 reps · Chef latéral</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('incline-barbell')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Skull Crusher Barre EZ (extension couché)</div><div class="ex-sets">3 × 10-12 reps · Long chef triceps</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('tricep-pushdown')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Extension Poulie Corde (écartement)</div><div class="ex-sets">3 × 15 reps · Finition 3 têtes</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('tricep-dips')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Dips Banc (poids du corps)</div><div class="ex-sets">3 × 15-20 reps · Isolation finale</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">SUPERSET BRAS (OPTIONNEL)</div><div class="day-focus" style="color:var(--gold);">Combiner biceps + triceps le même jour</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Superset 1 : Curl Barre + Extension Poulie</div><div class="ex-sets">4 × 10 + 10 · Repos 90 sec entre supersets</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Superset 2 : Curl Marteau + Dips</div><div class="ex-sets">4 × 12 + 12 · Pump extrême garanti</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Superset 3 : Curl Poulie + Skull Crusher</div><div class="ex-sets">3 × 15 + 12 · Finition totale</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Avant-bras : Curl de poignet + Reverse Curl</div><div class="ex-sets">3 × 20 reps · Pour des bras complets et proportionnés</div></div></div>
      </div>
    </div>
  </div>

  <!-- ÉPAULES -->
  <div class="programme-content" id="prog-epaules">
    <div class="day-card fade-in-up" style="grid-column: 1 / -1;">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(230,57,70,0.25), rgba(255,107,53,0.1));">
        <div>
          <div class="day-name" style="background: linear-gradient(90deg,var(--red),var(--orange)); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">PROGRAMME SPÉCIALISATION ÉPAULES</div>
          <div class="day-focus">3 faisceaux · Deltoïdes larges et ronds · 2 séances / semaine · 10-12 semaines</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none; opacity:0.7;">
          <div class="ex-num" style="color:var(--red);">💡</div>
          <div class="ex-info">
            <div class="ex-name" style="color:var(--orange);">Le faisceau latéral donne la largeur — c'est lui qui crée l'illusion d'un corps en V</div>
            <div class="ex-sets">Le faisceau postérieur est souvent négligé — essentiel pour la santé et la symétrie · Toujours finir par le face pull</div>
          </div>
        </div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE A — VOLUME</div><div class="day-focus">Lundi · Épaules larges et rondes</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('ohp')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Développé Militaire Barre</div><div class="ex-sets">5 × 5-6 reps · Base de force épaules</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('arnold-press')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Développé Arnold Haltères</div><div class="ex-sets">4 × 10-12 reps · 3 faisceaux en 1 exercice</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('lateral-raise')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Élévations Latérales Haltères</div><div class="ex-sets">5 × 15-20 reps · Faisceau latéral = largeur</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('arnold-press')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Développé Arnold Haltères (Volume)</div><div class="ex-sets">3 × 12 reps · Finition 3 faisceaux</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('facepull')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Face Pull Poulie Haute</div><div class="ex-sets">4 × 15-20 reps · Arrière deltoïdes + coiffe</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE B — ISOLATION</div><div class="day-focus">Jeudi · Détail et définition</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('arnold-press')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Développé Arnold Lourd</div><div class="ex-sets">4 × 8-10 reps · Puissance</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('lateral-raise')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Élévations Latérales Dropset</div><div class="ex-sets">4 × 15+10+5 · Réduction poids sans pause</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('front-raise')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Élévations Frontales Haltères</div><div class="ex-sets">3 × 12-15 reps · Faisceau antérieur</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('reverse-fly')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Oiseau (Écarté Penché Haltères)</div><div class="ex-sets">4 × 15 reps · Arrière deltoïdes</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('facepull')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Face Pull (finition)</div><div class="ex-sets">3 × 20 reps · Santé de la coiffe</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">SECRETS DES ÉPAULES LARGES</div><div class="day-focus" style="color:var(--gold);">Ce qui fait vraiment la différence</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Volume élevé sur les latérales : 20-30 séries / semaine</div><div class="ex-sets">Le faisceau latéral répond mieux au volume qu'à l'intensité</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Ne monte jamais au-dessus des épaules sur les latérales</div><div class="ex-sets">Au-dessus = trapèzes, pas deltoïdes · Reste dans la bonne amplitude</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Toujours inclure le face pull pour la santé</div><div class="ex-sets">Prévient les blessures à la coiffe des rotateurs · 2 séries min par séance</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Commence léger sur les élévations latérales</div><div class="ex-sets">5-10kg max pour maîtriser · La forme prime sur la charge</div></div></div>
      </div>
    </div>
  </div>

  <!-- DOS -->
  <div class="programme-content" id="prog-dos">
    <div class="day-card fade-in-up" style="grid-column: 1 / -1;">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(230,57,70,0.25), rgba(255,107,53,0.1));">
        <div>
          <div class="day-name" style="background: linear-gradient(90deg,var(--red),var(--orange)); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">PROGRAMME SPÉCIALISATION DOS</div>
          <div class="day-focus">Largeur + Épaisseur + Lombaires · 2 séances / semaine · Dos en V massif</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none; opacity:0.7;">
          <div class="ex-num" style="color:var(--red);">💡</div>
          <div class="ex-info">
            <div class="ex-name" style="color:var(--orange);">Largeur = tractions et tirages verticaux · Épaisseur = rowings et tirages horizontaux</div>
            <div class="ex-sets">Le dos est le groupe musculaire le plus complexe · Varie les prises (pronation, supination, neutre) pour tout stimuler</div>
          </div>
        </div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE A — LARGEUR</div><div class="day-focus">Lundi · Dos en V et grand dorsal</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('deadlift')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Soulevé de Terre</div><div class="ex-sets">4 × 4-5 reps · Roi de la masse dorsale</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('pullups')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Tractions Pronation Large</div><div class="ex-sets">4 × max reps · Largeur du dos en V</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('pulldown')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Tirage Vertical Poulie Large</div><div class="ex-sets">4 × 10-12 reps · Alternative assistée aux tractions</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('seated-cable-row')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Tirage Horizontal Poulie (supination)</div><div class="ex-sets">3 × 10-12 reps · Grand dorsal + biceps</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('pullover')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Pull-Over Haltère</div><div class="ex-sets">3 × 15 reps · Étirement grand dorsal</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE B — ÉPAISSEUR</div><div class="day-focus">Jeudi · Rowings et masse dorsale</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('row-barre')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Rowing Barre Pronation</div><div class="ex-sets">5 × 5-6 reps · Force et masse du dos</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('tbar-row')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">T-Bar Row</div><div class="ex-sets">4 × 8-10 reps · Épaisseur centre du dos</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('seated-cable-row')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Tirage Horizontal Poulie</div><div class="ex-sets">4 × 12-15 reps · Contraction parfaite</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('hyperextension')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Hyperextension Lestée</div><div class="ex-sets">3 × 15 reps · Lombaires et bas du dos</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('facepull')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Face Pull</div><div class="ex-sets">3 × 20 reps · Trapèzes moyens et arrière deltoïdes</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">CLÉS D'UN DOS MASSIF</div><div class="day-focus" style="color:var(--gold);">Techniques des pros</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Initie chaque rep avec les omoplates, pas les bras</div><div class="ex-sets">Descends les omoplates d'abord, puis tire · Connexion esprit-muscle</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Pense à "écraser un citron dans ton aisselle"</div><div class="ex-sets">Visualisation pour contracter le grand dorsal · Très efficace pour les débutants</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Varie les prises chaque séance</div><div class="ex-sets">Pronation large → supination → neutre → prise mixte · Stimulation complète</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Étire à fond sur chaque répétition</div><div class="ex-sets">La position basse = étirement complet = plus de croissance musculaire</div></div></div>
      </div>
    </div>
  </div>

  <!-- JAMBES -->
  <div class="programme-content" id="prog-jambes">
    <div class="day-card fade-in-up" style="grid-column: 1 / -1;">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(230,57,70,0.25), rgba(255,107,53,0.1));">
        <div>
          <div class="day-name" style="background: linear-gradient(90deg,var(--red),var(--orange)); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">PROGRAMME SPÉCIALISATION JAMBES</div>
          <div class="day-focus">Quadriceps + Ischios + Fessiers + Mollets · 2 séances / semaine · Jambes de compétition</div>
        </div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none; opacity:0.7;">
          <div class="ex-num" style="color:var(--red);">💡</div>
          <div class="ex-info">
            <div class="ex-name" style="color:var(--orange);">Les jambes = 50% de la masse musculaire du corps · Les entraîner sérieusement booste aussi le haut du corps (hormones)</div>
            <div class="ex-sets">Récupération 72h minimum entre les séances jambes · Mange plus les jours de jambes · C'est le groupe le plus exigeant</div>
          </div>
        </div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE A — QUADRICEPS</div><div class="day-focus">Lundi · Quad dominant</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('squat')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Squat Barre Haute</div><div class="ex-sets">5 × 5-6 reps · Roi des jambes</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('hack-squat')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Hack Squat Machine</div><div class="ex-sets">4 × 8-10 reps · Quadriceps isolés</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('leg-press')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Leg Press (pieds bas)</div><div class="ex-sets">4 × 10-12 reps · Focus quadriceps</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('bulgarian-squat')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Fentes Bulgares Haltères</div><div class="ex-sets">3 × 10 par jambe · Unilatéral</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('calf-raises')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Mollets Debout Machine</div><div class="ex-sets">5 × 15-20 reps · Gastrocnémiens</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">SÉANCE B — ISCHIOS / FESSIERS</div><div class="day-focus">Jeudi · Chaîne postérieure</div></div></div>
      <div class="day-body">
        <div class="exercise-item" onclick="openModal('deadlift')"><div class="ex-num">01</div><div class="ex-info"><div class="ex-name">Soulevé de Terre Roumain (sumo)</div><div class="ex-sets">4 × 6-8 reps · Ischios et fessiers</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('rdl')"><div class="ex-num">02</div><div class="ex-info"><div class="ex-name">Romanian Deadlift Haltères</div><div class="ex-sets">4 × 10-12 reps · Ischios étirement complet</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('leg-curl')"><div class="ex-num">03</div><div class="ex-info"><div class="ex-name">Leg Curl Couché</div><div class="ex-sets">4 × 12-15 reps · Isolation ischios</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('leg-press')"><div class="ex-num">04</div><div class="ex-info"><div class="ex-name">Leg Press (pieds hauts et larges)</div><div class="ex-sets">3 × 12-15 reps · Fessiers et ischios</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
        <div class="exercise-item" onclick="openModal('calf-raises')"><div class="ex-num">05</div><div class="ex-info"><div class="ex-name">Mollets Assis (soléaires)</div><div class="ex-sets">4 × 20 reps · Muscle profond des mollets</div></div><div class="ex-play" aria-label="Voir la vidéo">▶</div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">JAMBES : LES ERREURS FATALES</div><div class="day-focus" style="color:var(--gold);">Ce que font les 90% qui stagnent</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Squatter trop haut (demi-squat)</div><div class="ex-sets">Descends jusqu'à la parallèle minimum · En dessous = plus de muscle · Ton égo est ton ennemi</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Négliger les ischios et les mollets</div><div class="ex-sets">Jambes déséquilibrées = blessures · Train legs complets à chaque séance</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Pas assez manger après la séance jambes</div><div class="ex-sets">C'est la séance la plus catabolique · +300 kcal supplémentaires ce jour-là</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">S'arrêter dès que ça brûle</div><div class="ex-sets">Les jambes répondent au volume et à l'inconfort · Le "leg day pain" est normal</div></div></div>
      </div>
    </div>
  </div>

  <!-- ÉCHAUFFEMENT -->

</section>

<!-- ÉCHAUFFEMENT -->
<section id="echauffement" style="background: var(--dark); max-width: 100%; padding: 100px 48px; border-top: 1px solid rgba(255,255,255,0.05);">
<div style="max-width: 1400px; margin: 0 auto;">
  <div class="section-header fade-in-up">
    <span class="section-num">02</span>
    <h2 class="section-title">ÉCHAUFFEMENT</h2>
    <div class="section-line"></div>
  </div>
  <p class="fade-in-up" style="color: var(--gray); max-width: 640px; margin-bottom: 64px; line-height: 1.8;">
    L'échauffement est la partie la plus négligée — et la plus importante. 10 minutes bien faites = zéro blessure, meilleures performances, et plus de progression sur le long terme.
  </p>

  <!-- TABS ÉCHAUFFEMENT -->
  <div style="display:flex; gap:0; margin-bottom:48px; border:1px solid rgba(255,255,255,0.08); border-radius:6px; overflow:hidden; width:100%;" class="fade-in-up">
    <button onclick="switchWarmup('general')" id="wbtn-general" class="wbtn active">GÉNÉRAL</button>
    <button onclick="switchWarmup('pecs')"    id="wbtn-pecs"    class="wbtn">PECTORAUX</button>
    <button onclick="switchWarmup('dos')"     id="wbtn-dos"     class="wbtn">DOS</button>
    <button onclick="switchWarmup('epaules')" id="wbtn-epaules" class="wbtn">ÉPAULES</button>
    <button onclick="switchWarmup('jambes')"  id="wbtn-jambes"  class="wbtn" style="border-right:none;">JAMBES</button>
  </div>

  <!-- GÉNÉRAL -->
  <div id="warmup-general" class="day-grid">
    <div class="day-card fade-in-up" style="grid-column: 1 / -1;">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(230,57,70,0.2), rgba(255,107,53,0.1));">
        <div><div class="day-name">PROTOCOLE UNIVERSEL — TOUTES SÉANCES</div><div class="day-focus">10-15 minutes · À faire avant chaque entraînement sans exception</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">💡</div><div class="ex-info"><div class="ex-name" style="color:var(--orange);">Règle d'or : commence léger, monte progressivement</div><div class="ex-sets">L'échauffement prépare les articulations, les muscles ET le système nerveux · Ne saute jamais cette étape</div></div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">PHASE 1 — CARDIO LÉGER</div><div class="day-focus">5 minutes · Élever la température corporelle</div></div></div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">01</div><div class="ex-info"><div class="ex-name">Vélo elliptique ou rameur</div><div class="ex-sets">5 min · Intensité faible (4-5/10) · Ne pas fatiguer</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">—</div><div class="ex-info"><div class="ex-name">Alternative : corde à sauter</div><div class="ex-sets">2-3 min à rythme calme · Activation cardio-vasculaire douce</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">—</div><div class="ex-info"><div class="ex-name">Alternative : marche rapide inclinée</div><div class="ex-sets">5 min sur tapis roulant · Pente légère · Pour débuter</div></div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">PHASE 2 — MOBILITÉ ARTICULAIRE</div><div class="day-focus">3 minutes · Lubrifier les articulations</div></div></div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">01</div><div class="ex-info"><div class="ex-name">Rotations des épaules</div><div class="ex-sets">10 cercles vers l'avant + 10 vers l'arrière · Amplitude maximale</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">02</div><div class="ex-info"><div class="ex-name">Rotations des poignets et des coudes</div><div class="ex-sets">10 cercles dans chaque sens · Joints souvent négligés</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">03</div><div class="ex-info"><div class="ex-name">Rotations des hanches et du bassin</div><div class="ex-sets">10 cercles par côté · Essentiel pour le squat et le deadlift</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">04</div><div class="ex-info"><div class="ex-name">Rotation du cou (lente)</div><div class="ex-sets">5 cercles dans chaque sens · Très doucement · Déverrouille la nuque</div></div></div>
      </div>
    </div>
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">PHASE 3 — ACTIVATION</div><div class="day-focus">3 minutes · Activer les muscles ciblés</div></div></div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">01</div><div class="ex-info"><div class="ex-name">Pompes (push-ups) au poids du corps</div><div class="ex-sets">2 × 15 reps · Active pecs, épaules, triceps · Parfait avant toute séance push</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">02</div><div class="ex-info"><div class="ex-name">Squats au poids du corps</div><div class="ex-sets">2 × 15 reps lents · Active les jambes et le gainage · Avant séance legs</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">03</div><div class="ex-info"><div class="ex-name">Band pull-aparts (élastique)</div><div class="ex-sets">2 × 15 reps · Active les rhomboïdes · Avant séance dos ou épaules</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">04</div><div class="ex-info"><div class="ex-name">Planche 30 secondes</div><div class="ex-sets">1 × 30 sec · Engage le core avant chaque séance · Protège le dos</div></div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">MONTÉE EN CHARGE</div><div class="day-focus" style="color:var(--gold);">La phase la plus importante avant un exercice lourd</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Série 1 — Barre vide (20 kg) × 10 reps</div><div class="ex-sets">Parfaire la technique · Sentir le mouvement · Jamais de fatigue</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Série 2 — 50% de ta charge de travail × 8 reps</div><div class="ex-sets">Commencer à charger · Toujours bien contrôlé · Repos 1 min</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Série 3 — 75% de ta charge de travail × 5 reps</div><div class="ex-sets">S'approcher du poids de travail · Repos 2 min</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Série 4 — 90% de ta charge de travail × 2-3 reps</div><div class="ex-sets">Finaliser l'activation neuro-musculaire · Repos 3 min · Puis travailler</div></div></div>
      </div>
    </div>
  </div>

  <!-- PECS -->
  <div id="warmup-pecs" class="day-grid" style="display:none;">
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">ÉCHAUFFEMENT PECTORAUX</div><div class="day-focus">10 min · Avant développé couché / incliné</div></div></div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">01</div><div class="ex-info"><div class="ex-name">Cardio léger 3-5 min</div><div class="ex-sets">Elliptique, vélo ou rameur · Température corporelle +1-2°C</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">02</div><div class="ex-info"><div class="ex-name">Rotations des épaules — 2 × 10</div><div class="ex-sets">Avant + arrière · Amplitude complète · Déverrouille la coiffe</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">03</div><div class="ex-info"><div class="ex-name">Pompes au poids du corps — 2 × 15</div><div class="ex-sets">Complètes, amplitude totale · Active pecs + stabilisateurs épaules</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">04</div><div class="ex-info"><div class="ex-name">Écarté haltères légers — 2 × 15</div><div class="ex-sets">Poids très léger (5-10 kg) · Étirement + activation pectorale · Lent</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">05</div><div class="ex-info"><div class="ex-name">Montée en charge au développé couché</div><div class="ex-sets">Barre vide × 10 → 50% × 6 → 75% × 3 → charge de travail</div></div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">POINTS D'ATTENTION PECS</div><div class="day-focus" style="color:var(--gold);">Prévenir les blessures fréquentes</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Jamais de chaud-chaud ou de froid-froid sur les pecs</div><div class="ex-sets">Les insertions du grand pectoral sont très susceptibles aux déchirures · Monte progressivement</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Si douleur à l'épaule → stop immédiat</div><div class="ex-sets">Douleur articulaire ≠ douleur musculaire · Ne jamais forcer sur une douleur pointue</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Face pull en fin de séance toujours</div><div class="ex-sets">Rééquilibre les muscles de la coiffe · Prévient les déséquilibres ant/post épaule</div></div></div>
      </div>
    </div>
  </div>

  <!-- DOS -->
  <div id="warmup-dos" class="day-grid" style="display:none;">
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">ÉCHAUFFEMENT DOS</div><div class="day-focus">10 min · Avant tractions / rowing / deadlift</div></div></div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">01</div><div class="ex-info"><div class="ex-name">Cardio léger 3-5 min</div><div class="ex-sets">Rameur recommandé — active spécifiquement le dos</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">02</div><div class="ex-info"><div class="ex-name">Chat/Vache (Cat-Cow) — 2 × 10</div><div class="ex-sets">À 4 pattes · Mobilise la colonne vertébrale · Essentiel avant deadlift</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">03</div><div class="ex-info"><div class="ex-name">Suspension passive à la barre 30 sec</div><div class="ex-sets">Se laisser pendre, bras tendus · Décompresse la colonne · Étire le dos</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">04</div><div class="ex-info"><div class="ex-name">Tirage vertical léger poulie — 2 × 15</div><div class="ex-sets">Charge très légère · Active le grand dorsal · Connexion esprit-muscle</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">05</div><div class="ex-info"><div class="ex-name">Good mornings barre vide — 2 × 10</div><div class="ex-sets">Flexion hanches dos neutre · Active les lombaires et ischios · Avant deadlift</div></div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">POINTS D'ATTENTION DOS</div><div class="day-focus" style="color:var(--gold);">Colonne vertébrale : zone critique</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Dos neutre TOUJOURS — jamais de flexion lombaire</div><div class="ex-sets">La cambrure sous charge = blessure immédiate · Préfère moins de poids à se blesser</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Inspirer avant la montée, expirer en haut</div><div class="ex-sets">Manœuvre de Valsalva pour les charges lourdes · Stabilise la pression intra-abdominale</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Ceinture lombaire uniquement au-dessus de 80% du max</div><div class="ex-sets">En dessous = musculature naturelle · La ceinture ne remplace pas une sangle musculaire forte</div></div></div>
      </div>
    </div>
  </div>

  <!-- ÉPAULES -->
  <div id="warmup-epaules" class="day-grid" style="display:none;">
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">ÉCHAUFFEMENT ÉPAULES</div><div class="day-focus">10 min · Avant développé militaire / élévations</div></div></div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">01</div><div class="ex-info"><div class="ex-name">Cardio léger 3-5 min</div><div class="ex-sets">Rameur ou elliptique · Active tout le haut du corps</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">02</div><div class="ex-info"><div class="ex-name">Rotations des épaules — 3 × 10</div><div class="ex-sets">Grande amplitude · Avant + arrière · Obligatoire à chaque séance épaules</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">03</div><div class="ex-info"><div class="ex-name">Rotation externe avec élastique — 2 × 15</div><div class="ex-sets">Coude à 90° au corps · Active la coiffe des rotateurs · Prévention blessure</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">04</div><div class="ex-info"><div class="ex-name">Face pull léger poulie — 2 × 20</div><div class="ex-sets">Poids très léger · Active les arrière-deltoïdes et stabilisateurs</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">05</div><div class="ex-info"><div class="ex-name">Élévations latérales très légères — 2 × 15</div><div class="ex-sets">2-3 kg max · Activation ciblée des deltoïdes latéraux avant la séance</div></div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">POINTS D'ATTENTION ÉPAULES</div><div class="day-focus" style="color:var(--gold);">Articulation la plus fragile du corps</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">L'épaule est l'articulation la plus complexe — la préparer sérieusement</div><div class="ex-sets">Coiffe des rotateurs + capsule articulaire + 3 faisceaux du deltoïde à activer</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Jamais de mouvement balistique à froid</div><div class="ex-sets">Aucun balancement, aucune rotation rapide · Tout est lent et contrôlé à l'échauffement</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Face pull = assurance vie pour les épaules</div><div class="ex-sets">2 min avant + 2 min après chaque séance · Investissement qui dure toute la carrière</div></div></div>
      </div>
    </div>
  </div>

  <!-- JAMBES -->
  <div id="warmup-jambes" class="day-grid" style="display:none;">
    <div class="day-card fade-in-up">
      <div class="day-header"><div><div class="day-name">ÉCHAUFFEMENT JAMBES</div><div class="day-focus">12-15 min · Avant squat / leg press / deadlift</div></div></div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">01</div><div class="ex-info"><div class="ex-name">Vélo stationnaire 5 min</div><div class="ex-sets">Meilleur échauffement jambes · Lubrifie les genoux et les hanches</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">02</div><div class="ex-info"><div class="ex-name">Squats au poids du corps profonds — 2 × 15</div><div class="ex-sets">Lents, amplitude maximale · Mobilise chevilles, genoux, hanches · Descendrele plus bas possible</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">03</div><div class="ex-info"><div class="ex-name">Fentes dynamiques — 2 × 10 par jambe</div><div class="ex-sets">Marche avant avec rotation du buste · Ouvre les hanches · Active fessiers</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">04</div><div class="ex-info"><div class="ex-name">Cercles de hanches debout — 10 par sens</div><div class="ex-sets">Mains sur les hanches · Grande amplitude · Lubrifie les articulations coxo-fémorales</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">05</div><div class="ex-info"><div class="ex-name">Leg curl machine léger — 2 × 15</div><div class="ex-sets">Poids léger · Active les ischios avant le deadlift ou le RDL</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--red);">06</div><div class="ex-info"><div class="ex-name">Montée en charge squat obligatoire</div><div class="ex-sets">Barre vide × 10 → 50% × 6 → 75% × 3 → charge de travail · Jamais direct au lourd</div></div></div>
      </div>
    </div>
    <div class="day-card fade-in-up" style="border-color: rgba(255,183,3,0.3);">
      <div class="day-header" style="background: linear-gradient(135deg, rgba(255,183,3,0.15), rgba(255,183,3,0.05));">
        <div><div class="day-name" style="color: var(--gold);">POINTS D'ATTENTION JAMBES</div><div class="day-focus" style="color:var(--gold);">Les erreurs qui blessent les genoux</div></div>
      </div>
      <div class="day-body">
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Jamais de squat lourd sans échauffement des genoux</div><div class="ex-sets">Le cartilage a besoin de synovie pour être lubrifié · 5 min de vélo minimum</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Pas d'étirements statiques AVANT la séance jambes</div><div class="ex-sets">Réduisent temporairement la force de 5-8% · Les faire APRÈS la séance uniquement</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Genoux dans l'axe des orteils toujours</div><div class="ex-sets">Ni en dedans (valgus) ni en dehors · Signe précurseur de blessure aux ligaments</div></div></div>
        <div class="exercise-item" style="pointer-events:none;"><div class="ex-num" style="color:var(--gold);">✦</div><div class="ex-info"><div class="ex-name">Après la séance : 5 min d'étirements quadriceps/ischios</div><div class="ex-sets">Réduit les courbatures de 40% · Améliore la récupération · Ne pas sauter</div></div></div>
      </div>
    </div>
  </div>

</div>
</section>

<section id="exercices" style="background: var(--dark2); max-width: 100%; padding: 100px 48px;">
<div style="max-width: 1400px; margin: 0 auto;">
  <div class="section-header fade-in-up">
    <span class="section-num">02</span>
    <h2 class="section-title">EXERCICES — TUTORIELS VIDÉO</h2>
    <div class="section-line"></div>
  </div>
  <p class="fade-in-up" style="color: var(--gray); max-width: 600px; margin-bottom: 48px; line-height: 1.8;">
    Clique sur chaque exercice pour voir la vidéo complète avec les points techniques essentiels pour maximiser la sécurité et la progression.
  </p>

  <div class="exercise-grid">

    <div class="ex-card fade-in-up" onclick="openModal('squat')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/SW_C1A-rejs/hqdefault.jpg" alt="Squat" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Quadriceps · Fessiers · Ischios</span>
        <div class="ex-card-title">SQUAT BARRE HAUTE</div>
        <p class="ex-card-desc">Le roi des exercices. Sollicite tout le bas du corps et stimule une production hormonale maximale (testostérone, GH).</p>
        <div class="ex-card-tips">💡 Pieds à largeur d'épaules, genoux dans l'axe des orteils. Descends jusqu'à parallèle minimum. Dos neutre, regard devant.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('bench-press')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/vcBig73ojpE/hqdefault.jpg" alt="Bench Press" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Pectoraux · Deltoïdes · Triceps</span>
        <div class="ex-card-title">DÉVELOPPÉ COUCHÉ BARRE</div>
        <p class="ex-card-desc">Exercice fondamental pour construire une poitrine massive et forte. Indispensable dans tout programme de prise de masse.</p>
        <div class="ex-card-tips">💡 Omoplates serrées, légère cambrure. Barre descend sur le bas des pec. Coudes à 75°. Prise légèrement plus large que les épaules.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('deadlift')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/op9kVnSso6Q/hqdefault.jpg" alt="Deadlift" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Dos · Lombaires · Fessiers · Ischios</span>
        <div class="ex-card-title">SOULEVÉ DE TERRE</div>
        <p class="ex-card-desc">Le mouvement le plus complet qui existe. Stimule pratiquement tous les muscles du corps et déclenche une réponse hormonale massive.</p>
        <div class="ex-card-tips">💡 Barre collée aux tibias. Dos plat, hanches basses au départ. Pousse le sol, pas soulevé la barre. Expire en haut.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('ohp')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/2yjwXTZQDDI/hqdefault.jpg" alt="OHP" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Deltoïdes · Trapèzes · Triceps</span>
        <div class="ex-card-title">DÉVELOPPÉ MILITAIRE</div>
        <p class="ex-card-desc">Construit des épaules larges et fortes. Excellent pour la force fonctionnelle et l'équilibre muscular.</p>
        <div class="ex-card-tips">💡 Debout, corps gainé. La barre passe devant le visage. Pousse en ligne droite au-dessus de la tête. Evite l'hyperextension lombaire.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('pullups')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/eGo4IYlbE5g/hqdefault.jpg" alt="Tractions" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Grand Dorsal · Biceps · Rhomboïdes</span>
        <div class="ex-card-title">TRACTIONS PRONATION</div>
        <p class="ex-card-desc">L'exercice de référence pour développer un dos large en V. Utilise le poids du corps pour une tension maximale.</p>
        <div class="ex-card-tips">💡 Prise large, coudes ramenés vers les hanches. Poitrine vers la barre. Évite les mouvements de balancier. Descente contrôlée.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('row-barre')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/kBWAon7ItDw/hqdefault.jpg" alt="Rowing" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Grand Dorsal · Trapèzes · Biceps</span>
        <div class="ex-card-title">ROWING BARRE PRONATION</div>
        <p class="ex-card-desc">Excellent pour l'épaisseur du dos. Permet de charger lourd et de construire une masse dorsale dense et puissante.</p>
        <div class="ex-card-tips">💡 Dos à 45° minimum, neutre. Tire vers le nombril, coudes raclent les flancs. Contracte le dos en haut. Ne balance pas le buste.</div>
      </div>
    </div>

    <!-- NOUVEAUX EXERCICES -->

    <div class="ex-card fade-in-up" onclick="openModal('hack-squat')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/R3yMhCbgMKs/hqdefault.jpg" alt="Hack Squat" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Quadriceps · Fessiers</span>
        <div class="ex-card-title">HACK SQUAT MACHINE</div>
        <p class="ex-card-desc">Alternative parfaite au squat barre pour isoler les quadriceps. La machine sécurise le mouvement et permet de charger très lourd en sécurité.</p>
        <div class="ex-card-tips">💡 Pieds au milieu ou bas de la plateforme pour plus de quadriceps. Descends jusqu'à 90°. Pousse via les talons. Dos plaqué contre le dossier.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('pec-deck')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/Ns09hzN8FnQ/hqdefault.jpg" alt="Pec Deck" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Pectoraux · Deltoïdes Antérieurs</span>
        <div class="ex-card-title">PEC DECK — BUTTERFLY</div>
        <p class="ex-card-desc">Exercice d'isolation parfait pour les pectoraux. Excellent en fin de séance pour maximiser la congestion et le "pump" pectoral.</p>
        <div class="ex-card-tips">💡 Dos plaqué au dossier. Coudes à hauteur des épaules. Contracte les pecs en fermant les bras. Retour lent et contrôlé pour l'étirement.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('seated-cable-row')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/GZbfZ033f74/hqdefault.jpg" alt="Tirage Horizontal" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Grand Dorsal · Trapèzes · Rhomboïdes</span>
        <div class="ex-card-title">TIRAGE HORIZONTAL POULIE</div>
        <p class="ex-card-desc">Construit l'épaisseur du dos de façon contrôlée. Tension constante sur tout le mouvement grâce à la poulie — supérieur au rowing barre pour l'isolation.</p>
        <div class="ex-card-tips">💡 Dos droit, poitrine haute. Tire la poignée vers le nombril. Coudes proches du corps. Serre les omoplates en fin de mouvement. Retour contrôlé.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('tricep-pushdown')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/2-LAMcpzODU/hqdefault.jpg" alt="Tricep Pushdown" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Triceps · Anconé</span>
        <div class="ex-card-title">EXTENSION TRICEPS POULIE</div>
        <p class="ex-card-desc">L'exercice d'isolation triceps le plus utilisé en salle. Tension constante tout au long du mouvement grâce à la poulie haute.</p>
        <div class="ex-card-tips">💡 Coudes fixes contre les flancs, légèrement devant le corps. Extension complète. Contraction maximale en bas. Remontée lente. Evite d'incliner le buste.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('cable-curl')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/ksLQtfxkG0c/hqdefault.jpg" alt="Cable Curl" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Biceps · Brachial</span>
        <div class="ex-card-title">CURL POULIE BASSE</div>
        <p class="ex-card-desc">Le curl à la poulie basse maintient une tension constante sur les biceps, contrairement aux haltères. Idéal pour maximiser l'hypertrophie en fin de séance.</p>
        <div class="ex-card-tips">💡 Poulie basse, prise supination. Coudes fixes. Flexion complète. Maintiens 1 sec en haut. Descente lente en 3 sec. La tension ne relâche jamais.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('hammer-curl')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/zC3nLlEvin4/hqdefault.jpg" alt="Hammer Curl" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Biceps · Brachial · Brachioradial</span>
        <div class="ex-card-title">CURL MARTEAU HALTÈRES</div>
        <p class="ex-card-desc">Développe l'épaisseur et la largeur du bras grâce au travail du brachial et du brachioradial. Donne ce look "épais" au bras.</p>
        <div class="ex-card-tips">💡 Prise neutre (pouce vers le haut). Coudes fixes. Monte les deux haltères en même temps ou en alternance. Idéal après le curl classique.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('arnold-press')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/6Z15_WdXmVw/hqdefault.jpg" alt="Arnold Press" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Deltoïdes (3 faisceaux) · Triceps</span>
        <div class="ex-card-title">DÉVELOPPÉ ARNOLD</div>
        <p class="ex-card-desc">Inventé par Arnold Schwarzenegger. La rotation du poignet engage les 3 faisceaux du deltoïde sur l'amplitude complète du mouvement.</p>
        <div class="ex-card-tips">💡 Départ paumes vers toi, rotation en montant pour finir paumes vers l'avant. Mouvement fluide et contrôlé. Pas de triche avec le bas du dos.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('bulgarian-squat')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/2C-uNgKwPLE/hqdefault.jpg" alt="Bulgarian Split Squat" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Quadriceps · Fessiers · Ischios</span>
        <div class="ex-card-title">FENTES BULGARES</div>
        <p class="ex-card-desc">Un des exercices unilatéraux les plus efficaces. Corrige les déséquilibres gauche/droite et développe une force fonctionnelle exceptionnelle.</p>
        <div class="ex-card-tips">💡 Pied arrière sur un banc à hauteur de genou. Descends verticalement, genou avant dans l'axe. Torse droit. Haltères ou barre sur les épaules.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('tbar-row')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/FD13bEGlQNc/hqdefault.jpg" alt="T-Bar Row" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Grand Dorsal · Trapèzes · Rhomboïdes · Biceps</span>
        <div class="ex-card-title">T-BAR ROW</div>
        <p class="ex-card-desc">Rowing avec une barre en T fixée au sol. Permet de charger plus lourd que le rowing classique avec une prise neutre qui préserve les épaules.</p>
        <div class="ex-card-tips">💡 Corps à 45°, dos neutre. Prise neutre sur la poignée en V. Tire vers la poitrine basse. Coudes proches du corps. Contracte le dos en haut.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('incline-barbell')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/SrxSh9lLkn0/hqdefault.jpg" alt="Incline Barbell" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Pectoraux Supérieurs · Deltoïdes · Triceps</span>
        <div class="ex-card-title">DÉVELOPPÉ INCLINÉ BARRE</div>
        <p class="ex-card-desc">Développe spécifiquement le haut des pectoraux pour un look plein et complet. Souvent négligé mais essentiel pour une poitrine équilibrée.</p>
        <div class="ex-card-tips">💡 Banc à 30-45°. Prise légèrement plus large que les épaules. Barre descend sur le haut des pec. Coudes à 75°. Omoplates serrées tout le mouvement.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('hyperextension')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/ph3pzWkPe6E/hqdefault.jpg" alt="Hyperextension" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Lombaires · Fessiers · Ischios</span>
        <div class="ex-card-title">HYPEREXTENSION DOS</div>
        <p class="ex-card-desc">Exercice fondamental pour renforcer les lombaires et prévenir les blessures. Indispensable pour sécuriser le soulevé de terre et le squat.</p>
        <div class="ex-card-tips">💡 Hanche sur le coussin. Descent jusqu'à 90°. Remonte en contractant fessiers et lombaires. Dos neutre en haut (pas d'hyperextension). Poids sur la poitrine si trop facile.</div>
      </div>
    </div>

    <div class="ex-card fade-in-up" onclick="openModal('ab-wheel')">
      <div class="ex-video-thumb">
        <img src="https://img.youtube.com/vi/p7_5UcRvHH8/hqdefault.jpg" alt="Ab Wheel" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;">
        <div class="ex-thumb-overlay"><div class="play-btn-large">▶</div></div>
      </div>
      <div class="ex-card-body">
        <span class="ex-card-muscle">Abdominaux · Core · Dorsaux</span>
        <div class="ex-card-title">AB WHEEL — ROULEAU ABDOMINAL</div>
        <p class="ex-card-desc">Un des exercices de gainage les plus difficiles et efficaces. Travaille l'ensemble du core, les dorsaux et les épaules en un seul mouvement.</p>
        <div class="ex-card-tips">💡 Commence genoux au sol. Corps gainé, hanches ni hautes ni basses. Extension maximale sans cambrer le bas du dos. Ramène en contractant les abdos, pas en tirant avec les bras.</div>
      </div>
    </div>

  </div>
</div>
</section>

<!-- CALCULATEUR CALORIES -->
<section id="calories" aria-label="Calculateur de calories">
  <div class="section-header fade-in-up">
    <span class="section-num">03</span>
    <h2 class="section-title">CALCULATEUR CALORIQUE</h2>
    <div class="section-line"></div>
  </div>
  <p class="fade-in-up" style="color: var(--gray); max-width: 600px; margin-bottom: 48px; line-height: 1.8;">
    Calcule tes besoins caloriques précis pour la prise de masse avec la formule de Mifflin-St Jeor, puis ajoute un surplus adapté à tes objectifs.
  </p>

  <div class="calc-container">
    <div class="calc-form fade-in-up">
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Âge</label>
          <input type="number" class="form-input" id="calcAge" placeholder="25" min="15" max="80">
        </div>
        <div class="form-group">
          <label class="form-label">Sexe</label>
          <select class="form-select" id="calcSex">
            <option value="m">Homme</option>
            <option value="f">Femme</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Poids (kg)</label>
          <input type="number" class="form-input" id="calcWeight" placeholder="75" min="40" max="200">
        </div>
        <div class="form-group">
          <label class="form-label">Taille (cm)</label>
          <input type="number" class="form-input" id="calcHeight" placeholder="175" min="140" max="220">
        </div>
      </div>
      <div class="form-group">
        <label class="form-label">Niveau d'activité physique</label>
        <select class="form-select" id="calcActivity">
          <option value="1.2">Sédentaire (peu ou pas d'exercice)</option>
          <option value="1.375">Légèrement actif (sport 1-3 j/sem)</option>
          <option value="1.55" selected>Modérément actif (sport 3-5 j/sem)</option>
          <option value="1.725">Très actif (sport intense 6-7 j/sem)</option>
          <option value="1.9">Extrêmement actif (sport 2× par jour)</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Objectif prise de masse</label>
        <select class="form-select" id="calcGoal">
          <option value="250">Lean Bulk — +250 kcal (prise lente, peu de gras)</option>
          <option value="500" selected>Prise de masse — +500 kcal (recommandé)</option>
          <option value="750">Prise de masse rapide — +750 kcal</option>
        </select>
      </div>
      <button class="calc-btn" onclick="calculateCalories()">CALCULER MES BESOINS</button>
    </div>

    <div class="calc-results fade-in-up" id="calcResults">
      <div class="calc-placeholder" id="calcPlaceholder">
        <div class="placeholder-icon">🔥</div>
        <p class="placeholder-text">Remplis le formulaire ci-contre pour obtenir tes besoins caloriques personnalisés et la répartition optimale des macronutriments pour la prise de masse.</p>
      </div>
      <div id="calcResultContent" class="result-hidden">
        <div class="result-main">
          <div class="result-label">Calories quotidiennes pour la prise de masse</div>
          <div class="result-calories" id="resultCalories">0</div>
          <div class="result-unit">KCAL / JOUR</div>
        </div>
        <div style="margin-bottom: 24px;">
          <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
            <span style="font-size: 0.85rem; color: var(--gray);">Métabolisme de base (BMR)</span>
            <span style="font-family: 'Bebas Neue'; font-size: 1rem;" id="resultBMR">0</span>
          </div>
          <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
            <span style="font-size: 0.85rem; color: var(--gray);">Maintenance (TDEE)</span>
            <span style="font-family: 'Bebas Neue'; font-size: 1rem;" id="resultTDEE">0</span>
          </div>
          <div style="display: flex; justify-content: space-between;">
            <span style="font-size: 0.85rem; color: var(--orange);">Surplus calorique</span>
            <span style="font-family: 'Bebas Neue'; font-size: 1rem; color: var(--orange);" id="resultSurplus">0</span>
          </div>
        </div>
        <div class="macros-grid">
          <div class="macro-card macro-prot">
            <div class="macro-value" id="macroProt">0g</div>
            <div class="macro-label">Protéines</div>
          </div>
          <div class="macro-card macro-carb">
            <div class="macro-value" id="macroCarb">0g</div>
            <div class="macro-label">Glucides</div>
          </div>
          <div class="macro-card macro-fat">
            <div class="macro-value" id="macroFat">0g</div>
            <div class="macro-label">Lipides</div>
          </div>
        </div>
        <div class="result-note" id="resultNote"></div>
        <button class="calc-export-btn" onclick="copyCalcResults()" id="calcCopyBtn">
          📋 Copier mes résultats
        </button>
      </div>
    </div>
  </div>
</section>

<!-- NUTRITION -->
<section id="nutrition" style="background: linear-gradient(180deg, var(--dark) 0%, var(--dark2) 100%); max-width: 100%; padding: 100px 48px;">
<div style="max-width: 1400px; margin: 0 auto;">
  <div class="section-header fade-in-up">
    <span class="section-num">04</span>
    <h2 class="section-title">PLAN NUTRITIONNEL</h2>
    <div class="section-line"></div>
  </div>

  <div class="meal-plan-tabs fade-in-up">
    <button class="tab-btn active" onclick="switchMeal('eco')">Petit Budget</button>
    <button class="tab-btn" onclick="switchMeal('mid')">Standard</button>
    <button class="tab-btn" onclick="switchMeal('pro')">Athlete Pro</button>
  </div>

  <!-- PETIT BUDGET -->
  <div class="meal-day-content active" id="meal-eco">
    <div class="meal-card fade-in-up">
      <div class="meal-header">
        <div class="meal-time">🌅 RÉVEIL — 7h00</div>
        <div class="meal-cals">~600 kcal</div>
      </div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🥚</span><span class="meal-food-name">Œufs entiers</span><span class="meal-food-amount">4 œufs</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍞</span><span class="meal-food-name">Pain complet</span><span class="meal-food-amount">2 tranches</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🥛</span><span class="meal-food-name">Lait demi-écrémé</span><span class="meal-food-amount">250ml</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍌</span><span class="meal-food-name">Banane</span><span class="meal-food-amount">1 grande</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">35g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">68g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">18g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>

    <div class="meal-card fade-in-up">
      <div class="meal-header">
        <div class="meal-time">🥜 COLLATION — 10h30</div>
        <div class="meal-cals">~350 kcal</div>
      </div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🫙</span><span class="meal-food-name">Fromage blanc 0%</span><span class="meal-food-amount">200g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🌾</span><span class="meal-food-name">Flocons d'avoine</span><span class="meal-food-amount">50g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍯</span><span class="meal-food-name">Miel</span><span class="meal-food-amount">1 cuillère à soupe</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">25g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">48g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">3g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>

    <div class="meal-card fade-in-up">
      <div class="meal-header">
        <div class="meal-time">🍽️ DÉJEUNER — 13h00</div>
        <div class="meal-cals">~800 kcal</div>
      </div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🍗</span><span class="meal-food-name">Cuisses de poulet</span><span class="meal-food-amount">200g cuit</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍚</span><span class="meal-food-name">Riz blanc cuit</span><span class="meal-food-amount">200g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🥦</span><span class="meal-food-name">Brocolis vapeur</span><span class="meal-food-amount">150g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🫒</span><span class="meal-food-name">Huile d'olive</span><span class="meal-food-amount">1 cuillère à soupe</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">50g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">72g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">18g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>

    <div class="meal-card fade-in-up">
      <div class="meal-header">
        <div class="meal-time">⚡ PRÉ-WORKOUT — 16h30</div>
        <div class="meal-cals">~450 kcal</div>
      </div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🍌</span><span class="meal-food-name">Bananes</span><span class="meal-food-amount">2 moyennes</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🫙</span><span class="meal-food-name">Yaourt grec</span><span class="meal-food-amount">150g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🌾</span><span class="meal-food-name">Pain d'épices</span><span class="meal-food-amount">2 tranches</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">18g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">80g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">5g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>

    <div class="meal-card fade-in-up">
      <div class="meal-header">
        <div class="meal-time">💪 POST-WORKOUT — 19h30</div>
        <div class="meal-cals">~250 kcal</div>
      </div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🥛</span><span class="meal-food-name">Lait demi-écrémé</span><span class="meal-food-amount">500ml</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍫</span><span class="meal-food-name">Protéine whey (optionnel)</span><span class="meal-food-amount">30g scoop</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍌</span><span class="meal-food-name">Banane (si pas de whey)</span><span class="meal-food-amount">1 grande</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">30g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">28g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">6g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>

    <div class="meal-card fade-in-up">
      <div class="meal-header">
        <div class="meal-time">🌙 DÎNER — 20h30</div>
        <div class="meal-cals">~700 kcal</div>
      </div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🥩</span><span class="meal-food-name">Steak haché 5% MG</span><span class="meal-food-amount">200g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍝</span><span class="meal-food-name">Pâtes complètes cuites</span><span class="meal-food-amount">200g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍅</span><span class="meal-food-name">Sauce tomate maison</span><span class="meal-food-amount">100g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🥗</span><span class="meal-food-name">Salade verte</span><span class="meal-food-amount">à volonté</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">55g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">70g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">22g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>
  </div>

  <!-- STANDARD -->
  <div class="meal-day-content" id="meal-mid">
    <div class="meal-card fade-in-up">
      <div class="meal-header"><div class="meal-time">🌅 PETIT-DÉJEUNER</div><div class="meal-cals">~700 kcal</div></div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🥚</span><span class="meal-food-name">Omelette 4 œufs + blancs</span><span class="meal-food-amount">4 entiers + 4 blancs</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🌾</span><span class="meal-food-name">Flocons d'avoine + lait</span><span class="meal-food-amount">80g + 200ml</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍓</span><span class="meal-food-name">Fruits rouges</span><span class="meal-food-amount">100g</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">50g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">75g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">18g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>
    <div class="meal-card fade-in-up">
      <div class="meal-header"><div class="meal-time">🍽️ DÉJEUNER</div><div class="meal-cals">~900 kcal</div></div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🐟</span><span class="meal-food-name">Saumon (filet)</span><span class="meal-food-amount">180g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍠</span><span class="meal-food-name">Patate douce</span><span class="meal-food-amount">250g cuite</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🥦</span><span class="meal-food-name">Brocolis + courgettes</span><span class="meal-food-amount">200g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🥑</span><span class="meal-food-name">Avocat</span><span class="meal-food-amount">1/2</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">48g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">80g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">28g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>
    <div class="meal-card fade-in-up">
      <div class="meal-header"><div class="meal-time">🌙 DÎNER</div><div class="meal-cals">~800 kcal</div></div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🥩</span><span class="meal-food-name">Poitrine de poulet</span><span class="meal-food-amount">250g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍚</span><span class="meal-food-name">Riz basmati complet</span><span class="meal-food-amount">200g cuit</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🫘</span><span class="meal-food-name">Haricots verts</span><span class="meal-food-amount">150g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🧀</span><span class="meal-food-name">Fromage blanc</span><span class="meal-food-amount">150g (dessert)</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">65g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">75g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">15g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>
  </div>

  <!-- PREMIUM -->
  <div class="meal-day-content" id="meal-pro">
    <div class="meal-card fade-in-up">
      <div class="meal-header"><div class="meal-time">🌅 PREMIER REPAS</div><div class="meal-cals">~800 kcal</div></div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🥚</span><span class="meal-food-name">Œufs oméga-3 brouillés</span><span class="meal-food-amount">5 entiers</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🌾</span><span class="meal-food-name">Quinoa + lait d'amande</span><span class="meal-food-amount">80g + 250ml</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🫐</span><span class="meal-food-name">Myrtilles + noix</span><span class="meal-food-amount">100g + 30g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">☕</span><span class="meal-food-name">Café noir</span><span class="meal-food-amount">1-2 tasses</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">45g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">65g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">30g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>
    <div class="meal-card fade-in-up">
      <div class="meal-header"><div class="meal-time">🍽️ DÉJEUNER</div><div class="meal-cals">~1000 kcal</div></div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🥩</span><span class="meal-food-name">Bœuf maigre (bavette)</span><span class="meal-food-amount">220g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍠</span><span class="meal-food-name">Patate douce + riz</span><span class="meal-food-amount">150g + 100g cuits</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🥑</span><span class="meal-food-name">Avocat entier</span><span class="meal-food-amount">1 entier</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🥦</span><span class="meal-food-name">Légumes variés cuits</span><span class="meal-food-amount">250g</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">60g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">90g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">32g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>
    <div class="meal-card fade-in-up">
      <div class="meal-header"><div class="meal-time">🌙 DÎNER</div><div class="meal-cals">~850 kcal</div></div>
      <div class="meal-body">
        <div class="meal-food-item"><span class="meal-emoji">🐟</span><span class="meal-food-name">Thon frais / Cabillaud</span><span class="meal-food-amount">200g</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍝</span><span class="meal-food-name">Pâtes blé complet</span><span class="meal-food-amount">180g cuit</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🍳</span><span class="meal-food-name">Huile de coco (cuisson)</span><span class="meal-food-amount">1 cuillère à soupe</span></div>
        <div class="meal-food-item"><span class="meal-emoji">🫙</span><span class="meal-food-name">Fromage cottage</span><span class="meal-food-amount">200g (couché)</span></div>
        <div class="meal-macros">
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--red)">70g</div><div class="meal-macro-lbl">Prot</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--orange)">80g</div><div class="meal-macro-lbl">Glucides</div></div>
          <div class="meal-macro"><div class="meal-macro-val" style="color:var(--gold)">18g</div><div class="meal-macro-lbl">Lipides</div></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ALIMENTS TOP -->
  <div style="margin-top: 80px;">
    <h3 class="fade-in-up" style="font-family: 'Bebas Neue'; font-size: 2rem; letter-spacing: 3px; margin-bottom: 8px;">TOP ALIMENTS PRISE DE MASSE</h3>
    <p class="fade-in-up" style="color: var(--gray); margin-bottom: 32px; font-size: 0.9rem;">Les meilleurs aliments pour maximiser la prise de masse musculaire</p>
    <div class="food-showcase">
      <div class="food-cat-card fade-in-up">
        <div class="food-cat-emoji">🥚</div>
        <div class="food-cat-name">ŒUFS</div>
        <div class="food-cat-examples">Source de protéines complètes avec tous les acides aminés essentiels. Riches en leucine, déclencheur de la synthèse protéique.</div>
        <div class="food-cat-protein">13g protéines / 100g</div>
      </div>
      <div class="food-cat-card fade-in-up">
        <div class="food-cat-emoji">🍗</div>
        <div class="food-cat-name">POULET</div>
        <div class="food-cat-examples">La base de tout régime de masse. Bon marché, polyvalent, très protéiné et faible en matières grasses.</div>
        <div class="food-cat-protein">31g protéines / 100g</div>
      </div>
      <div class="food-cat-card fade-in-up">
        <div class="food-cat-emoji">🐟</div>
        <div class="food-cat-name">SAUMON</div>
        <div class="food-cat-examples">Riche en protéines ET en oméga-3 anti-inflammatoires, essentiels pour la récupération musculaire.</div>
        <div class="food-cat-protein">25g protéines / 100g</div>
      </div>
      <div class="food-cat-card fade-in-up">
        <div class="food-cat-emoji">🍚</div>
        <div class="food-cat-name">RIZ BLANC</div>
        <div class="food-cat-examples">Source de glucides rapides idéale post-workout. Recharge le glycogène musculaire rapidement.</div>
        <div class="food-cat-protein">130 kcal / 100g cuit</div>
      </div>
      <div class="food-cat-card fade-in-up">
        <div class="food-cat-emoji">🍠</div>
        <div class="food-cat-name">PATATE DOUCE</div>
        <div class="food-cat-examples">Glucides complexes + vitamines + fibres. Énergie stable pour les séances d'entraînement intenses.</div>
        <div class="food-cat-protein">86 kcal / 100g cuite</div>
      </div>
      <div class="food-cat-card fade-in-up">
        <div class="food-cat-emoji">🥛</div>
        <div class="food-cat-name">LAIT & YAOURT GREC</div>
        <div class="food-cat-examples">Combinaison parfaite whey (rapide) + caséine (lente). Idéal avant le coucher pour la synthèse nocturne.</div>
        <div class="food-cat-protein">10g protéines / 100g</div>
      </div>
      <div class="food-cat-card fade-in-up">
        <div class="food-cat-emoji">🫘</div>
        <div class="food-cat-name">LÉGUMINEUSES</div>
        <div class="food-cat-examples">Lentilles, pois chiches, haricots. Protéines végétales + glucides complexes + fibres. Économiques.</div>
        <div class="food-cat-protein">9-18g protéines / 100g</div>
      </div>
      <div class="food-cat-card fade-in-up">
        <div class="food-cat-emoji">🥜</div>
        <div class="food-cat-name">NOIX & BEURRE CACAHUÈTE</div>
        <div class="food-cat-examples">Excellent pour augmenter les calories de façon dense et pratique. Graisses saines, protéines.</div>
        <div class="food-cat-protein">25g protéines / 100g</div>
      </div>
    </div>
  </div>
</div>
</section>

<!-- RECETTES PROTÉINÉES -->
<section id="recettes" style="background: var(--dark2); max-width: 100%; padding: 100px 48px;">
<div style="max-width: 1400px; margin: 0 auto;">
  <div class="section-header fade-in-up">
    <span class="section-num">07</span>
    <h2 class="section-title">RECETTES PROTÉINÉES</h2>
    <div class="section-line"></div>
  </div>
  <p class="fade-in-up" style="color: var(--gray); max-width: 600px; margin-bottom: 40px; line-height: 1.8;">
    Des recettes riches en protéines adaptées à tous les budgets. Chaque recette indique les macros précis pour faciliter ton suivi nutritionnel.
  </p>
  <div style="display:flex; gap:0; margin-bottom:48px; border:1px solid rgba(255,255,255,0.08); border-radius:6px; overflow:hidden; width:fit-content;" class="recipe-tabs fade-in-up">
    <button class="recipe-tab active" onclick="switchRecipe('budget')">Petit Budget (&lt;3€/repas)</button>
    <button class="recipe-tab" onclick="switchRecipe('standard')">Standard (3-6€/repas)</button>
    <button class="recipe-tab" onclick="switchRecipe('premium')">Premium (6€+/repas)</button>
  </div>

  <!-- PETIT BUDGET -->
  <div class="recipe-grid active" id="recipe-budget">

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🥚</div>
        <div class="recipe-name">OMELETTE MASSIVE</div>
        <div class="recipe-subtitle">Petit-déj ou dîner · 10 min</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">42g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">480</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">8g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">32g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~1,20€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>5 œufs entiers</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>100g fromage blanc 0%</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Sel, poivre, herbes de Provence</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>1 c.à.s huile d'olive</div>
        </div>
        <div class="recipe-tip">💡 Ajoute des champignons ou épinards pour les micronutriments sans changer les macros significativement.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🍚</div>
        <div class="recipe-name">RIZ THON MAYO ALLÉGÉE</div>
        <div class="recipe-subtitle">Déjeuner / Post-workout · 8 min</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">52g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">620</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">75g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">10g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~1,50€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g riz cuit (80g cru)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>2 boîtes thon au naturel (160g)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>1 c.à.s mayo allégée</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Sauce soja, citron</div>
        </div>
        <div class="recipe-tip">💡 Prépare 3-4 portions le dimanche (meal prep). Idéal post-workout grâce aux glucides rapides du riz blanc.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🥣</div>
        <div class="recipe-name">PORRIDGE PROTÉINÉ</div>
        <div class="recipe-subtitle">Petit-déjeuner · 5 min</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">38g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">550</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">72g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">12g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~0,90€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>80g flocons d'avoine</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>300ml lait demi-écrémé</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>150g fromage blanc 0%</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>1 banane écrasée</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>1 c.à.c miel, cannelle</div>
        </div>
        <div class="recipe-tip">💡 Le fromage blanc se mélange froid après cuisson pour ne pas cailler. Très digeste avant l'entraînement.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🥔</div>
        <div class="recipe-name">POULET PATATE DOUCE</div>
        <div class="recipe-subtitle">Déjeuner / Dîner · 25 min</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">58g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">680</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">65g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">14g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~2,50€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g blanc de poulet</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>250g patate douce</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Huile d'olive, épices (paprika, cumin)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Ail, oignon, sel</div>
        </div>
        <div class="recipe-tip">💡 Le combo poulet + patate douce est l'un des meilleurs post-workout. Index glycémique modéré + protéines rapides.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🥛</div>
        <div class="recipe-name">SHAKE FROMAGE BLANC BANANE</div>
        <div class="recipe-subtitle">Collation · 2 min · Sans shaker</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">32g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">380</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">48g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">4g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~0,70€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>300g fromage blanc 0%</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>1 banane mûre</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200ml lait</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>1 c.à.c cacao ou vanille</div>
        </div>
        <div class="recipe-tip">💡 Alternative pas chère à la whey. Le fromage blanc 0% = 10g de protéines / 100g pour ~0,40€. Mixe tout au blender.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🫘</div>
        <div class="recipe-name">PASTA THON LÉGUMES</div>
        <div class="recipe-subtitle">Déjeuner · 15 min · Meal prep</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">55g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">720</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">90g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">12g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~1,80€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>100g pâtes (poids cru)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>2 boîtes thon naturel (160g)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Courgette, poivron, tomates cerises</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Huile d'olive, ail, basilic</div>
        </div>
        <div class="recipe-tip">💡 Cuit en 15 min, parfait pour le meal prep de la semaine. Stocke 4 jours au frigo. Ajoute du parmesan pour les calories.</div>
      </div>
    </div>

  </div>

  <!-- STANDARD -->
  <div class="recipe-grid" id="recipe-standard">

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🍗</div>
        <div class="recipe-name">BOWL POULET AVOCAT RIZ</div>
        <div class="recipe-subtitle">Déjeuner · 20 min · Complet</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">60g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">780</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">70g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">28g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~4,50€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g blanc de poulet grillé</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g riz basmati cuit</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>½ avocat</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Épinards frais, tomates cerises</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Sauce : citron, huile d'olive, ail</div>
        </div>
        <div class="recipe-tip">💡 L'avocat apporte des graisses saines essentielles (oméga-9) et augmente la satiété. Parfait en déjeuner de récupération.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🥩</div>
        <div class="recipe-name">BŒUF HACHÉ QUINOA</div>
        <div class="recipe-subtitle">Dîner · 20 min · Riche en fer</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">58g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">750</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">60g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">24g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~4€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>180g bœuf haché 5% MG</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>150g quinoa cuit (60g cru)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Poivrons, oignons, tomates</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Épices (paprika fumé, cumin, ail)</div>
        </div>
        <div class="recipe-tip">💡 Le quinoa est une protéine complète — il contient les 9 acides aminés essentiels contrairement au riz. Meilleur combo avec la viande rouge.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🐟</div>
        <div class="recipe-name">SAUMON PATATE DOUCE BROCOLIS</div>
        <div class="recipe-subtitle">Dîner · 25 min · Oméga-3</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">48g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">720</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">55g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">28g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~5€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>180g filet de saumon</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g patate douce rôtie</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g brocolis vapeur</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Huile d'olive, citron, aneth</div>
        </div>
        <div class="recipe-tip">💡 Le saumon 2x/semaine = besoins en oméga-3 couverts. Réduit l'inflammation et améliore la récupération musculaire significativement.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🥗</div>
        <div class="recipe-name">WRAP DINDE HUMMUS</div>
        <div class="recipe-subtitle">Déjeuner rapide · 5 min · On-the-go</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">45g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">580</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">50g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">18g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~3,50€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>2 tortillas de blé complètes</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>150g escalope de dinde</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>80g hummus maison ou pot</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Salade, tomates, concombre</div>
        </div>
        <div class="recipe-tip">💡 Prépare les escalopes à l'avance et assemble le matin. Parfait pour le bureau ou post-entraînement rapide.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🍳</div>
        <div class="recipe-name">PANCAKES PROTÉINÉS AVOINE</div>
        <div class="recipe-subtitle">Petit-déjeuner · 15 min · Weekend</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">50g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">680</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">68g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">18g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~3€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (2 personnes / 6 pancakes)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g flocons d'avoine mixés (farine)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>4 œufs entiers</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g fromage blanc 0%</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>1 banane, 1 c.à.c levure, cannelle</div>
        </div>
        <div class="recipe-tip">💡 Mixe les flocons d'avoine pour obtenir une farine. Texture identique aux pancakes classiques mais avec 3x plus de protéines.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🍲</div>
        <div class="recipe-name">CURRY POULET LENTILLES</div>
        <div class="recipe-subtitle">Dîner · 30 min · Meal prep 4 jours</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">62g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">740</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">72g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">16g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~3,80€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>180g blanc de poulet</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>100g lentilles corail cuites</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200ml lait de coco allégé</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Curry, gingembre, ail, oignon</div>
        </div>
        <div class="recipe-tip">💡 Les lentilles ajoutent 9g de protéines végétales + beaucoup de fibres = satiété maximale et excellente digestion.</div>
      </div>
    </div>

  </div>

  <!-- PREMIUM -->
  <div class="recipe-grid" id="recipe-premium">

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🥩</div>
        <div class="recipe-name">STEAK TARTARE PROTÉINÉ</div>
        <div class="recipe-subtitle">Dîner gastronomique · 15 min</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">65g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">720</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">20g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">38g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~8€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>220g bœuf haché fraîche qualité (5%MG)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>2 jaunes d'œufs</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Câpres, cornichons, échalote</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Moutarde, worcestershire, tabasco</div>
        </div>
        <div class="recipe-tip">💡 La viande crue préserve toutes les protéines et enzymes. Très digeste. Source d'acides aminés parfaitement biodisponibles + fer héminique.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🐟</div>
        <div class="recipe-name">PAVÉ THON SÉSAME NOUILLES SOBA</div>
        <div class="recipe-subtitle">Déjeuner gastronomique · 20 min</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">62g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">760</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">65g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">22g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~9€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g pavé de thon frais</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>100g nouilles soba (sarrasin)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Sésame, sauce soja, gingembre frais</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Edamames, avocat, algues wakamé</div>
        </div>
        <div class="recipe-tip">💡 Le thon frais = protéines de très haute qualité + oméga-3 EPA/DHA en quantité maximale. Bien supérieur au thon en boîte.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🍗</div>
        <div class="recipe-name">POULET MARINÉ TERIYAKI EDAMAMES</div>
        <div class="recipe-subtitle">Dîner · 30 min · Style japonais</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">72g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">820</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">68g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">20g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~7€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>250g cuisse de poulet désossée</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g riz japonais cuit</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>100g edamames</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Marinade : sauce soja, mirin, miel, ail</div>
        </div>
        <div class="recipe-tip">💡 Marine le poulet 2h minimum (ou toute la nuit). Les cuisses sont plus savoureuses et plus riches en graisses saines que les blancs.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🥣</div>
        <div class="recipe-name">SMOOTHIE BOWL AÇAÏ PROTÉINÉ</div>
        <div class="recipe-subtitle">Petit-déjeuner premium · 10 min</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">40g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">620</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">75g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">18g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~6,50€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>100g pulpe açaï congelée</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>1 dose whey vanille (30g)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g yaourt grec 10%</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Toppings : granola, myrtilles, beurre d'amandes, noix de coco</div>
        </div>
        <div class="recipe-tip">💡 L'açaï est riche en antioxydants qui réduisent l'inflammation post-entraînement. Le yaourt grec apporte 10g de caséine = protéine lente idéale le matin.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🐄</div>
        <div class="recipe-name">ENTRECÔTE PATATE DOUCE ASPERGES</div>
        <div class="recipe-subtitle">Dîner fort · 25 min · Jour de force</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">70g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">850</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">55g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">38g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~10€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>250g entrecôte de bœuf</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>250g patate douce rôtie au four</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g asperges vertes</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Beurre, ail, thym, fleur de sel</div>
        </div>
        <div class="recipe-tip">💡 La viande rouge 1-2x/semaine = fer héminique + zinc + créatine naturelle. Idéale les jours de séance lourde (squat, deadlift). Creatine naturelle = 5g/kg de bœuf.</div>
      </div>
    </div>

    <div class="recipe-card">
      <div class="recipe-header">
        <div class="recipe-emoji">🍱</div>
        <div class="recipe-name">BENTO PROTÉINÉ COMPLET</div>
        <div class="recipe-subtitle">Meal prep premium · 35 min · 5 jours</div>
      </div>
      <div class="recipe-macros">
        <div class="recipe-macro"><div class="recipe-macro-val prot">80g</div><div class="recipe-macro-lbl">Protéines</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val cal">950</div><div class="recipe-macro-lbl">Kcal</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val carb">85g</div><div class="recipe-macro-lbl">Glucides</div></div>
        <div class="recipe-macro"><div class="recipe-macro-val fat">28g</div><div class="recipe-macro-lbl">Lipides</div></div>
      </div>
      <div class="recipe-body">
        <div class="recipe-cost">💰 ~8€</div>
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-title">Ingrédients (1 personne)</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>200g saumon ou poulet mariné</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>150g riz japonais + 50g quinoa</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>3 œufs mollets marinés soja</div>
          <div class="recipe-ingredient"><div class="recipe-ingredient-dot"></div>Edamames, carotte, concombre, algues</div>
        </div>
        <div class="recipe-tip">💡 Le sunday meal prep idéal. Prépare 5 bentos en 35 min. Les œufs marinés dans la sauce soja diluée 12h = protéines + goût exceptionnel.</div>
      </div>
    </div>

  </div>
</div>
</section>


<!-- CONSEILS -->
<section id="conseils" aria-label="Conseils de prise de masse">
  <div class="section-header fade-in-up">
    <span class="section-num">05</span>
    <h2 class="section-title">CONSEILS ESSENTIELS</h2>
    <div class="section-line"></div>
  </div>

  <div class="tips-grid">
    <div class="tip-card fade-in-up">
      <div class="tip-icon">📈</div>
      <div class="tip-title">SURCHARGE PROGRESSIVE</div>
      <div class="tip-text">Augmente le poids ou les reps chaque semaine. La progression est LA condition sine qua non de la prise de masse. Tiens un carnet d'entraînement et vise +2.5kg par mois sur les exercices de base.</div>
    </div>
    <div class="tip-card fade-in-up">
      <div class="tip-icon">😴</div>
      <div class="tip-title">SOMMEIL — LE VRAI ANABOLISANT</div>
      <div class="tip-text">Les muscles se construisent la nuit, pas à la salle. Vise 8h minimum. La GH (hormone de croissance) est sécrétée à 90% pendant le sommeil profond. Dors avant minuit.</div>
    </div>
    <div class="tip-card fade-in-up">
      <div class="tip-icon">💧</div>
      <div class="tip-title">HYDRATATION</div>
      <div class="tip-text">Bois 3-4L d'eau par jour minimum. Les muscles sont composés à 75% d'eau. Une déshydratation de 2% réduit les performances de 20%. Ajoute de l'eau à l'apport habituel les jours de sport.</div>
    </div>
    <div class="tip-card fade-in-up">
      <div class="tip-icon">⏱️</div>
      <div class="tip-title">TIMING DES REPAS</div>
      <div class="tip-text">Mange un repas riche en glucides + protéines 1h30 avant la séance. Post-workout : protéines + glucides rapides dans les 45 minutes. Répartis tes protéines sur 4-6 repas par jour.</div>
    </div>
    <div class="tip-card fade-in-up">
      <div class="tip-icon">🧘</div>
      <div class="tip-title">GÉRER LE STRESS</div>
      <div class="tip-text">Le cortisol (hormone du stress) est catabolique : il détruit le muscle. Intègre la méditation, la cohérence cardiaque ou du yoga à ta routine. Un stress chronique annule tous tes efforts à la salle.</div>
    </div>
    <div class="tip-card fade-in-up">
      <div class="tip-icon">🔄</div>
      <div class="tip-title">DÉLOAD ET RÉCUPÉRATION</div>
      <div class="tip-text">Toutes les 4-6 semaines, fais une semaine de décharge : réduis le volume de 40-50%. Les super-compensations se produisent après le repos, pas pendant l'effort. Accepte de te "reposer" pour progresser.</div>
    </div>
    <div class="tip-card fade-in-up">
      <div class="tip-icon">📊</div>
      <div class="tip-title">SUIVRE SA PROGRESSION</div>
      <div class="tip-text">Pèse-toi le matin à jeun, même jour de la semaine. Prends des photos mensuelles dans les mêmes conditions. Mesure tour de bras, poitrine, cuisses. La balance seule est trompeuse.</div>
    </div>
    <div class="tip-card fade-in-up">
      <div class="tip-icon">🚫</div>
      <div class="tip-title">ERREURS À ÉVITER</div>
      <div class="tip-text">Ne pas manger assez (l'erreur n°1), s'entraîner trop souvent sans récupérer, négliger les exercices de base, copier les programmes des pros naturels, se comparer sur les réseaux sociaux.</div>
    </div>
    <div class="tip-card fade-in-up">
      <div class="tip-icon">🏃</div>
      <div class="tip-title">CARDIO ET PRISE DE MASSE</div>
      <div class="tip-text">2-3 sessions courtes (20-30 min) de cardio modéré par semaine. Améliore la santé cardiovasculaire et la récupération. Évite le cardio excessif qui brûle les calories dont tu as besoin pour construire.</div>
    </div>
  </div>
</section>

<!-- SUPPLEMENTS -->
<section id="supplements" style="background: var(--dark2); max-width: 100%; padding: 100px 48px;">
<div style="max-width: 1400px; margin: 0 auto;">
  <div class="section-header fade-in-up">
    <span class="section-num">06</span>
    <h2 class="section-title">SUPPLÉMENTS</h2>
    <div class="section-line"></div>
  </div>
  <p class="fade-in-up" style="color: var(--gray); max-width: 700px; margin-bottom: 16px; line-height: 1.8;">
    Les suppléments représentent 5% du résultat. L'alimentation et l'entraînement, c'est 95%. Ne commence à les considérer qu'une fois ta nutrition solide.
  </p>
  <div class="supp-grid">
    <div class="supp-card fade-in-up">
      <span class="supp-priority priority-essentiel">Essentiel</span>
      <div class="supp-name">WHEY PROTÉINE</div>
      <div class="supp-desc">La protéine de lactosérum est rapidement absorbée. Idéale post-entraînement pour déclencher la synthèse protéique. Pratique pour atteindre les objectifs protéiques journaliers.</div>
      <div class="supp-dose">Dosage : <span>25-35g post-workout</span></div>
      <div class="supp-dose">Timing : <span>Dans les 45 min après la séance</span></div>
    </div>
    <div class="supp-card fade-in-up">
      <span class="supp-priority priority-essentiel">Essentiel</span>
      <div class="supp-name">CRÉATINE MONOHYDRATE</div>
      <div class="supp-desc">Le supplément le plus étudié et efficace. Augmente la force de 5-15%, le volume musculaire et la récupération. Aucun effet secondaire prouvé pour des individus sains.</div>
      <div class="supp-dose">Dosage : <span>5g / jour</span></div>
      <div class="supp-dose">Timing : <span>N'importe quand, régularité > timing</span></div>
    </div>
    <div class="supp-card fade-in-up">
      <span class="supp-priority priority-utile">Utile</span>
      <div class="supp-name">CASÉINE</div>
      <div class="supp-desc">Protéine à digestion lente (7-8h). Parfaite avant le coucher pour maintenir un flux d'acides aminés pendant la nuit et limiter le catabolisme musculaire pendant le jeûne nocturne.</div>
      <div class="supp-dose">Dosage : <span>30-40g avant de dormir</span></div>
      <div class="supp-dose">Timing : <span>30-60 min avant le coucher</span></div>
    </div>
    <div class="supp-card fade-in-up">
      <span class="supp-priority priority-utile">Utile</span>
      <div class="supp-name">VITAMINE D3 + K2</div>
      <div class="supp-desc">La majorité des gens sont carencés. La vitamine D est impliquée dans la production de testostérone, la santé osseuse et immunitaire. Cruciale pour les sportifs, surtout en hiver.</div>
      <div class="supp-dose">Dosage : <span>2000-4000 UI D3 + 100µg K2</span></div>
      <div class="supp-dose">Timing : <span>Le matin avec un repas gras</span></div>
    </div>
    <div class="supp-card fade-in-up">
      <span class="supp-priority priority-utile">Utile</span>
      <div class="supp-name">OMÉGA-3</div>
      <div class="supp-desc">Anti-inflammatoires puissants qui améliorent la récupération musculaire, la santé cardiovasculaire et la composition corporelle. Essentiels si tu ne manges pas beaucoup de poisson gras.</div>
      <div class="supp-dose">Dosage : <span>2-4g EPA+DHA / jour</span></div>
      <div class="supp-dose">Timing : <span>Avec les repas pour éviter les renvois</span></div>
    </div>
    <div class="supp-card fade-in-up">
      <span class="supp-priority priority-optionnel">Optionnel</span>
      <div class="supp-name">CAFÉINE</div>
      <div class="supp-desc">Le seul "booster" naturel réellement efficace. Augmente la force, l'endurance et la concentration. Moins cher sous forme de café ou comprimés que les pre-workouts commerciaux coûteux.</div>
      <div class="supp-dose">Dosage : <span>3-5mg / kg de poids corporel</span></div>
      <div class="supp-dose">Timing : <span>30-60 min avant la séance</span></div>
    </div>
  </div>
</div>
</section>

<!-- VIDEO MODAL -->
<div class="modal-overlay" id="videoModal" onclick="closeModal(event)">
  <div class="modal-content" onclick="event.stopPropagation()">

    <!-- Zone vidéo -->
    <div class="modal-video">
      <div class="modal-video-thumb" id="modalThumb" onclick="playVideo()">
        <img id="modalThumbImg" src="" alt="" onerror="this.style.display='none'; document.getElementById('modalThumbFallback').style.display='flex'">
        <div class="modal-thumb-fallback" id="modalThumbFallback">
          <div class="modal-thumb-icon">▶</div>
        </div>
        <div class="modal-thumb-overlay"></div>
        <div class="modal-play-btn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M8 5v14l11-7z"/></svg>
        </div>
      </div>
      <iframe id="modalIframe" src="" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture; fullscreen" style="display:none;"></iframe>
      <button class="modal-close" onclick="closeModal()">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="currentColor"><path d="M14 1.41L12.59 0 7 5.59 1.41 0 0 1.41 5.59 7 0 12.59 1.41 14 7 8.41 12.59 14 14 12.59 8.41 7z"/></svg>
      </button>
    </div>

    <!-- Infos -->
    <div class="modal-info">
      <div class="modal-title" id="modalTitle"></div>
      <div class="modal-actions">
        <a class="modal-yt-btn" id="modalYtLink" href="#" target="_blank" rel="noopener">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M23.5 6.2a3 3 0 00-2.1-2.1C19.5 3.6 12 3.6 12 3.6s-7.5 0-9.4.5A3 3 0 00.5 6.2C0 8.1 0 12 0 12s0 3.9.5 5.8a3 3 0 002.1 2.1c1.9.5 9.4.5 9.4.5s7.5 0 9.4-.5a3 3 0 002.1-2.1c.5-1.9.5-5.8.5-5.8s0-3.9-.5-5.8zM9.6 15.6V8.4l6.3 3.6-6.3 3.6z"/></svg>
          Voir sur YouTube
        </a>
      </div>
      <div class="modal-divider"></div>
      <div class="modal-desc" id="modalDesc"></div>
    </div>

  </div>
</div>


<!-- WORKOUT TRACKER -->
<section id="workout-tracker" style="border-top: 1px solid rgba(255,255,255,0.05);">
  <div class="section-header fade-in-up">
    <span class="section-num">★</span>
    <h2 class="section-title">SUIVI DE PROGRESSION</h2>
    <div class="section-line"></div>
  </div>
  <div class="tracker-container">
    <div class="tracker-form fade-in-up">
      <div class="tracker-title">💪 Ajouter une série</div>
      <div class="tracker-fields">
        <div class="tracker-field" style="grid-column: 1 / -1;">
          <label for="trackExercise">Exercice</label>
          <select class="tracker-select" id="trackExercise">
            <option value="Squat Barre">Squat Barre</option>
            <option value="Développé Couché">Développé Couché</option>
            <option value="Soulevé de Terre">Soulevé de Terre</option>
            <option value="Développé Militaire">Développé Militaire</option>
            <option value="Rowing Barre">Rowing Barre</option>
            <option value="Tractions">Tractions</option>
            <option value="Dips">Dips</option>
            <option value="Leg Press">Leg Press</option>
            <option value="Romanian Deadlift">Romanian Deadlift</option>
            <option value="Curl Biceps">Curl Biceps</option>
            <option value="Extension Triceps">Extension Triceps</option>
            <option value="Autre">Autre…</option>
          </select>
        </div>
        <div class="tracker-field">
          <label for="trackWeight">Charge (kg)</label>
          <input class="tracker-input" type="number" id="trackWeight" placeholder="80" min="0" step="0.5">
        </div>
        <div class="tracker-field">
          <label for="trackReps">Reps</label>
          <input class="tracker-input" type="number" id="trackReps" placeholder="8" min="1">
        </div>
        <div class="tracker-field">
          <label for="trackSets">Séries</label>
          <input class="tracker-input" type="number" id="trackSets" placeholder="3" min="1">
        </div>
      </div>
      <button class="tracker-add-btn" onclick="addTrackerEntry()">+ Enregistrer</button>
    </div>

    <div class="tracker-log fade-in-up">
      <div class="tracker-log-title">📊 Historique de la séance</div>
      <div class="tracker-stats" id="trackerStats" style="display:none;">
        <div class="tracker-stat-card">
          <div class="tracker-stat-val" id="statExercises">0</div>
          <div class="tracker-stat-lbl">Exercices</div>
        </div>
        <div class="tracker-stat-card">
          <div class="tracker-stat-val" id="statSeries">0</div>
          <div class="tracker-stat-lbl">Séries totales</div>
        </div>
        <div class="tracker-stat-card">
          <div class="tracker-stat-val" id="statVolume">0</div>
          <div class="tracker-stat-lbl">Volume (kg)</div>
        </div>
      </div>
      <div id="trackerEntries">
        <div class="tracker-empty">Aucune série enregistrée.<br>Commence ta séance !</div>
      </div>
      <button class="tracker-clear-btn" id="trackerClearBtn" onclick="clearTracker()" style="display:none;">🗑 Effacer la séance</button>
    </div>
  </div>
</section>

<!-- FAQ -->
<section id="faq" aria-label="Foire aux questions">
  <div class="section-header fade-in-up">
    <span class="section-num">?</span>
    <h2 class="section-title">FAQ — QUESTIONS FRÉQUENTES</h2>
    <div class="section-line"></div>
  </div>
  <div class="faq-list fade-in-up">
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)" role="button" aria-expanded="false">
        Combien de temps faut-il pour voir des résultats en prise de masse ?
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer"><div class="faq-answer-inner">Les premiers changements visibles (tonus, légère augmentation de volume) apparaissent généralement en 4 à 8 semaines avec un entraînement régulier et une alimentation adaptée. Des gains musculaires significatifs se mesurent sur 3 à 6 mois. La patience est la clé — un gain de 500g à 1kg de muscle par mois est un excellent résultat naturel.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)" role="button" aria-expanded="false">
        Combien de protéines dois-je manger par jour pour prendre de la masse ?
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer"><div class="faq-answer-inner">La recommandation scientifique pour la prise de masse est de 1,6g à 2,2g de protéines par kg de poids corporel. Pour un individu de 80kg, cela représente 128g à 176g de protéines par jour. Notre calculateur de calories utilise 2g/kg comme objectif standard, ce qui couvre la majorité des besoins. Répartis l'apport sur 4 à 6 repas pour une absorption optimale.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)" role="button" aria-expanded="false">
        Est-ce que je dois absolument prendre de la whey protéine ?
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer"><div class="faq-answer-inner">Non, la whey est un complément pratique mais absolument pas indispensable. Si tu atteins tes objectifs en protéines uniquement avec la nourriture (œufs, viande, poisson, fromage blanc, légumineuses), tu n'as pas besoin de suppléments. La whey est surtout utile pour combler les manques quand c'est difficile d'atteindre ses objectifs avec l'alimentation seule, ou pour un repas post-workout rapide.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)" role="button" aria-expanded="false">
        Combien de fois par semaine dois-je m'entraîner pour prendre de la masse ?
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer"><div class="faq-answer-inner">3 à 5 séances par semaine est la fréquence optimale pour la majorité des gens. En dessous de 3, le stimulus est insuffisant. Au-delà de 5, le risque de sur-entraînement augmente si la récupération n'est pas au top. Pour les débutants, 3 séances Full Body sont idéales. Les intermédiaires profiteront davantage d'une organisation PPL (4-6 jours) ou Upper/Lower (4 jours).</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)" role="button" aria-expanded="false">
        Quelle est la différence entre surplus calorique lean bulk et surplus agressif ?
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer"><div class="faq-answer-inner">Le Lean Bulk (+250 kcal/jour) est une approche lente qui minimise la prise de graisse — idéal pour les ectomorphes ou ceux qui veulent rester relativement secs. Le surplus modéré (+500 kcal/jour) est le compromis recommandé pour la plupart. Le surplus agressif (+700-1000 kcal/jour) génère des gains plus rapides mais avec plus de graisse accumulée. Si tu es débutant, un surplus modéré à agressif est acceptable car tu gagnes plus facilement du muscle au début.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)" role="button" aria-expanded="false">
        Faut-il faire du cardio quand on cherche à prendre de la masse ?
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer"><div class="faq-answer-inner">Le cardio n'est pas l'ennemi de la prise de masse — il améliore même la récupération, la santé cardiovasculaire et l'endurance générale. L'idéal est 2 à 3 sessions légères par semaine (marche rapide 30 min, vélo modéré) sans jamais empiéter sur la récupération musculaire. Évite le cardio HIIT intense les jours qui précèdent tes séances de force lourdes.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)" role="button" aria-expanded="false">
        Combien de temps se reposer entre les séries ?
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer"><div class="faq-answer-inner">Ça dépend de l'objectif : pour la force (1-5 reps lourdes), repose-toi 3 à 5 minutes. Pour l'hypertrophie (6-12 reps), 90 secondes à 2 minutes suffisent généralement. Pour les exercices d'isolation (12-20 reps), 60 à 90 secondes. Des repos trop courts réduisent la qualité des séries ; trop longs, tu perds le signal hormonal. Utilise notre timer intégré pour être précis !</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)" role="button" aria-expanded="false">
        Le sommeil affecte-t-il vraiment les gains musculaires ?
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer"><div class="faq-answer-inner">Absolument — c'est même l'un des facteurs les plus importants. La majorité de la synthèse protéique et de la sécrétion de GH (hormone de croissance) se produit pendant le sommeil profond. Des études montrent qu'une nuit à 5h de sommeil réduit la synthèse protéique de 18% comparé à 8h. Vise 7h30 à 9h de sommeil par nuit, avec des horaires réguliers, pour maximiser tes résultats.</div></div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div style="max-width: 1400px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; gap: 20px;">
    <div class="footer-logo">IRONFORGE</div>
    <div style="display:flex; gap: 40px; flex-wrap:wrap; justify-content:center;">
      <a href="#programme" style="color:var(--gray); text-decoration:none; font-family:'Barlow Condensed',sans-serif; letter-spacing:2px; font-size:0.8rem; text-transform:uppercase; transition:color .2s;" onmouseover="this.style.color='var(--red)'" onmouseout="this.style.color='var(--gray)'">Programme</a>
      <a href="#echauffement" style="color:var(--gray); text-decoration:none; font-family:'Barlow Condensed',sans-serif; letter-spacing:2px; font-size:0.8rem; text-transform:uppercase; transition:color .2s;" onmouseover="this.style.color='var(--red)'" onmouseout="this.style.color='var(--gray)'">Échauffement</a>
      <a href="#exercices" style="color:var(--gray); text-decoration:none; font-family:'Barlow Condensed',sans-serif; letter-spacing:2px; font-size:0.8rem; text-transform:uppercase; transition:color .2s;" onmouseover="this.style.color='var(--red)'" onmouseout="this.style.color='var(--gray)'">Exercices</a>
      <a href="#calories" style="color:var(--gray); text-decoration:none; font-family:'Barlow Condensed',sans-serif; letter-spacing:2px; font-size:0.8rem; text-transform:uppercase; transition:color .2s;" onmouseover="this.style.color='var(--red)'" onmouseout="this.style.color='var(--gray)'">Calories</a>
      <a href="#nutrition" style="color:var(--gray); text-decoration:none; font-family:'Barlow Condensed',sans-serif; letter-spacing:2px; font-size:0.8rem; text-transform:uppercase; transition:color .2s;" onmouseover="this.style.color='var(--red)'" onmouseout="this.style.color='var(--gray)'">Nutrition</a>
      <a href="#recettes" style="color:var(--gray); text-decoration:none; font-family:'Barlow Condensed',sans-serif; letter-spacing:2px; font-size:0.8rem; text-transform:uppercase; transition:color .2s;" onmouseover="this.style.color='var(--red)'" onmouseout="this.style.color='var(--gray)'">Recettes</a>
    </div>
    <div style="width:240px; height:1px; background:linear-gradient(90deg,transparent,rgba(230,57,70,0.4),transparent);"></div>
    <p class="footer-text">Guide complet prise de masse &mdash; Programme &middot; Nutrition &middot; Exercices</p>
    <p style="color:var(--gray); opacity:0.4; font-size:0.75rem; letter-spacing:1px; text-align:center; max-width:500px; line-height:1.6;">⚠ Consulte un professionnel de santé avant de commencer un programme intensif. Ces informations sont fournies à titre éducatif uniquement.</p>
  </div>
</footer>

<script>
function switchRecipe(plan) {
  document.querySelectorAll('.recipe-grid').forEach(g => g.classList.remove('active'));
  document.getElementById('recipe-' + plan).classList.add('active');
  document.querySelectorAll('.recipe-tab').forEach(b => {
    b.classList.toggle('active', b.onclick.toString().includes("'" + plan + "'"));
  });
}

// Toggle chips
const selectedMuscles = new Set();
function toggleChip(el, muscle) {
  if (selectedMuscles.has(muscle)) {
    selectedMuscles.delete(muscle);
    el.classList.remove('selected');
  } else {
    selectedMuscles.add(muscle);
    el.classList.add('selected');
  }
}

// PROGRAM GENERATOR
function generateProgram() {
  const weight = parseFloat(document.getElementById('genWeight').value) || 75;
  const height = parseFloat(document.getElementById('genHeight').value) || 175;
  const age = parseFloat(document.getElementById('genAge').value) || 25;
  const sex = document.getElementById('genSex').value;
  const level = document.getElementById('genLevel').value;
  const days = parseInt(document.getElementById('genDays').value);
  const goal = document.getElementById('genGoal').value;
  const equip = document.getElementById('genEquip').value;
  const muscles = [...selectedMuscles];

  const bmi = (weight / ((height/100) ** 2)).toFixed(1);

  // Build program based on inputs
  const programs = {
    3: buildProgram3Days(level, goal, muscles, equip),
    4: buildProgram4Days(level, goal, muscles, equip),
    5: buildProgram5Days(level, goal, muscles, equip),
    6: buildProgram6Days(level, goal, muscles, equip),
  };

  const prog = programs[days];
  const protNeeds = Math.round(weight * (goal === 'seche' ? 2.4 : 2.0));
  const cals = goal === 'seche'
    ? Math.round((10*weight + 6.25*height - 5*age + (sex==='m'?5:-161)) * 1.55 - 400)
    : Math.round((10*weight + 6.25*height - 5*age + (sex==='m'?5:-161)) * 1.55 + 400);

  const resultEl = document.getElementById('genResult');
  resultEl.classList.add('has-content');
  resultEl.innerHTML = `
    <div class="gen-result-content" style="width:100%;">
      <div class="gen-result-header">
        <div>
          <div class="gen-result-name">${prog.name}</div>
          <div class="gen-result-meta">
            <span class="gen-meta-badge">${days} jours / semaine</span>
            <span class="gen-meta-badge">${levelLabel(level)}</span>
            <span class="gen-meta-badge">${goalLabel(goal)}</span>
            <span class="gen-meta-badge">IMC : ${bmi}</span>
          </div>
        </div>
        <div style="text-align:right;">
          <div style="font-family:'Bebas Neue',sans-serif;font-size:1.6rem;color:var(--gold);">${cals} kcal</div>
          <div style="font-size:0.72rem;letter-spacing:2px;text-transform:uppercase;color:var(--gray);">Objectif calorique · ${protNeeds}g protéines</div>
        </div>
      </div>
      <div class="gen-days-grid">
        ${prog.days.map(day => renderGenDay(day)).join('')}
      </div>
    </div>
  `;
  setTimeout(() => resultEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' }), 100);
}

function renderGenDay(day) {
  if (day.rest) {
    return `<div class="gen-day">
      <div class="gen-day-header" style="background:linear-gradient(135deg,rgba(255,183,3,0.1),rgba(255,183,3,0.05));">
        <div class="gen-day-name" style="color:var(--gold);">${day.name}</div>
        <div class="gen-day-focus" style="color:var(--gold);">REPOS</div>
      </div>
      <div class="gen-rest-day">🛌 Récupération · Marche légère · Stretching</div>
    </div>`;
  }
  return `<div class="gen-day">
    <div class="gen-day-header">
      <div class="gen-day-name">${day.name}</div>
      <div class="gen-day-focus">${day.focus}</div>
    </div>
    ${day.exercises.map((ex, i) => `
      <div class="gen-ex" onclick="openModal('${ex.id}')">
        <div class="gen-ex-num">0${i+1}</div>
        <div style="flex:1">
          <div class="gen-ex-name">${ex.name}</div>
          <div class="gen-ex-sets">${ex.sets}</div>
        </div>
        <div class="gen-ex-play">▶</div>
      </div>
    `).join('')}
  </div>`;
}

function levelLabel(l) { return {debutant:'Débutant',intermediaire:'Intermédiaire',avance:'Avancé'}[l]; }
function goalLabel(g) { return {masse:'Prise de masse',force:'Force',seche:'Sèche',athletique:'Physique athlétique'}[g]; }

function buildProgram3Days(level, goal, muscles, equip) {
  const isForce = goal === 'force';
  const setsHeavy = isForce ? '5 × 3-5 reps · Repos 4 min' : '4 × 8-10 reps · Repos 2 min';
  const setsLight = isForce ? '3 × 5-6 reps · Repos 3 min' : '3 × 12-15 reps · Repos 90 sec';
  return {
    name: isForce ? 'FULL BODY FORCE — 3 JOURS' : 'FULL BODY MASSE — 3 JOURS',
    days: [
      { name:'LUNDI', focus:'FULL BODY A', exercises:[
        {id:'squat',name:'Squat Barre',sets:setsHeavy},
        {id:'bench-press',name:'Développé Couché',sets:setsHeavy},
        {id:'row-barre',name:'Rowing Barre',sets:setsHeavy},
        {id:'ohp',name:'Développé Militaire',sets:setsLight},
        ...(muscles.includes('abdos')?[{id:'ab-wheel',name:'Ab Wheel',sets:'3 × 10 reps'}]:[]),
      ]},
      { name:'MERCREDI', focus:'FULL BODY B', exercises:[
        {id:'deadlift',name:'Soulevé de Terre',sets:isForce?'4 × 3 reps · Repos 5 min':'3 × 5 reps · Repos 4 min'},
        {id:'incline-db',name:'Développé Incliné Haltères',sets:setsLight},
        {id:'pullups',name:'Tractions',sets:setsHeavy},
        {id:'lateral-raise',name:'Élévations Latérales',sets:'4 × 15 reps'},
        ...(muscles.includes('bras')?[{id:'bicep-curl',name:'Curl Biceps',sets:'3 × 12 reps'}]:[]),
      ]},
      { name:'VENDREDI', focus:'FULL BODY C', exercises:[
        {id:'squat',name:'Squat Gobelet',sets:setsLight},
        {id:'bench-press',name:'Développé Couché Haltères',sets:setsLight},
        {id:'seated-cable-row',name:'Tirage Horizontal Poulie',sets:setsLight},
        {id:'rdl',name:'Romanian Deadlift',sets:setsLight},
        ...(muscles.includes('abdos')||muscles.includes('jambes')?[{id:'leg-curl',name:'Leg Curl',sets:'3 × 12 reps'}]:[]),
      ]},
    ]
  };
}

function buildProgram4Days(level, goal, muscles, equip) {
  const hasPecs = muscles.includes('pecs');
  const hasJambes = muscles.includes('jambes') || muscles.includes('fessiers');
  return {
    name: 'UPPER / LOWER — 4 JOURS',
    days: [
      { name:'LUNDI', focus:'UPPER — Force', exercises:[
        {id:'bench-press',name:'Développé Couché Barre',sets:'5 × 5 reps · Repos 3 min'},
        {id:'row-barre',name:'Rowing Barre',sets:'5 × 5 reps · Repos 3 min'},
        {id:'ohp',name:'Développé Militaire',sets:'3 × 8 reps'},
        {id:'pulldown',name:'Tirage Vertical Poulie',sets:'3 × 10 reps'},
        ...(hasPecs?[{id:'pec-deck',name:'Pec Deck',sets:'3 × 15 reps'}]:[]),
      ]},
      { name:'MARDI', focus:'LOWER — Force', exercises:[
        {id:'squat',name:'Squat Barre',sets:'5 × 5 reps · Repos 3 min'},
        {id:'rdl',name:'Romanian Deadlift',sets:'4 × 6 reps'},
        {id:'leg-press',name:'Leg Press',sets:'3 × 10 reps'},
        {id:'leg-curl',name:'Leg Curl',sets:'3 × 12 reps'},
        {id:'calf-raises',name:'Mollets',sets:'4 × 20 reps'},
      ]},
      { name:'JEUDI', focus:'UPPER — Volume', exercises:[
        {id:'incline-db',name:'Développé Incliné Haltères',sets:'4 × 10 reps'},
        {id:'tbar-row',name:'T-Bar Row',sets:'4 × 10 reps'},
        {id:'arnold-press',name:'Développé Arnold',sets:'3 × 12 reps'},
        {id:'bicep-curl',name:'Curl Biceps',sets:'3 × 12 reps'},
        {id:'tricep-pushdown',name:'Extension Triceps Poulie',sets:'3 × 12 reps'},
      ]},
      { name:'VENDREDI', focus:'LOWER — Volume', exercises:[
        {id:'hack-squat',name:'Hack Squat Machine',sets:'4 × 10 reps'},
        {id:'bulgarian-squat',name:'Fentes Bulgares',sets:'3 × 10 par jambe'},
        {id:'rdl',name:'Romanian Deadlift',sets:'3 × 12 reps'},
        {id:'leg-curl',name:'Leg Curl',sets:'4 × 15 reps'},
        ...(hasJambes?[{id:'hyperextension',name:'Hyperextension',sets:'3 × 15 reps'}]:[]),
      ]},
    ]
  };
}

function buildProgram5Days(level, goal, muscles, equip) {
  const hasPecs = muscles.includes('pecs');
  const hasBras = muscles.includes('bras');
  const hasEpaules = muscles.includes('epaules');
  const hasDos = muscles.includes('dos');
  return {
    name: 'PPL PERSONNALISÉ — 5 JOURS',
    days: [
      { name:'LUNDI', focus:'PUSH — Pecs · Épaules · Triceps', exercises:[
        {id:'bench-press',name:'Développé Couché Barre',sets:'4 × 6-8 reps'},
        {id:hasPecs?'incline-barbell':'incline-db',name:hasPecs?'Développé Incliné Barre':'Développé Incliné Haltères',sets:'3 × 8-10 reps'},
        {id:'ohp',name:'Développé Militaire',sets:'3 × 8 reps'},
        {id:'lateral-raise',name:'Élévations Latérales',sets:hasEpaules?'5 × 15 reps':'3 × 12 reps'},
        {id:'tricep-pushdown',name:'Extension Triceps Poulie',sets:'3 × 12-15 reps'},
      ]},
      { name:'MARDI', focus:'PULL — Dos · Biceps', exercises:[
        {id:'deadlift',name:'Soulevé de Terre',sets:'4 × 4-5 reps'},
        {id:'pullups',name:'Tractions Pronation',sets:'4 × max reps'},
        {id:hasDos?'tbar-row':'row-barre',name:hasDos?'T-Bar Row':'Rowing Barre',sets:'4 × 6-8 reps'},
        {id:'facepull',name:'Face Pull',sets:'3 × 15 reps'},
        {id:'bicep-curl',name:'Curl Biceps Barre',sets:hasBras?'4 × 10 reps':'3 × 10 reps'},
      ]},
      { name:'MERCREDI', focus:'LEGS — Jambes complètes', exercises:[
        {id:'squat',name:'Squat Barre',sets:'5 × 5 reps'},
        {id:'hack-squat',name:'Hack Squat Machine',sets:'3 × 10 reps'},
        {id:'rdl',name:'Romanian Deadlift',sets:'3 × 10 reps'},
        {id:'leg-curl',name:'Leg Curl Couché',sets:'3 × 12 reps'},
        {id:'calf-raises',name:'Mollets Debout',sets:'4 × 20 reps'},
      ]},
      { name:'VENDREDI', focus:'PUSH — Volume', exercises:[
        {id:hasPecs?'pec-deck':'cable-fly',name:hasPecs?'Pec Deck Butterfly':'Écarté Poulie',sets:'4 × 12-15 reps'},
        {id:'incline-db',name:'Développé Incliné Haltères',sets:'3 × 10 reps'},
        {id:'arnold-press',name:'Développé Arnold',sets:'3 × 12 reps'},
        {id:'lateral-raise',name:'Élévations Latérales Dropset',sets:'3 × 15+10+5'},
        {id:'tricep-dips',name:'Dips Triceps',sets:'3 × 12 reps'},
      ]},
      { name:'SAMEDI', focus:'PULL — Volume', exercises:[
        {id:'pulldown',name:'Tirage Vertical Poulie',sets:'4 × 10-12 reps'},
        {id:'seated-cable-row',name:'Tirage Horizontal Poulie',sets:'4 × 12 reps'},
        {id:'facepull',name:'Face Pull',sets:'3 × 20 reps'},
        {id:hasBras?'hammer-curl':'cable-curl',name:hasBras?'Curl Marteau':'Curl Poulie',sets:'3 × 12 reps'},
        ...(muscles.includes('abdos')?[{id:'ab-wheel',name:'Ab Wheel',sets:'3 × 10 reps'}]:[]),
      ]},
    ]
  };
}

function buildProgram6Days(level, goal, muscles, equip) {
  return {
    name: 'PPL DOUBLE — 6 JOURS',
    days: [
      ...buildProgram5Days(level, goal, muscles, equip).days,
      { name:'DIMANCHE', focus:'LEGS — Volume', exercises:[
        {id:'bulgarian-squat',name:'Fentes Bulgares',sets:'4 × 10 par jambe'},
        {id:'leg-press',name:'Leg Press',sets:'4 × 12 reps'},
        {id:'rdl',name:'Romanian Deadlift',sets:'4 × 12 reps'},
        {id:'hyperextension',name:'Hyperextension',sets:'3 × 15 reps'},
        {id:'ab-wheel',name:'Ab Wheel',sets:'3 × 10 reps'},
      ]},
    ]
  };
}
</script>

<script>
// VIDEO DATA
const videos = {
  'squat': {
    title: 'SQUAT BARRE HAUTE — Technique Complète',
    url: 'https://www.youtube-nocookie.com/embed/SW_C1A-rejs?autoplay=1&mute=1&rel=0',
    desc: 'Le squat est l\'exercice roi de la prise de masse des jambes et du corps entier. Points clés : pieds à largeur d\'épaules, orteils légèrement tournés vers l\'extérieur, descente contrôlée jusqu\'à parallèle, dos neutre, regard droit devant. Remonte en poussant depuis les talons.'
  },
  'bench-press': {
    title: 'DÉVELOPPÉ COUCHÉ — Technique & Erreurs Fréquentes',
    url: 'https://www.youtube-nocookie.com/embed/vcBig73ojpE?autoplay=1&mute=1&rel=0',
    desc: 'Omoplates rétractées et plaquées au banc. Légère cambrure naturelle. Barre descend vers le bas de la poitrine. Poignet dans l\'axe de l\'avant-bras. Remonte en ligne légèrement diagonale vers les yeux. Respire : inspire avant la descente, expire à la montée.'
  },
  'deadlift': {
    title: 'SOULEVÉ DE TERRE — Apprentissage Étape par Étape',
    url: 'https://www.youtube-nocookie.com/embed/op9kVnSso6Q?autoplay=1&mute=1&rel=0',
    desc: 'Position de départ : pieds à largeur de hanches, barre au-dessus du milieu du pied. Hanche au-dessus des genoux, épaules au-dessus de la barre. Dos droit, poitrine haute. Pousse le sol, ne tire pas la barre. Barre reste collée aux jambes tout le long.'
  },
  'ohp': {
    title: 'DÉVELOPPÉ MILITAIRE — Épaules Larges et Fortes',
    url: 'https://www.youtube-nocookie.com/embed/2yjwXTZQDDI?autoplay=1&mute=1&rel=0',
    desc: 'Debout ou assis, prise légèrement plus large que les épaules. La barre part du haut de la poitrine. Pousse directement vers le haut en contractant les fessiers et en gainant le core. Bras complètement étendus en haut. Pas d\'hyperextension du bas du dos.'
  },
  'pullups': {
    title: 'TRACTIONS — Progression du Débutant au Avancé',
    url: 'https://www.youtube-nocookie.com/embed/eGo4IYlbE5g?autoplay=1&mute=1&rel=0',
    desc: 'Prise pronation légèrement plus large que les épaules. Initie le mouvement en descendant les omoplates, pas en tirant avec les bras. Ramène la poitrine vers la barre. Descente lente et contrôlée = plus de masse. Si pas assez de force : bandes élastiques ou machine assistée.'
  },
  'row-barre': {
    title: 'ROWING BARRE PRONATION — Épaisseur du Dos',
    url: 'https://www.youtube-nocookie.com/embed/kBWAon7ItDw?autoplay=1&mute=1&rel=0',
    desc: 'Corps à 45° minimum, dos plat et neutre. Tire la barre vers le nombril, pas vers la poitrine. Coudes rasent les flancs. Contracte les omoplates ensemble en fin de mouvement. Évite les balancements pour utiliser les muscles du dos, pas l\'inertie.'
  },
  'incline-db': {
    title: 'DÉVELOPPÉ INCLINÉ HALTÈRES — Haut des Pecs',
    url: 'https://www.youtube-nocookie.com/embed/8iPEnn-ltC8?autoplay=1&mute=1&rel=0',
    desc: 'Banc incliné à 30-45°. Coudes à 75° (pas à 90°). Mouvement en arc de cercle naturel. Focus sur l\'étirement des pectoraux en bas et la contraction en haut. Haltères se rejoignent légèrement mais ne se touchent pas.'
  },
  'lateral-raise': {
    title: 'ÉLÉVATIONS LATÉRALES — Deltoïdes Latéraux',
    url: 'https://www.youtube-nocookie.com/embed/3VcKaXpzqRo?autoplay=1&mute=1&rel=0',
    desc: 'Légère flexion des coudes, dos légèrement incliné (10°). Monte jusqu\'à hauteur des épaules, pas plus haut. Le petit doigt légèrement en l\'air en fin de mouvement pour maximiser la contraction. Descente lente = meilleure hypertrophie. Commence léger.'
  },
  'tricep-dips': {
    title: 'DIPS TRICEPS — Masse et Force',
    url: 'https://www.youtube-nocookie.com/embed/2z8JmcrW-As?autoplay=1&mute=1&rel=0',
    desc: 'Corps vertical pour focus triceps. Coudes proches du corps. Descends jusqu\'à ce que les bras soient à 90°. Pousse via les triceps, pas les épaules. Pour les pectoraux : corps légèrement penché en avant. Ajoute du poids avec une ceinture une fois que tu maîtrises.'
  },
  'leg-press': {
    title: 'LEG PRESS — Quadriceps et Fessiers',
    url: 'https://www.youtube-nocookie.com/embed/IZxyjW7MPJQ?autoplay=1&mute=1&rel=0',
    desc: 'Placement des pieds = résultat différent. Haut = fessiers + ischios. Bas = quadriceps. Largeur des hanches, orteils légèrement dehors. Descends jusqu\'à 90°. Ne verrouille jamais les genoux en extension. Dos plaqué contre le dossier tout le mouvement.'
  },
  'rdl': {
    title: 'ROMANIAN DEADLIFT — Ischios Jambiers',
    url: 'https://www.youtube-nocookie.com/embed/JCXUYuzwNrM?autoplay=1&mute=1&rel=0',
    desc: 'Pieds à largeur de hanches. Dos droit, barre proche des jambes tout du long. Pousse les hanches vers l\'arrière (pas les genoux qui fléchissent). Descends jusqu\'au milieu des tibias selon ta souplesse. Remonte en contractant les fessiers et les ischios.'
  },
  'leg-curl': {
    title: 'LEG CURL COUCHÉ — Ischios Jambiers Isolés',
    url: 'https://www.youtube-nocookie.com/embed/ELOCsoDSmrg?autoplay=1&mute=1&rel=0',
    desc: 'Couché sur le ventre, hanche bien plaquée. Contracte les ischios pour ramener les pieds vers les fesses. Maintiens 1 seconde en haut. Descente lente (3 secondes). Évite de lever les hanches. Pointes de pieds en avant pour plus de tension.'
  },
  'calf-raises': {
    title: 'MOLLETS DEBOUT — Développement des Gastrocnémiens',
    url: 'https://www.youtube-nocookie.com/embed/gwLzBJYoWlI?autoplay=1&mute=1&rel=0',
    desc: 'Pleine amplitude de mouvement : partie la plus basse jusqu\'à la pointe des pieds maximale. Maintiens 2 secondes en haut pour maximiser la contraction. Descente lente. Les mollets s\'adaptent vite : varie pieds parallèles, en dedans, en dehors. Volume élevé nécessaire.'
  },
  'facepull': {
    title: 'FACE PULL — Santé des Épaules et Arrière-Deltoïdes',
    url: 'https://www.youtube-nocookie.com/embed/rep-qVOkqgk?autoplay=1&mute=1&rel=0',
    desc: 'Poulie haute avec corde. Tire vers le visage en écartant les mains (rotation externe). Les coudes montent légèrement au-dessus des épaules. Contraction maximale derrière la tête. Exercice essentiel pour la santé des coiffes rotatrices et prévenir les blessures.'
  },
  'bicep-curl': {
    title: 'CURL BICEPS BARRE — Masse des Bras',
    url: 'https://www.youtube-nocookie.com/embed/kwG2ipFRgfo?autoplay=1&mute=1&rel=0',
    desc: 'Coudes fixes contre les flancs tout le mouvement. Flexion complète pour l\'amplitude maximale. Maintient 1 sec en haut, descente contrôlée en 3 secondes. La phase excentrique (descente) est aussi importante que la montée pour l\'hypertrophie. Prise supination (paumes vers le haut).'
  },
  'cable-fly': {
    title: 'ÉCARTÉ POULIE BASSE — Étirement et Contraction des Pecs',
    url: 'https://www.youtube-nocookie.com/embed/Iwe6AmxVf7o?autoplay=1&mute=1&rel=0',
    desc: 'Poulies basses, légère inclinaison du buste. Arc de cercle des bras vers le haut et l\'avant. Pause et contraction maximale quand les mains se croisent. Descente lente pour maximiser l\'étirement des pectoraux. Excellent pour la définition et le volume musculaire.'
  },
  'pulldown': {
    title: 'TIRAGE VERTICAL POULIE — Alternative aux Tractions',
    url: 'https://www.youtube-nocookie.com/embed/CAwf7n6Luuc?autoplay=1&mute=1&rel=0',
    desc: 'Prise légèrement plus large que les épaules. Tire vers le haut de la poitrine en ramenant les coudes vers les hanches. Dos légèrement penché en arrière (10-15°). Ne tire pas derrière la nuque (risque de blessure). Contraction dorsale maximale en bas du mouvement.'
  },
  'hack-squat': {
    title: 'HACK SQUAT MACHINE — Quadriceps Massifs',
    url: 'https://www.youtube-nocookie.com/embed/R3yMhCbgMKs?autoplay=1&mute=1&rel=0',
    desc: 'Régle la machine selon ta morphologie. Pieds au milieu ou bas de la plateforme pour maximaliser le travail des quadriceps. Descends jusqu\'à 90° minimum. Pousse via les talons, pas les orteils. Dos plaqué contre le dossier tout le mouvement. Ne verrouille jamais les genoux en extension.'
  },
  'pec-deck': {
    title: 'PEC DECK BUTTERFLY — Isolation Pectoraux',
    url: 'https://www.youtube-nocookie.com/embed/Ns09hzN8FnQ?autoplay=1&mute=1&rel=0',
    desc: 'Règle la hauteur pour que les poignées soient à hauteur des épaules. Dos collé au dossier, poitrine haute. Coudes légèrement fléchis et fixes. Ferme en contractant les pecs au centre — imagine que tu essaies de rapprocher tes coudes. Retour lent pour maximiser l\'étirement. Exercice de finition idéal.'
  },
  'seated-cable-row': {
    title: 'TIRAGE HORIZONTAL POULIE — Épaisseur du Dos',
    url: 'https://www.youtube-nocookie.com/embed/GZbfZ033f74?autoplay=1&mute=1&rel=0',
    desc: 'Assis, dos droit, jambes légèrement fléchies. Tire la poignée vers le nombril en gardant les coudes proches du corps. Serre les omoplates en fin de mouvement et maintiens 1 seconde. Retour lent et contrôlé en laissant les omoplates s\'étirer. Évite de te pencher en avant/arrière : le mouvement vient du dos, pas du buste.'
  },
  'tricep-pushdown': {
    title: 'EXTENSION TRICEPS POULIE — Masse des Triceps',
    url: 'https://www.youtube-nocookie.com/embed/2-LAMcpzODU?autoplay=1&mute=1&rel=0',
    desc: 'Poulie haute, barre droite ou en V. Coudes fixes et collés aux flancs, légèrement devant le corps. Extension complète jusqu\'à verrouillage des coudes. Contraction maximale en bas, maintien 1 sec. Remontée lente. Évite de pencher le buste pour tricher. Varie les prises (barre, corde, prise inversée) pour stimuler différentes têtes du triceps.'
  },
  'cable-curl': {
    title: 'CURL POULIE BASSE — Biceps Tension Constante',
    url: 'https://www.youtube-nocookie.com/embed/ksLQtfxkG0c?autoplay=1&mute=1&rel=0',
    desc: 'Poulie basse, barre droite ou EZ. Prise supination (paumes vers le haut). Coudes fixes contre les flancs. Flexion complète jusqu\'aux épaules. Maintiens 1 seconde en haut en contractant fort. Descente lente en 3 secondes : c\'est la phase excentrique qui crée le plus de dommages musculaires et donc d\'hypertrophie. La tension ne relâche jamais contrairement aux haltères.'
  },
  'hammer-curl': {
    title: 'CURL MARTEAU — Volume et Épaisseur des Bras',
    url: 'https://www.youtube-nocookie.com/embed/zC3nLlEvin4?autoplay=1&mute=1&rel=0',
    desc: 'Prise neutre (pouce vers le haut). Coudes fixes contre les flancs. Monte les haltères simultanément ou en alternance. Le brachial et le brachioradial sont les muscles principaux — ils donnent l\'épaisseur et la largeur au bras. Idéal à combiner avec le curl classique pour des biceps complets. Descente contrôlée obligatoire.'
  },
  'arnold-press': {
    title: 'DÉVELOPPÉ ARNOLD — Épaules Complètes',
    url: 'https://www.youtube-nocookie.com/embed/6Z15_WdXmVw?autoplay=1&mute=1&rel=0',
    desc: 'Assis, dos droit. Départ avec les haltères à hauteur des épaules, paumes vers toi. En montant, effectue une rotation des poignets pour finir paumes vers l\'avant au sommet. Descente en effectuant la rotation inverse. Ce mouvement engage les 3 faisceaux du deltoïde sur toute l\'amplitude. Commence léger pour maîtriser la rotation.'
  },
  'bulgarian-squat': {
    title: 'FENTES BULGARES — Force Unilatérale',
    url: 'https://www.youtube-nocookie.com/embed/2C-uNgKwPLE?autoplay=1&mute=1&rel=0',
    desc: 'Pied arrière posé sur un banc ou une boîte à hauteur de genou. Jambe avant à environ 60-70 cm du banc. Descends verticalement en gardant le torse droit. Genou avant dans l\'axe des orteils. Remonte en poussant via le talon avant. Haltères dans chaque main ou barre sur les épaules. Excellent pour corriger les déséquilibres musculaires.'
  },
  'tbar-row': {
    title: 'T-BAR ROW — Masse Dorsale Maximale',
    url: 'https://www.youtube-nocookie.com/embed/FD13bEGlQNc?autoplay=1&mute=1&rel=0',
    desc: 'Corps à 45°, dos neutre. Prise neutre sur la poignée en V pour préserver les épaules. Tire la barre vers la poitrine basse en gardant les coudes proches du corps. Contracte les omoplates en haut. Descente lente et complète. Permet de charger plus lourd que le rowing barre classique et de développer une masse dorsale impressionnante.'
  },
  'incline-barbell': {
    title: 'DÉVELOPPÉ INCLINÉ BARRE — Haut des Pectoraux',
    url: 'https://www.youtube-nocookie.com/embed/SrxSh9lLkn0?autoplay=1&mute=1&rel=0',
    desc: 'Banc à 30-45° (trop incliné = épaules au lieu des pecs). Prise légèrement plus large que les épaules. Omoplates serrées et dos légèrement cambré. Barre descend sur le haut des pectoraux. Coudes à 75° (pas perpendiculaires). Extension explosive en contractant les pecs. Phase excentrique lente de 2-3 secondes pour maximiser l\'hypertrophie.'
  },
  'hyperextension': {
    title: 'HYPEREXTENSION — Lombaires et Chaîne Postérieure',
    url: 'https://www.youtube-nocookie.com/embed/ph3pzWkPe6E?autoplay=1&mute=1&rel=0',
    desc: 'Hanche positionnée sur le coussin pour permettre une flexion complète. Descends jusqu\'à 90° en gardant le dos neutre. Remonte en contractant les fessiers puis les lombaires. Dos neutre en haut — évite l\'hyperextension lombaire. Mains sur la poitrine ou derrière la tête. Ajoute des poids une fois maîtrisé. Exercice indispensable pour prévenir les blessures au dos.'
  },
  'ab-wheel': {
    title: 'AB WHEEL — Core Acier',
    url: 'https://www.youtube-nocookie.com/embed/p7_5UcRvHH8?autoplay=1&mute=1&rel=0',
    desc: 'Commence genoux au sol. Corps gainé comme une planche, hanches ni hautes ni basses. Roule lentement vers l\'avant jusqu\'à extension maximale sans cambrer le bas du dos. Le retour se fait en contractant les abdominaux, pas en tirant avec les bras ou les épaules. Progression : genoux → mi-chemin → extension complète debout. Un des exercices de core les plus difficiles qui soit.'
  },
  'dragon-flag': {
    title: 'DRAGON FLAG — Force Abdominale Extrême',
    url: 'https://www.youtube-nocookie.com/embed/pvz7k5gO-DE?autoplay=1&mute=1&rel=0',
    desc: 'Allongé sur un banc, agrippe le derrière de la tête. Corps parfaitement droit, descends lentement en ne touchant que les épaules. Remonte en contractant l\'ensemble du core. Exercice inventé par Bruce Lee. Commence avec les genoux fléchis (variante plus facile) puis progresse vers le dragon flag complet jambes tendues. Très exigeant — ne force pas si tu n\'as pas encore la force de base.'
  },
  'hanging-knee': {
    title: 'RELEVÉ DE GENOUX SUSPENDU — Bas des Abdos',
    url: 'https://www.youtube-nocookie.com/embed/Pr1ieGZ5atk?autoplay=1&mute=1&rel=0',
    desc: 'Suspendu à une barre, les bras légèrement fléchis. Ramène les genoux vers la poitrine en contractant les abdos inférieurs. Évite de balancer — le mouvement vient des abdos pas de l\'élan. Progression : genoux fléchis → jambes semi-tendues → jambes droites (hanging leg raise). Maintiens 1 sec en haut pour maximiser la contraction.'
  },
  'plank': {
    title: 'PLANCHE FRONTALE — Gainage Core Profond',
    url: 'https://www.youtube-nocookie.com/embed/pSHjTRCQxIw?autoplay=1&mute=1&rel=0',
    desc: 'Avant-bras au sol, coudes sous les épaules. Corps parfaitement aligné de la tête aux talons. Serre les fesses, contracte les abdos, pousse le sol. Ne laisse jamais les hanches s\'affaisser ni monter. Respire normalement. Objectif progression : 30 sec → 60 sec → 90 sec → 2 min. Une fois à 2 min confortables, passe aux variantes plus difficiles (planche avec levé de jambe, planche sur une main).'
  },
  'side-plank': {
    title: 'PLANCHE LATÉRALE — Obliques et Stabilité',
    url: 'https://www.youtube-nocookie.com/embed/K2eulwSzkP4?autoplay=1&mute=1&rel=0',
    desc: 'Sur le côté, appui sur un avant-bras. Corps aligné de la tête aux pieds. Hanche haute — ne la laisse pas s\'affaisser. Serre les obliques et le core. Regarde droit devant. Variante difficile : lever le bras ou la jambe du dessus. Travaille chaque côté de façon équilibrée pour prévenir les déséquilibres posturaux.'
  },
  'crunch-cable': {
    title: 'CRUNCH POULIE HAUTE — Abdos avec Résistance',
    url: 'https://www.youtube-nocookie.com/embed/2fbujeH3F0E?autoplay=1&mute=1&rel=0',
    desc: 'A genoux face à la poulie haute, corde derrière la nuque. Fléchis le buste vers le bas en contractant les abdos — pas les hanches. Le mouvement est court et concentré. Pause et contraction maximale en bas. Remontée contrôlée. C\'est LE meilleur exercice pour hypertrophier les abdos car il utilise une résistance progressive comme n\'importe quel autre muscle. Augmente le poids régulièrement.'
  },
  'russian-twist': {
    title: 'RUSSIAN TWIST LESTÉ — Obliques Épais',
    url: 'https://www.youtube-nocookie.com/embed/wkD8rjkodUI?autoplay=1&mute=1&rel=0',
    desc: 'Assis, jambes légèrement fléchies soulevées du sol. Buste à 45°. Tiens un disque, haltère ou médecine-ball. Tourne le buste de droite à gauche en touchant le sol de chaque côté. Le mouvement vient de la rotation du torse, pas des bras. Plus le buste est incliné, plus c\'est difficile. Pour progresser : augmente le poids ou ralentis la vitesse d\'exécution.'
  },
  'leg-raise': {
    title: 'RELEVÉ DE JAMBES — Bas du Ventre',
    url: 'https://www.youtube-nocookie.com/embed/l4kQd9eWclE?autoplay=1&mute=1&rel=0',
    desc: 'Allongé sur le dos, mains sous les fesses ou à plat. Jambes tendues, monte-les jusqu\'à 90°. Descends lentement sans poser les talons au sol. Le bas du dos doit rester plaqué — si tu cambres, c\'est que tu vas trop bas ou que les abdos ne sont pas assez forts. Variante débutant : jambes fléchies. Variante avancée : descente à 15° du sol.'
  },
  'bicycle-crunch': {
    title: 'BICYCLE CRUNCH — Abdos Complets',
    url: 'https://www.youtube-nocookie.com/embed/9FGilxCbdz8?autoplay=1&mute=1&rel=0',
    desc: 'Allongé, mains derrière la nuque sans tirer sur la tête. Ramène le coude droit vers le genou gauche en tendant la jambe droite, et vice versa. Le mouvement est lent et contrôlé — pas de mouvement de balancier rapide. La rotation du buste doit être maximale. Étude ACE : l\'un des 3 meilleurs exercices abdominaux. Idéal pour les obliques et le droit de l\'abdomen.'
  },
  'front-raise': {
    title: 'ÉLÉVATIONS FRONTALES — Faisceau Antérieur des Épaules',
    url: 'https://www.youtube-nocookie.com/embed/soxrZlIl35U?autoplay=1&mute=1&rel=0',
    desc: 'Debout ou assis, haltères en prise neutre ou pronation. Monte les bras devant toi jusqu\'à hauteur des épaules. Garde les coudes légèrement fléchis. Descente contrôlée. Travaille le faisceau antérieur (avant) du deltoïde. À combiner avec des élévations latérales pour des épaules équilibrées. Attention : le faisceau antérieur est déjà très sollicité par le développé couché.'
  },
  'reverse-fly': {
    title: 'OISEAU / ÉCARTÉ PENCHÉ — Arrière des Épaules',
    url: 'https://www.youtube-nocookie.com/embed/ttvASHlhFP4?autoplay=1&mute=1&rel=0',
    desc: 'Penché en avant à 45-90°, dos plat. Bras tendus vers le bas au départ. Écarte les bras sur les côtés jusqu\'à hauteur des épaules en gardant les coudes légèrement fléchis. Contracte les arrière-deltoïdes et les rhomboïdes en haut. Retour lent. Exercice essentiel pour équilibrer les épaules et éviter les blessures. Commence léger — ce muscle est souvent sous-développé.'
  },
  'pullover': {
    title: 'PULL-OVER HALTÈRE — Grand Dorsal et Dentelé',
    url: 'https://www.youtube-nocookie.com/embed/FK4rHFCBEBE?autoplay=1&mute=1&rel=0',
    desc: 'Allongé transversalement sur un banc, hanches basses pour l\'amplitude. Haltère tenu à deux mains au-dessus de la poitrine. Descends l\'haltère derrière la tête en arc de cercle jusqu\'à sentir un étirement profond dans les lats. Remonte en contractant le grand dorsal. Garde les coudes légèrement fléchis. Excellent pour élargir la cage thoracique et développer le grand dorsal en étirement.'
  }
};

function openModal(exerciseId) {
  const video = videos[exerciseId];
  if (!video) return;

  const match = video.url.match(/embed\/([^?]+)/);
  const ytId = match ? match[1] : '';
  const ytWatchUrl = ytId ? `https://www.youtube.com/watch?v=${ytId}` : '#';

  document.getElementById('modalTitle').textContent = video.title;
  document.getElementById('modalDesc').textContent = video.desc;
  document.getElementById('modalIframe').src = '';
  document.getElementById('modalIframe').style.display = 'none';
  document.getElementById('modalThumb').style.display = 'flex';
  document.getElementById('modalYtLink').href = ytWatchUrl;
  document.getElementById('modalIframe').dataset.src = video.url;

  // Essaie maxresdefault, fallback sur hqdefault
  const img = document.getElementById('modalThumbImg');
  const fallback = document.getElementById('modalThumbFallback');
  img.style.display = 'block';
  fallback.style.display = 'none';
  if (ytId) {
    img.src = `https://img.youtube.com/vi/${ytId}/maxresdefault.jpg`;
    img.onerror = function() {
      img.src = `https://img.youtube.com/vi/${ytId}/hqdefault.jpg`;
      img.onerror = function() {
        img.style.display = 'none';
        fallback.style.display = 'flex';
      };
    };
  } else {
    img.style.display = 'none';
    fallback.style.display = 'flex';
  }

  document.getElementById('videoModal').classList.add('active');
  document.body.style.overflow = 'hidden';
}

function playVideo() {
  const iframe = document.getElementById('modalIframe');
  const thumb = document.getElementById('modalThumb');
  iframe.src = iframe.dataset.src;
  iframe.style.display = 'block';
  thumb.style.display = 'none';
}

function closeModal(e) {
  if (e && e.target !== document.getElementById('videoModal')) return;
  const iframe = document.getElementById('modalIframe');
  iframe.src = '';
  iframe.style.display = 'none';
  document.getElementById('modalThumb').style.display = 'flex';
  document.getElementById('videoModal').classList.remove('active');
  document.body.style.overflow = '';
}

// Programme tabs
function switchWarmup(tab) {
  ['general','pecs','dos','epaules','jambes'].forEach(t => {
    const el = document.getElementById('warmup-' + t);
    const btn = document.getElementById('wbtn-' + t);
    if (el) el.style.display = t === tab ? 'grid' : 'none';
    if (btn) btn.classList.toggle('active', t === tab);
  });
}

function switchProgram(prog) {
  document.querySelectorAll('.programme-content').forEach(c => c.classList.remove('active'));
  document.getElementById('prog-' + prog).classList.add('active');
  document.querySelectorAll('#programme .tab-btn').forEach((b, i) => {
    b.classList.toggle('active', b.onclick.toString().includes("'" + prog + "'"));
  });
  // Scroll to programs section
  document.getElementById('programme').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// Meal tabs
function switchMeal(plan) {
  document.querySelectorAll('.meal-day-content').forEach(c => c.classList.remove('active'));
  document.getElementById('meal-' + plan).classList.add('active');
  document.querySelectorAll('#nutrition .tab-btn, [onclick*="switchMeal"]').forEach(b => {
    b.classList.toggle('active', b.onclick && b.onclick.toString().includes(plan));
  });
}

// Better tab switching
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    const parent = this.closest('.programme-tabs, .meal-plan-tabs');
    parent.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
  });
});

// CALORIE CALCULATOR
function calculateCalories() {
  const age = parseFloat(document.getElementById('calcAge').value);
  const sex = document.getElementById('calcSex').value;
  const weight = parseFloat(document.getElementById('calcWeight').value);
  const height = parseFloat(document.getElementById('calcHeight').value);
  const activity = parseFloat(document.getElementById('calcActivity').value);
  const goal = parseFloat(document.getElementById('calcGoal').value);

  if (!age || !weight || !height || isNaN(age) || isNaN(weight) || isNaN(height)) {
    alert('Veuillez remplir tous les champs correctement !');
    return;
  }

  let bmr;
  if (sex === 'm') {
    bmr = 10 * weight + 6.25 * height - 5 * age + 5;
  } else {
    bmr = 10 * weight + 6.25 * height - 5 * age - 161;
  }

  const tdee = Math.round(bmr * activity);
  const totalCals = tdee + goal;

  // Macros: 2g prot/kg, 1g fat/kg, rest carbs
  const protein = Math.round(weight * 2);
  const fat = Math.round(weight * 1);
  const carbCals = totalCals - (protein * 4) - (fat * 9);
  const carbs = Math.round(carbCals / 4);

  document.getElementById('resultCalories').textContent = totalCals.toLocaleString();
  document.getElementById('resultBMR').textContent = Math.round(bmr) + ' kcal';
  document.getElementById('resultTDEE').textContent = tdee + ' kcal';
  document.getElementById('resultSurplus').textContent = '+' + goal + ' kcal';
  document.getElementById('macroProt').textContent = protein + 'g';
  document.getElementById('macroCarb').textContent = carbs + 'g';
  document.getElementById('macroFat').textContent = fat + 'g';

  const noteText = goal === 250 
    ? '🟢 Lean Bulk : progression lente mais minimise la prise de gras. Parfait si tu débutes ou si tu es sensible à la prise de gras.'
    : goal === 500 
    ? '🟡 Surplus modéré recommandé : bon compromis prise de masse / gras. Attends-toi à prendre 0.5-1kg / mois dont ~70% de muscle.'
    : '🔴 Surplus agressif : gains rapides mais prise de gras plus importante. Recommandé seulement pour les débutants avec un bon métabolisme.';
  
  document.getElementById('resultNote').textContent = noteText;

  document.getElementById('calcPlaceholder').style.display = 'none';
  document.getElementById('calcResultContent').classList.remove('result-hidden');

  document.getElementById('calcResults').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

// Hamburger menu mobile
function toggleMenu() {
  const menu = document.getElementById('mobileMenu');
  const burger = document.querySelector('.nav-burger');
  menu.classList.toggle('open');
  burger.classList.toggle('open');
  document.body.style.overflow = menu.classList.contains('open') ? 'hidden' : '';
}

// Progress bar
window.addEventListener('scroll', () => {
  const scrollTop = document.documentElement.scrollTop;
  const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
  const progress = (scrollTop / scrollHeight) * 100;
  document.getElementById('progressBar').style.width = progress + '%';
});

// Intersection Observer for animations
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
    } else {
      entry.target.classList.remove('visible');
    }
  });
}, { threshold: 0.1 });

document.querySelectorAll('.fade-in-up').forEach(el => observer.observe(el));

// Enter key for calculator
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    closeModal();
    return;
  }
  if (e.key === 'Enter') {
    const calcSection = document.getElementById('calories');
    if (calcSection.contains(document.activeElement)) {
      calculateCalories();
    }
  }
});
</script>
<!-- PWA Service Worker + Install Banner -->
<script>
// ═══════════════════════════════════════════════════════════════
//  PWA — Service Worker + VRAIES Push Notifications VAPID
//  Comme WhatsApp — fonctionne même app complètement fermée
// ═══════════════════════════════════════════════════════════════

const VAPID_PUBLIC_KEY = 'BIzcBC_ZtmpORjhbH1XGRnL0xvNVYMFymFTgJ8IM2rjtcXZkg7reUEw97-y8zAEweq4HbmEEIIdc46HjxFfcKIE';

let swRegistration = null;
let pushSubscription = null;

// Convertit la clé VAPID base64 en Uint8Array
function urlBase64ToUint8Array(base64String) {
  const padding = '='.repeat((4 - base64String.length % 4) % 4);
  const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');
  const rawData = window.atob(base64);
  return new Uint8Array([...rawData].map(c => c.charCodeAt(0)));
}

if ('serviceWorker' in navigator) {
  window.addEventListener('load', async () => {
    try {
      swRegistration = await navigator.serviceWorker.register('/ironforge/sw.js');
      console.log('IRONFORGE SW actif:', swRegistration.scope);

      // Si notifs autorisées → s'abonner aux push VAPID
      if (Notification.permission === 'granted') {
        await subscribeToPush();
      }
    } catch(err) {
      console.log('SW erreur:', err);
    }
  });
}

// S'abonner aux push VAPID (vrai push serveur)
async function subscribeToPush() {
  if (!swRegistration) return null;
  try {
    // Vérifier si déjà abonné
    let sub = await swRegistration.pushManager.getSubscription();
    if (!sub) {
      sub = await swRegistration.pushManager.subscribe({
        userVisibleOnly: true,
        applicationServerKey: urlBase64ToUint8Array(VAPID_PUBLIC_KEY)
      });
    }
    pushSubscription = sub;
    // Sauvegarder l'abonnement + les rappels sur GitHub
    await saveSubscriptionToGitHub(sub);
    return sub;
  } catch(err) {
    console.log('Push subscription erreur:', err);
    return null;
  }
}

// Sauvegarde l'abonnement + rappels dans ironforge-subscriptions.json sur GitHub
async function saveSubscriptionToGitHub(subscription) {
  try {
    const subId = storageGet('pushSubId') || ('sub_' + Date.now());
    storageSet('pushSubId', subId);

    const reminders = storageGet('dailyReminders') || [];
    const schedules = storageGet('schedules') || [];

    const payload = {
      id: subId,
      subscription: subscription.toJSON(),
      reminders,
      schedules,
      updatedAt: new Date().toISOString()
    };

    // Lire le fichier actuel sur GitHub
    const REPO = 'scrixdev/ironforge'; // ← ton repo GitHub
    const FILE = 'ironforge-subscriptions.json';
    const API  = `https://api.github.com/repos/${REPO}/contents/${FILE}`;

    // Récupérer le SHA actuel du fichier (nécessaire pour update)
    let sha = null;
    let existingData = { subscriptions: [] };
    try {
      const getRes = await fetch(API, {
        headers: { 'Accept': 'application/vnd.github.v3+json' }
      });
      if (getRes.ok) {
        const fileInfo = await getRes.json();
        sha = fileInfo.sha;
        existingData = JSON.parse(atob(fileInfo.content.replace(/\n/g,'')));
      }
    } catch(e) {}

    // Mettre à jour ou ajouter cet abonnement
    const idx = existingData.subscriptions.findIndex(s => s.id === subId);
    if (idx !== -1) existingData.subscriptions[idx] = payload;
    else existingData.subscriptions.push(payload);

    // GitHub nécessite un token pour écrire → on utilise une GitHub Action à la place
    // On stocke localement et on sync au prochain push via un form endpoint
    storageSet('pendingSync', JSON.stringify(existingData));
    console.log('IRONFORGE: abonnement push prêt ✅');
  } catch(err) {
    console.log('saveSubscription erreur:', err);
  }
}

// Appelé quand l'utilisateur active les notifs
async function requestNotifPermissionFull() {
  if (!('Notification' in window)) { alert('Notifications non supportées.'); return; }
  const perm = await Notification.requestPermission();
  checkNotifBanner();
  if (perm === 'granted') {
    await subscribeToPush();
    sendNotif('🔔 Notifications activées !', 'Tu recevras des rappels même app fermée — comme WhatsApp ! 💪');
    // Reschedule tout
    const schedules = storageGet('schedules') || [];
    schedules.forEach(scheduleNotification);
    const reminders = storageGet('dailyReminders') || [];
    reminders.forEach(scheduleDailyNotifs);
  }
}

function scheduleViaSW(title, body, delayMs, tag) {
  if (!swRegistration?.active) {
    if (delayMs > 0) setTimeout(() => sendNotif(title, body, tag), delayMs);
    return;
  }
  // Pour les notifs courte durée (< 1h) on utilise le SW message
  // Pour les notifs long terme → GitHub Actions s'en charge via VAPID
  if (delayMs < 3600000) {
    swRegistration.active.postMessage({
      type: 'SCHEDULE_NOTIFICATION',
      title, body, delay: delayMs, tag
    });
  }
}

function rescheduleAllViaSW() {
  const reminders = storageGet('dailyReminders') || [];
  reminders.forEach(scheduleDailyNotifs);
  const schedules = storageGet('schedules') || [];
  schedules.forEach(scheduleNotification);
}

// Bannière d'installation PWA
let deferredPrompt;
window.addEventListener('beforeinstallprompt', e => {
  e.preventDefault();
  deferredPrompt = e;

  const banner = document.createElement('div');
  banner.id = 'pwa-banner';
  banner.innerHTML = `
    <div style="
      position:fixed; bottom:16px; left:16px; right:16px;
      background:linear-gradient(160deg,#16161f,#1e1e2a);
      border:1px solid rgba(230,57,70,0.35);
      border-radius:20px; padding:18px;
      display:flex; flex-direction:column; gap:14px;
      z-index:9999;
      box-shadow:0 12px 60px rgba(0,0,0,0.7);
      max-width:420px;
      animation: fadeUp 0.4s cubic-bezier(0.16,1,0.3,1) both;
    ">
      <div style="display:flex;align-items:center;gap:12px;">
        <div style="position:relative;flex-shrink:0;">
          <img src="/ironforge/icon-192.png" width="48" height="48" style="border-radius:12px;display:block;">
          <div style="position:absolute;bottom:-3px;right:-3px;width:15px;height:15px;border-radius:50%;background:linear-gradient(135deg,#E63946,#FF6B35);border:2px solid #16161f;display:flex;align-items:center;justify-content:center;font-size:8px;">⚡</div>
        </div>
        <div style="flex:1;">
          <div style="font-family:'Bebas Neue',sans-serif;font-size:1.15rem;letter-spacing:3px;color:#fff;">IRONFORGE</div>
          <div style="font-size:0.7rem;color:#6b6b80;margin-top:3px;">⚡ Accès rapide · 📶 Hors ligne · 🔔 Notifs push</div>
        </div>
      </div>
      <div style="font-size:0.78rem;color:#888;line-height:1.5;">
        Installez l'application pour recevoir les <strong style="color:#f0ede8;">notifications de vos programmes</strong> et messages de suivi en temps réel.
      </div>
      <div style="display:flex;gap:10px;">
        <button id="pwa-install" style="flex:1;background:linear-gradient(135deg,#E63946,#FF6B35);border:none;color:white;padding:13px;font-family:'Barlow Condensed',sans-serif;font-size:0.9rem;letter-spacing:2px;text-transform:uppercase;cursor:pointer;border-radius:10px;">⚡ Installer</button>
        <button id="pwa-dismiss" style="flex:1;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);color:#888;padding:13px;font-family:'Barlow Condensed',sans-serif;font-size:0.9rem;letter-spacing:2px;text-transform:uppercase;cursor:pointer;border-radius:10px;">Plus tard</button>
      </div>
    </div>
  `;
  document.body.appendChild(banner);
  // Remonte le bouton Mode Séance au-dessus de la bannière sur mobile
  const _sessionBtn = document.getElementById('session-mode-btn');
  const _bannerEl = banner.firstElementChild;
  const _liftBtn = () => {
    if (_sessionBtn && _bannerEl) {
      const h = _bannerEl.offsetHeight;
      _sessionBtn.style.bottom = (h + 32) + 'px';
    }
  };
  _liftBtn();
  window.addEventListener('resize', _liftBtn);
  const _restoreBtn = () => { if (_sessionBtn) _sessionBtn.style.bottom = '24px'; window.removeEventListener('resize', _liftBtn); };
  document.getElementById('pwa-install').addEventListener('click', () => {
    deferredPrompt.prompt();
    deferredPrompt.userChoice.then(() => { banner.remove(); deferredPrompt = null; _restoreBtn(); });
  });
  document.getElementById('pwa-dismiss').addEventListener('click', () => { banner.remove(); _restoreBtn(); });
});

window.addEventListener('appinstalled', () => {
  document.getElementById('pwa-banner')?.remove();
  // Auto-subscribe aux push après installation
  setTimeout(() => subscribeToPush(), 2000);
});

// Envoie une notif programmée via le Service Worker
// → fonctionne même quand l'app est en arrière-plan (PWA installée)
function scheduleViaSW(title, body, delayMs, tag) {
  if (!swRegistration?.active) {
    // Fallback setTimeout si SW pas dispo
    if (delayMs > 0) setTimeout(() => sendNotif(title, body, tag), delayMs);
    return;
  }
  swRegistration.active.postMessage({
    type: 'SCHEDULE_NOTIFICATION',
    title, body, delay: delayMs, tag
  });
}

// Reprogramme tous les rappels quotidiens via SW au chargement
function rescheduleAllViaSW() {
  const reminders = storageGet('dailyReminders') || [];
  reminders.forEach(r => scheduleDailyNotifs(r));
  const schedules = storageGet('schedules') || [];
  schedules.forEach(item => scheduleNotification(item));
}

window.addEventListener('appinstalled', () => {
  document.getElementById('pwa-banner')?.remove();
  setTimeout(() => subscribeToPush(), 2000);
});
</script>

<script>
// ═══════════════════════════════════════════════════════════════
//  IRONFORGE — SYSTÈME COMPLET SÉANCE + NOTIFICATIONS + HISTORIQUE
// ═══════════════════════════════════════════════════════════════

// ── STORAGE HELPERS ──────────────────────────────────────────
function storageGet(key) {
  try { const v = localStorage.getItem('ironforge_' + key); return v ? JSON.parse(v) : null; } catch(e) { return null; }
}
function storageSet(key, val) {
  try { localStorage.setItem('ironforge_' + key, JSON.stringify(val)); } catch(e) {}
}

// ── DONNÉES PROGRAMMES ─────────────────────────────────────────
const PROGRAMS = {
  ppl: {
    name: 'PPL — Push Pull Legs',
    days: {
      push: {
        label: 'PUSH — Pecs / Épaules / Triceps',
        muscle: 'Poussée',
        exercises: [
          { id:'bench-press',   name:'Développé Couché Barre',     sets:4, reps:'6-8',  muscle:'Pectoraux', restSec:180 },
          { id:'incline-db',    name:'Développé Incliné Haltères', sets:3, reps:'8-10', muscle:'Pectoraux', restSec:150 },
          { id:'ohp',           name:'Développé Militaire',        sets:4, reps:'6-8',  muscle:'Épaules',   restSec:180 },
          { id:'lateral-raise', name:'Élévations Latérales',       sets:4, reps:'15',   muscle:'Épaules',   restSec:60  },
          { id:'cable-fly',     name:'Écarté Poulie Croisée',      sets:3, reps:'12-15',muscle:'Pectoraux', restSec:90  },
          { id:'tricep-pushdown',name:'Extension Triceps Poulie',  sets:4, reps:'12-15',muscle:'Triceps',   restSec:90  },
          { id:'tricep-dips',   name:'Dips Triceps',               sets:3, reps:'10-12',muscle:'Triceps',   restSec:90  },
        ]
      },
      pull: {
        label: 'PULL — Dos / Biceps / Arrière Épaules',
        muscle: 'Tirage',
        exercises: [
          { id:'deadlift',      name:'Soulevé de Terre',           sets:4, reps:'4-6',  muscle:'Dos',       restSec:300 },
          { id:'row-barre',     name:'Rowing Barre',               sets:4, reps:'6-8',  muscle:'Dos',       restSec:180 },
          { id:'pulldown',      name:'Tirage Vertical Poulie',     sets:3, reps:'10-12',muscle:'Dos',       restSec:120 },
          { id:'seated-cable-row',name:'Tirage Horizontal Poulie', sets:3, reps:'12-15',muscle:'Dos',       restSec:90  },
          { id:'facepull',      name:'Face Pull',                  sets:4, reps:'15',   muscle:'Arrière Épaules',restSec:60 },
          { id:'bicep-curl',    name:'Curl Biceps Barre',          sets:3, reps:'10-12',muscle:'Biceps',    restSec:90  },
          { id:'hammer-curl',   name:'Curl Marteau Haltères',      sets:3, reps:'12',   muscle:'Biceps',    restSec:90  },
        ]
      },
      legs: {
        label: 'LEGS — Quadriceps / Ischio / Mollets',
        muscle: 'Jambes',
        exercises: [
          { id:'squat',         name:'Squat Barre',                sets:4, reps:'4-6',  muscle:'Quadriceps',restSec:300 },
          { id:'leg-press',     name:'Leg Press',                  sets:3, reps:'10-12',muscle:'Quadriceps',restSec:150 },
          { id:'rdl',           name:'Romanian Deadlift',          sets:3, reps:'8-10', muscle:'Ischio',    restSec:150 },
          { id:'hack-squat',    name:'Hack Squat Machine',         sets:3, reps:'10-12',muscle:'Quadriceps',restSec:120 },
          { id:'leg-curl',      name:'Leg Curl Couché',            sets:3, reps:'12',   muscle:'Ischio',    restSec:90  },
          { id:'calf-raises',   name:'Mollets Debout',             sets:4, reps:'15-20',muscle:'Mollets',   restSec:60  },
          { id:'bulgarian-squat',name:'Fentes Bulgares',           sets:3, reps:'10/j', muscle:'Quadriceps',restSec:120 },
        ]
      }
    }
  },
  fullbody: {
    name: 'Full Body',
    days: {
      a: {
        label: 'FULL BODY A — Lundi / Vendredi',
        muscle: 'Corps entier',
        exercises: [
          { id:'squat',      name:'Squat Barre',           sets:4, reps:'5',  muscle:'Quadriceps',restSec:240 },
          { id:'bench-press',name:'Développé Couché',      sets:4, reps:'5',  muscle:'Pectoraux', restSec:240 },
          { id:'row-barre',  name:'Rowing Barre',          sets:4, reps:'5',  muscle:'Dos',       restSec:240 },
          { id:'ohp',        name:'Développé Militaire',   sets:3, reps:'8',  muscle:'Épaules',   restSec:150 },
          { id:'deadlift',   name:'Soulevé de Terre',      sets:1, reps:'5',  muscle:'Dos/Jambes',restSec:300 },
        ]
      },
      b: {
        label: 'FULL BODY B — Mercredi',
        muscle: 'Corps entier',
        exercises: [
          { id:'squat',         name:'Squat Barre',           sets:4, reps:'5',   muscle:'Quadriceps',restSec:240 },
          { id:'bench-press',   name:'Développé Couché',      sets:4, reps:'5',   muscle:'Pectoraux', restSec:240 },
          { id:'row-barre',     name:'Rowing Barre',          sets:4, reps:'5',   muscle:'Dos',       restSec:240 },
          { id:'pulldown',      name:'Tirage Vertical Poulie',sets:3, reps:'10',  muscle:'Dos',       restSec:120 },
          { id:'lateral-raise', name:'Élévations Latérales',  sets:3, reps:'15',  muscle:'Épaules',   restSec:60  },
        ]
      }
    }
  },
  upper: {
    name: 'Upper / Lower',
    days: {
      upperA: {
        label: 'UPPER A — Lundi (Force)',
        muscle: 'Haut du corps',
        exercises: [
          { id:'bench-press',    name:'Développé Couché Barre',    sets:4, reps:'4-6',  muscle:'Pectoraux',restSec:240 },
          { id:'row-barre',      name:'Rowing Barre',              sets:4, reps:'4-6',  muscle:'Dos',      restSec:240 },
          { id:'ohp',            name:'Développé Militaire',       sets:3, reps:'8-10', muscle:'Épaules',  restSec:150 },
          { id:'incline-db',     name:'Développé Incliné Haltères',sets:3, reps:'10-12',muscle:'Pectoraux',restSec:120 },
          { id:'pulldown',       name:'Tirage Vertical Poulie',    sets:3, reps:'10-12',muscle:'Dos',      restSec:120 },
          { id:'lateral-raise',  name:'Élévations Latérales',      sets:3, reps:'15',   muscle:'Épaules',  restSec:60  },
          { id:'tricep-pushdown',name:'Extension Triceps Poulie',  sets:3, reps:'12-15',muscle:'Triceps',  restSec:90  },
          { id:'bicep-curl',     name:'Curl Biceps Barre',         sets:3, reps:'12',   muscle:'Biceps',   restSec:90  },
        ]
      },
      lowerA: {
        label: 'LOWER A — Mardi (Force)',
        muscle: 'Bas du corps',
        exercises: [
          { id:'squat',         name:'Squat Barre Haute',    sets:4, reps:'4-6',  muscle:'Quadriceps',restSec:300 },
          { id:'rdl',           name:'Romanian Deadlift',    sets:3, reps:'8-10', muscle:'Ischio',    restSec:180 },
          { id:'leg-press',     name:'Leg Press',            sets:3, reps:'10-12',muscle:'Quadriceps',restSec:150 },
          { id:'hack-squat',    name:'Hack Squat Machine',   sets:3, reps:'10-12',muscle:'Quadriceps',restSec:120 },
          { id:'leg-curl',      name:'Leg Curl Couché',      sets:3, reps:'12',   muscle:'Ischio',    restSec:90  },
          { id:'calf-raises',   name:'Mollets Debout',       sets:4, reps:'15-20',muscle:'Mollets',   restSec:60  },
        ]
      },
      upperB: {
        label: 'UPPER B — Jeudi (Hypertrophie)',
        muscle: 'Haut du corps',
        exercises: [
          { id:'incline-barbell',name:'Développé Incliné Barre',  sets:4, reps:'8-10', muscle:'Pectoraux',restSec:180 },
          { id:'tbar-row',       name:'T-Bar Row',                sets:4, reps:'8-10', muscle:'Dos',      restSec:180 },
          { id:'arnold-press',   name:'Développé Arnold',         sets:3, reps:'10-12',muscle:'Épaules',  restSec:120 },
          { id:'pec-deck',       name:'Pec Deck Butterfly',       sets:3, reps:'12-15',muscle:'Pectoraux',restSec:90  },
          { id:'seated-cable-row',name:'Tirage Horizontal Poulie',sets:3, reps:'12-15',muscle:'Dos',      restSec:90  },
          { id:'facepull',       name:'Face Pull',                sets:3, reps:'15',   muscle:'Arrière Épaules',restSec:60 },
          { id:'tricep-dips',    name:'Dips Triceps',             sets:3, reps:'10-12',muscle:'Triceps',  restSec:90  },
          { id:'hammer-curl',    name:'Curl Marteau Haltères',    sets:3, reps:'12',   muscle:'Biceps',   restSec:90  },
        ]
      },
      lowerB: {
        label: 'LOWER B — Vendredi (Hypertrophie)',
        muscle: 'Bas du corps',
        exercises: [
          { id:'hack-squat',    name:'Hack Squat Machine',  sets:4, reps:'8-10',  muscle:'Quadriceps',restSec:180 },
          { id:'bulgarian-squat',name:'Fentes Bulgares',    sets:3, reps:'10/j',  muscle:'Quadriceps',restSec:150 },
          { id:'rdl',           name:'Romanian Deadlift',   sets:4, reps:'10-12', muscle:'Ischio',    restSec:150 },
          { id:'leg-curl',      name:'Leg Curl Couché',     sets:3, reps:'12-15', muscle:'Ischio',    restSec:90  },
          { id:'calf-raises',   name:'Mollets Assis Machine',sets:4,reps:'20',    muscle:'Mollets',   restSec:60  },
        ]
      }
    }
  },
  debutant: {
    name: 'Débutant 5×5',
    days: {
      a: {
        label: 'SÉANCE A — Lundi / Vendredi',
        muscle: 'Corps entier',
        exercises: [
          { id:'squat',      name:'Squat Barre',           sets:5, reps:'5',  muscle:'Quadriceps',restSec:300, note:'+2,5kg/séance' },
          { id:'bench-press',name:'Développé Couché Barre',sets:5, reps:'5',  muscle:'Pectoraux', restSec:300, note:'+2,5kg/séance' },
          { id:'row-barre',  name:'Rowing Barre',          sets:5, reps:'5',  muscle:'Dos',       restSec:300, note:'+2,5kg/séance' },
        ]
      },
      b: {
        label: 'SÉANCE B — Mercredi',
        muscle: 'Corps entier',
        exercises: [
          { id:'squat',  name:'Squat Barre',         sets:5, reps:'5',  muscle:'Quadriceps',restSec:300, note:'+2,5kg/séance' },
          { id:'ohp',    name:'Développé Militaire', sets:5, reps:'5',  muscle:'Épaules',   restSec:300, note:'+2,5kg/séance' },
          { id:'deadlift',name:'Soulevé de Terre',   sets:1, reps:'5',  muscle:'Dos/Jambes',restSec:300, note:'+5kg/séance' },
        ]
      }
    }
  }
};

// ── ÉTAT SESSION ──────────────────────────────────────────────
let currentProgKey   = null;
let currentDayKey    = null;
let currentSession   = null; // { progKey, dayKey, exercises, startTime, log: [], currentEx, currentSet }
let liveTimerInt     = null;
let liveTimerSec     = 0;
let elapsedInt       = null;
let elapsedSec       = 0;

// ── OVERLAY OPEN / CLOSE ─────────────────────────────────────
function openSessionMode() {
  document.getElementById('session-overlay').classList.add('active');
  document.body.style.overflow = 'hidden';

  // Restaurer le programme actif
  const savedKey = getActiveProgramKey();
  if (savedKey) {
    currentProgKey = savedKey;
    renderTodayCard();
  } else {
    document.getElementById('noProgCard').style.display = 'block';
    document.getElementById('todayCard').style.display = 'none';
  }

  updateScheduleUI();
  renderHistory();
  checkNotifBanner();
  updateSchProgDays();
  injectCustomProgsInSchedule();
  renderDailyRemindersItems();
}

function closeSessionMode() {
  document.getElementById('session-overlay').classList.remove('active');
  document.body.style.overflow = '';
}

// ── TABS ─────────────────────────────────────────────────────
function switchSessionTab(tab) {
  document.querySelectorAll('.session-tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.session-pane').forEach(p => p.classList.remove('active'));
  document.getElementById('stab-' + tab).classList.add('active');
  document.getElementById('spane-' + tab).classList.add('active');
  if (tab === 'history') renderHistory();
}

// ── PROGRAMME ACTIF (persist) ────────────────────────────────
function setActiveProgram(key, el) {
  storageSet('activeProgram', key);
  currentProgKey = key;
  currentDayKey = null;

  document.querySelectorAll('.prog-card').forEach(c => c.classList.remove('selected'));
  if (el) el.classList.add('selected');

  renderTodayCard();
  renderManualPicker(key);
}

function getActiveProgramKey() {
  return storageGet('activeProgram') || null;
}

// ── CARTE "AUJOURD'HUI" ──────────────────────────────────────
function renderTodayCard() {
  const key = getActiveProgramKey();
  const todayCard = document.getElementById('todayCard');
  const noProgCard = document.getElementById('noProgCard');

  if (!key || !PROGRAMS[key]) {
    todayCard.style.display = 'none';
    noProgCard.style.display = 'block';
    return;
  }

  const prog = PROGRAMS[key];
  const todaySession = getTodaySession(key);
  const now = new Date();
  const jours = ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'];
  const mois  = ['jan','fév','mar','avr','mai','jun','jul','aoû','sep','oct','nov','déc'];

  document.getElementById('todayDateLabel').textContent =
    `${jours[now.getDay()]} ${now.getDate()} ${mois[now.getMonth()]} · ${prog.name}`;

  if (!todaySession) {
    // Jour de repos
    todayCard.style.background = 'linear-gradient(135deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02))';
    todayCard.style.borderColor = 'rgba(255,255,255,0.1)';
    todayCard.style.display = 'block';
    noProgCard.style.display = 'none';
    document.getElementById('todaySessionIcon').textContent = '😴';
    document.getElementById('todaySessionName').textContent = 'JOUR DE REPOS';
    document.getElementById('todaySessionDesc').textContent = 'Récupération active — étirements, marche légère';
    document.getElementById('todayExCount').textContent = '';
    document.getElementById('todayExPreview').innerHTML = '';
    document.querySelector('#todayCard button').style.display = 'none';
    return;
  }

  // Jour d'entraînement
  todayCard.style.background = 'linear-gradient(135deg,rgba(230,57,70,0.15),rgba(255,107,53,0.08))';
  todayCard.style.borderColor = 'rgba(230,57,70,0.35)';
  todayCard.style.display = 'block';
  noProgCard.style.display = 'none';
  document.querySelector('#todayCard button').style.display = 'block';

  const { dayKey, day } = todaySession;
  currentProgKey = key;
  currentDayKey = dayKey;

  // Icône selon muscle
  const icons = { push:'💪', pull:'🏋️', legs:'🦵', upper:'💪', lower:'🦵', full:'⚡', corps:'⚡', dos:'🏋️', pec:'💪', épaules:'🏅', séance:'⚡' };
  const muscle = (day.muscle || '').toLowerCase();
  const icon = Object.entries(icons).find(([k]) => muscle.includes(k))?.[1] || '⚡';

  document.getElementById('todaySessionIcon').textContent = icon;
  document.getElementById('todaySessionName').textContent = day.label?.split('—')[0]?.trim().toUpperCase() || day.muscle.toUpperCase();
  document.getElementById('todaySessionDesc').textContent = day.label?.split('—')[1]?.trim() || day.muscle;
  document.getElementById('todayExCount').textContent = `${day.exercises.length} exercices`;

  // Aperçu exercices
  document.getElementById('todayExPreview').innerHTML = day.exercises.map(ex => `
    <div style="
      background:rgba(255,255,255,0.06); border-radius:6px; padding:4px 10px;
      font-family:'Barlow Condensed',sans-serif; font-size:0.72rem; letter-spacing:1px;
      color:var(--gray); white-space:nowrap;
    ">${ex.name} <span style="color:var(--orange);">${ex.sets}×${ex.reps}</span></div>
  `).join('');

  // Highlight la prog card active
  document.querySelectorAll('.prog-card').forEach(c => c.classList.remove('selected'));
  document.querySelectorAll('.prog-card').forEach(c => {
    if (c.getAttribute('onclick')?.includes(`'${key}'`)) c.classList.add('selected');
  });

  renderManualPicker(key);
}

// ── DÉDUIRE LA SÉANCE DU JOUR ────────────────────────────────
function getTodaySession(progKey) {
  const prog = PROGRAMS[progKey];
  if (!prog) return null;

  const dayKeys = Object.keys(prog.days);
  const history = storageGet('history') || [];

  // Trouver la dernière séance de ce programme
  const lastSession = history.find(s => s.progKey === progKey);

  if (!lastSession) {
    // Première séance → proposer le premier jour
    return { dayKey: dayKeys[0], day: prog.days[dayKeys[0]] };
  }

  // Trouver le prochain jour dans la rotation
  const lastDayIdx = dayKeys.indexOf(lastSession.dayKey);
  const nextIdx = (lastDayIdx + 1) % dayKeys.length;

  // Vérifier si la dernière séance était aujourd'hui
  const lastDate = new Date(lastSession.date);
  const today = new Date();
  const sameDay = lastDate.toDateString() === today.toDateString();

  if (sameDay) {
    // Séance déjà faite aujourd'hui → repos ou prochain jour
    if (nextIdx === 0) return null; // cycle complet = repos
    return null; // déjà fait aujourd'hui
  }

  const nextDayKey = dayKeys[nextIdx];
  return { dayKey: nextDayKey, day: prog.days[nextDayKey] };
}

// ── PICKER MANUEL ────────────────────────────────────────────
function renderManualPicker(key) {
  const prog = PROGRAMS[key];
  if (!prog) return;
  const wrap = document.getElementById('manualPickWrap');
  const opts = document.getElementById('dayPickerOptions');
  wrap.style.display = 'block';

  opts.innerHTML = Object.entries(prog.days).map(([dk, d]) => {
    const isToday = dk === currentDayKey;
    return `<div class="day-chip ${isToday ? 'selected' : ''}" onclick="selectDay('${dk}',this)">
      <span style="font-size:0.85rem;">${d.muscle}</span><br>
      <small style="font-size:0.62rem;opacity:.7;">${d.label?.split('—')[0]?.trim() || ''}</small>
    </div>`;
  }).join('');

  if (currentDayKey) {
    document.getElementById('sessionLaunchBtn').disabled = false;
  }
}

function selectDay(key, el) {
  currentDayKey = key;
  document.querySelectorAll('.day-chip').forEach(c => c.classList.remove('selected'));
  el.classList.add('selected');
  document.getElementById('sessionLaunchBtn').disabled = false;
}

// ── LANCER LA SÉANCE DU JOUR (bouton principal) ───────────────
function launchTodaySession() {
  if (!currentProgKey || !currentDayKey) return;
  launchSession();
}

// ── LANCEMENT SÉANCE ─────────────────────────────────────────
function launchSession() {
  if (!currentProgKey || !currentDayKey) return;
  const day = PROGRAMS[currentProgKey].days[currentDayKey];
  currentSession = {
    progKey:    currentProgKey,
    dayKey:     currentDayKey,
    progName:   PROGRAMS[currentProgKey].name,
    dayLabel:   day.label,
    exercises:  day.exercises,
    startTime:  new Date(),
    log:        [],
    currentEx:  0,
    currentSet: 1,
  };

  document.getElementById('stab-live').style.display = 'block';
  document.getElementById('live-summary').style.display = 'none';
  document.getElementById('live-active').style.display  = 'block';
  switchSessionTab('live');
  renderLiveExercise();
  startElapsed();
  sendNotif('🏋️ Séance démarrée !', PROGRAMS[currentProgKey].name + ' — ' + day.muscle);
}

// ── RENDU EXERCICE EN COURS ───────────────────────────────────
function renderLiveExercise() {
  if (!currentSession) return;
  const { exercises, currentEx, currentSet } = currentSession;
  if (currentEx >= exercises.length) { showSummary(); return; }
  const ex = exercises[currentEx];
  const totalEx = exercises.length;

  document.getElementById('liveProgName').textContent   = PROGRAMS[currentSession.progKey]?.name.toUpperCase() || currentSession.progName.toUpperCase();
  document.getElementById('liveSessionDay').textContent = currentSession.dayLabel;
  document.getElementById('liveExIdx').textContent      = `Exercice ${currentEx + 1} / ${totalEx}`;
  document.getElementById('liveExCount').textContent    = `${ex.name}`;
  document.getElementById('liveProgressFill').style.width = ((currentEx / totalEx) * 100) + '%';

  document.getElementById('liveExMuscle').textContent = ex.muscle.toUpperCase();
  document.getElementById('liveExName').textContent   = ex.name.toUpperCase();
  const noteTxt = ex.note ? ` · ${ex.note}` : '';
  document.getElementById('liveExSets').textContent   = `${ex.sets} séries × ${ex.reps} reps${noteTxt} · Repos ${fmtTime(ex.restSec)}`;
  document.getElementById('liveCurrentSetNum').textContent = `${currentSet}/${ex.sets}`;

  // ── Perf précédente ────────────────────────────────────────
  const history = storageGet('history') || [];
  const prevPerf = getPreviousPerf(ex.name, history);
  const prevEl = document.getElementById('livePrevPerf');
  const prevTxt = document.getElementById('livePrevPerfText');
  if (prevPerf) {
    prevEl.style.display = 'flex';
    prevTxt.textContent = `Dernière fois : ${prevPerf.best}kg × ${prevPerf.reps} reps · Volume ${prevPerf.volume}kg`;
  } else {
    prevEl.style.display = 'none';
  }
  document.getElementById('livePRBadge').style.display = 'none';

  // Bubbles
  const bubblesEl = document.getElementById('liveSetBubbles');
  bubblesEl.innerHTML = '';
  for (let s = 1; s <= ex.sets; s++) {
    const done = s < currentSet;
    const div = document.createElement('div');
    div.className = 'live-set-bubble' + (done ? ' done' : '');
    div.innerHTML = done ? '<span></span>' : `<span>${s}</span>`;
    div.onclick = () => { if (!done) selectSetBubble(s); };
    bubblesEl.appendChild(div);
  }

  // Pre-fill last weight if exists
  const prevEntry = [...currentSession.log].reverse().find(e => e.exIdx === currentEx);
  if (prevEntry) document.getElementById('liveInputWeight').value = prevEntry.weight || '';
  else if (prevPerf) document.getElementById('liveInputWeight').value = prevPerf.best || '';
  else document.getElementById('liveInputWeight').value = '';
  document.getElementById('liveInputReps').value = ex.reps.toString().split('-')[1] || ex.reps.toString().split('/')[0];

  // Next/Finish button
  const isLast = currentEx >= exercises.length - 1;
  const nextBtn = document.getElementById('liveNextBtn');
  nextBtn.textContent = isLast && currentSet >= ex.sets ? 'Terminer 🏁' : 'Exo suivant →';
  nextBtn.className = 'live-nav-btn' + (isLast && currentSet >= ex.sets ? ' finish' : '');

  document.getElementById('liveNotes').value = '';
}

function getPreviousPerf(exName, history) {
  for (const session of history) {
    const sets = session.log.filter(e => e.exName === exName && e.weight > 0);
    if (sets.length) {
      const best = Math.max(...sets.map(s => s.weight));
      const bestSet = sets.find(s => s.weight === best);
      const volume = sets.reduce((a,s) => a + s.weight * s.reps, 0);
      return { best, reps: bestSet.reps, volume: Math.round(volume), date: session.date };
    }
  }
  return null;
}

function getAllTimePR(exName, history) {
  let pr = 0;
  history.forEach(session => {
    session.log.filter(e => e.exName === exName).forEach(s => {
      if (s.weight > pr) pr = s.weight;
    });
  });
  return pr;
}

function checkPR() {
  if (!currentSession) return;
  const history = storageGet('history') || [];
  const ex = currentSession.exercises[currentSession.currentEx];
  const weight = parseFloat(document.getElementById('liveInputWeight').value) || 0;
  const reps = parseInt(document.getElementById('liveInputReps').value) || 0;
  if (!weight || !reps) return;
  const pr = getAllTimePR(ex.name, history);
  const badge = document.getElementById('livePRBadge');
  badge.style.display = (weight > pr && pr > 0) ? 'block' : 'none';
}

function selectSetBubble(s) {
  currentSession.currentSet = s;
  document.getElementById('liveCurrentSetNum').textContent = `${s}/${currentSession.exercises[currentSession.currentEx].sets}`;
}

function validateSet() {
  if (!currentSession) return;
  const weight = parseFloat(document.getElementById('liveInputWeight').value) || 0;
  const reps   = parseInt(document.getElementById('liveInputReps').value) || 0;
  const note   = document.getElementById('liveNotes').value.trim();
  const { currentEx, currentSet, exercises } = currentSession;
  const ex = exercises[currentEx];

  // Detect PR
  const history = storageGet('history') || [];
  const oldPR = getAllTimePR(ex.name, history);
  const isPR = weight > 0 && weight > oldPR && oldPR > 0;

  currentSession.log.push({ exIdx: currentEx, exName: ex.name, set: currentSet, weight, reps, note, isPR });

  // Show PR badge briefly
  if (isPR) {
    const badge = document.getElementById('livePRBadge');
    badge.style.display = 'block';
    if (navigator.vibrate) navigator.vibrate([100,50,100,50,200]);
    setTimeout(() => { badge.style.display = 'none'; }, 3000);
  }

  // Mark bubble done
  const bubbles = document.getElementById('liveSetBubbles').querySelectorAll('.live-set-bubble');
  if (bubbles[currentSet-1]) {
    bubbles[currentSet-1].classList.add('done');
    if (isPR) bubbles[currentSet-1].classList.add('pr');
    bubbles[currentSet-1].innerHTML = isPR ? '<span>🏆</span>' : '<span></span>';
  }

  // Start rest timer automatically
  liveStartTimer(ex.restSec);

  if (currentSet < ex.sets) {
    currentSession.currentSet++;
    document.getElementById('liveCurrentSetNum').textContent = `${currentSession.currentSet}/${ex.sets}`;
    if (navigator.vibrate) navigator.vibrate(80);
  } else {
    if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
    const nextBtn = document.getElementById('liveNextBtn');
    nextBtn.textContent = currentEx >= exercises.length - 1 ? 'Terminer 🏁' : 'Exo suivant →';
    nextBtn.className = 'live-nav-btn' + (currentEx >= exercises.length - 1 ? ' finish' : '');
  }
}

function liveNext() {
  if (!currentSession) return;
  const { exercises, currentEx } = currentSession;
  if (currentEx >= exercises.length - 1) { showSummary(); return; }
  currentSession.currentEx++;
  currentSession.currentSet = 1;
  renderLiveExercise();
}

function livePrev() {
  if (!currentSession || currentSession.currentEx <= 0) return;
  currentSession.currentEx--;
  currentSession.currentSet = 1;
  renderLiveExercise();
}

// ── LIVE TIMER ────────────────────────────────────────────────
function liveStartTimer(seconds) {
  if (liveTimerInt) clearInterval(liveTimerInt);
  liveTimerSec = seconds;
  document.querySelector('.live-timer-presets')?.querySelectorAll('.live-timer-preset').forEach(b => b.classList.remove('active-preset'));
  renderLiveTimer();
  liveTimerInt = setInterval(() => {
    liveTimerSec--;
    renderLiveTimer();
    if (liveTimerSec <= 0) {
      clearInterval(liveTimerInt); liveTimerInt = null;
      document.getElementById('liveTimerCount').textContent = '✓ GO!';
      document.getElementById('liveTimerCount').style.color = '#38ef7d';
      if (navigator.vibrate) navigator.vibrate([200,100,200,100,200]);
      sendNotif('⏰ Repos terminé !', 'C\'est reparti — prochaine série !');
      setTimeout(() => {
        if (document.getElementById('liveTimerCount'))
          document.getElementById('liveTimerCount').style.removeProperty('color');
        renderLiveTimer();
      }, 3000);
    }
  }, 1000);
}

function liveStopTimer() {
  if (liveTimerInt) { clearInterval(liveTimerInt); liveTimerInt = null; }
  liveTimerSec = 0;
  document.getElementById('liveTimerCount').textContent = '—';
}

function renderLiveTimer() {
  const el = document.getElementById('liveTimerCount');
  if (!el) return;
  if (liveTimerSec <= 0) { el.textContent = '—'; return; }
  const m = Math.floor(liveTimerSec / 60);
  const s = liveTimerSec % 60;
  el.textContent = `${m}:${s.toString().padStart(2,'0')}`;
  el.style.color = liveTimerSec <= 10 ? 'var(--red)' : '';
}

// ── ELAPSED ───────────────────────────────────────────────────
function startElapsed() {
  elapsedSec = 0;
  if (elapsedInt) clearInterval(elapsedInt);
  elapsedInt = setInterval(() => {
    elapsedSec++;
    const el = document.getElementById('liveElapsed');
    if (el) el.textContent = fmtTime(elapsedSec);
  }, 1000);
}

function fmtTime(s) {
  const m = Math.floor(s / 60), sec = s % 60;
  return `${m}:${sec.toString().padStart(2,'0')}`;
}

// ── SUMMARY ───────────────────────────────────────────────────
function showSummary() {
  if (elapsedInt) { clearInterval(elapsedInt); elapsedInt = null; }
  if (liveTimerInt) { clearInterval(liveTimerInt); liveTimerInt = null; }

  const { log, exercises } = currentSession;
  const totalSets    = log.length;
  const totalVolume  = log.reduce((a,e) => a + (e.weight * e.reps), 0);
  const totalReps    = log.reduce((a,e) => a + e.reps, 0);

  document.getElementById('summaryTimeText').textContent =
    `Durée : ${fmtTime(elapsedSec)} · ${new Date(currentSession.startTime).toLocaleDateString('fr-FR', {weekday:'long', day:'numeric', month:'long'})}`;

  document.getElementById('summaryStats').innerHTML = `
    <div class="summary-stat"><div class="summary-stat-val">${totalSets}</div><div class="summary-stat-lbl">Séries</div></div>
    <div class="summary-stat"><div class="summary-stat-val">${totalReps}</div><div class="summary-stat-lbl">Répétitions</div></div>
    <div class="summary-stat"><div class="summary-stat-val">${Math.round(totalVolume/1000*10)/10}t</div><div class="summary-stat-lbl">Volume</div></div>
  `;

  // Group by exercise
  const grouped = {};
  log.forEach(e => {
    if (!grouped[e.exName]) grouped[e.exName] = [];
    grouped[e.exName].push(e);
  });
  document.getElementById('summaryEntries').innerHTML = Object.entries(grouped).map(([name, sets]) => {
    const maxWeight = Math.max(...sets.map(s => s.weight || 0));
    const detail = sets.map(s => `${s.weight||0}kg×${s.reps}`).join(' / ');
    return `<div class="summary-entry">
      <div class="summary-entry-name">${name}</div>
      <div class="summary-entry-badge">${detail}</div>
    </div>`;
  }).join('');

  document.getElementById('live-summary').style.display = 'block';
  document.getElementById('live-active').style.display  = 'none';
}

// ── SAVE SESSION ──────────────────────────────────────────────
function saveSession() {
  const { progKey, dayKey, progName, dayLabel, log, startTime } = currentSession;
  const duration = elapsedSec;
  const history  = storageGet('history') || [];

  const entry = {
    id:        Date.now(),
    progKey, dayKey, progName, dayLabel,
    date:      new Date(startTime).toISOString(),
    duration,
    log,
    totalVolume: log.reduce((a,e) => a + (e.weight * e.reps), 0),
    totalSets:   log.length,
  };

  history.unshift(entry);
  storageSet('history', history);

  // Reset
  currentSession = null;
  document.getElementById('stab-live').style.display = 'none';
  switchSessionTab('history');
  renderHistory();
  sendNotif('💾 Séance sauvegardée !', `${progName} — ${dayLabel.split('—')[0].trim()}`);
  document.getElementById('session-mode-btn').classList.add('has-scheduled');
}

// ── HISTORIQUE ────────────────────────────────────────────────
function switchHistTab(tab) {
  ['sessions','progression','records'].forEach(t => {
    const btn = document.getElementById('hist-tab-' + t);
    const panel = document.getElementById('hist-panel-' + t);
    const isActive = t === tab;
    if (btn) {
      btn.style.background = isActive ? 'linear-gradient(135deg,var(--red),var(--orange))' : 'var(--dark2)';
      btn.style.color = isActive ? 'white' : 'var(--gray)';
    }
    if (panel) panel.style.display = isActive ? 'block' : 'none';
  });
  if (tab === 'progression') populateExerciseSelect();
  if (tab === 'records') renderRecords();
}

function populateExerciseSelect() {
  const history = storageGet('history') || [];
  const allEx = new Set();
  history.forEach(s => s.log.forEach(e => { if (e.weight > 0) allEx.add(e.exName); }));
  const sel = document.getElementById('progExSelect');
  sel.innerHTML = '<option value="">— Choisir un exercice —</option>';
  [...allEx].sort().forEach(name => {
    const opt = document.createElement('option'); opt.value = name; opt.textContent = name;
    sel.appendChild(opt);
  });
  if (allEx.size > 0) { sel.value = [...allEx][0]; renderProgression(); }
}

function renderProgression() {
  const exName = document.getElementById('progExSelect').value;
  const container = document.getElementById('progressionChart');
  if (!exName) { container.innerHTML = '<div style="color:var(--gray);text-align:center;padding:40px 0;font-size:0.85rem;">Sélectionne un exercice</div>'; return; }

  const history = storageGet('history') || [];
  const points = [];
  [...history].reverse().forEach(session => {
    const sets = session.log.filter(e => e.exName === exName && e.weight > 0);
    if (!sets.length) return;
    const best = Math.max(...sets.map(s => s.weight));
    const vol = sets.reduce((a,s) => a + s.weight * s.reps, 0);
    const d = new Date(session.date);
    points.push({ date: d, dateStr: d.toLocaleDateString('fr-FR',{day:'numeric',month:'short'}), best, vol: Math.round(vol), sets: sets.length });
  });

  if (!points.length) { container.innerHTML = '<div style="color:var(--gray);text-align:center;padding:40px 0;font-size:0.85rem;">Pas encore de données pour cet exercice</div>'; return; }

  const maxWeight = Math.max(...points.map(p => p.best));
  const minWeight = Math.min(...points.map(p => p.best));
  const range = maxWeight - minWeight || 1;

  const W = 400, H = 120;
  const padL = 40, padR = 16, padT = 16, padB = 32;
  const chartW = W - padL - padR, chartH = H - padT - padB;
  const step = points.length > 1 ? chartW / (points.length - 1) : chartW;

  const pts = points.map((p, i) => {
    const x = padL + (points.length > 1 ? i * step : chartW / 2);
    const y = padT + chartH - ((p.best - minWeight) / range) * chartH;
    return { x, y, ...p };
  });

  const polyline = pts.map(p => `${p.x},${p.y}`).join(' ');
  const area = `${pts[0].x},${padT + chartH} ${polyline} ${pts[pts.length-1].x},${padT + chartH}`;

  const latestPR = points[points.length - 1];
  const firstPR = points[0];
  const delta = latestPR.best - firstPR.best;
  const deltaStr = delta >= 0 ? `+${delta}kg` : `${delta}kg`;
  const deltaColor = delta >= 0 ? '#38ef7d' : 'var(--red)';

  container.innerHTML = `
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
      <div style="font-family:'Bebas Neue',sans-serif;font-size:1.1rem;letter-spacing:2px;">${exName}</div>
      <div style="display:flex;gap:16px;align-items:center;">
        <div style="text-align:center;">
          <div style="font-family:'Bebas Neue',sans-serif;font-size:1.4rem;color:var(--gold);">${maxWeight}kg</div>
          <div style="font-size:0.62rem;letter-spacing:2px;text-transform:uppercase;color:var(--gray);">Record</div>
        </div>
        <div style="text-align:center;">
          <div style="font-family:'Bebas Neue',sans-serif;font-size:1.4rem;color:${deltaColor};">${deltaStr}</div>
          <div style="font-size:0.62rem;letter-spacing:2px;text-transform:uppercase;color:var(--gray);">Évolution</div>
        </div>
        <div style="text-align:center;">
          <div style="font-family:'Bebas Neue',sans-serif;font-size:1.4rem;color:var(--orange);">${points.length}</div>
          <div style="font-size:0.62rem;letter-spacing:2px;text-transform:uppercase;color:var(--gray);">Séances</div>
        </div>
      </div>
    </div>
    <svg viewBox="0 0 ${W} ${H}" style="width:100%;height:auto;overflow:visible;">
      <defs>
        <linearGradient id="chartGrad" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#E63946" stop-opacity="0.4"/>
          <stop offset="100%" stop-color="#E63946" stop-opacity="0"/>
        </linearGradient>
      </defs>
      <!-- Y axis labels -->
      <text x="${padL - 6}" y="${padT + 4}" text-anchor="end" fill="#888899" font-size="9" font-family="Barlow Condensed">${maxWeight}</text>
      <text x="${padL - 6}" y="${padT + chartH + 4}" text-anchor="end" fill="#888899" font-size="9" font-family="Barlow Condensed">${minWeight}</text>
      <!-- Grid line -->
      <line x1="${padL}" y1="${padT}" x2="${padL + chartW}" y2="${padT}" stroke="rgba(255,255,255,0.05)" stroke-width="1"/>
      <line x1="${padL}" y1="${padT + chartH}" x2="${padL + chartW}" y2="${padT + chartH}" stroke="rgba(255,255,255,0.05)" stroke-width="1"/>
      <!-- Area -->
      <polygon points="${area}" fill="url(#chartGrad)"/>
      <!-- Line -->
      <polyline points="${polyline}" fill="none" stroke="var(--red)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <!-- Points -->
      ${pts.map((p,i) => `
        <circle cx="${p.x}" cy="${p.y}" r="3.5" fill="var(--red)" stroke="#0e0e14" stroke-width="2"/>
        ${i % Math.max(1,Math.floor(pts.length/4)) === 0 || i === pts.length-1 ? `<text x="${p.x}" y="${padT + chartH + 18}" text-anchor="middle" fill="#888899" font-size="8" font-family="Barlow Condensed">${p.dateStr}</text>` : ''}
        ${p.best === maxWeight ? `<text x="${p.x}" y="${p.y - 8}" text-anchor="middle" fill="var(--gold)" font-size="9" font-family="Barlow Condensed">${p.best}kg</text>` : ''}
      `).join('')}
    </svg>
    <div style="margin-top:10px;display:flex;flex-direction:column;gap:4px;max-height:120px;overflow-y:auto;">
      ${[...points].reverse().map(p => `
        <div style="display:flex;justify-content:space-between;align-items:center;padding:5px 8px;background:rgba(255,255,255,0.02);border-radius:6px;font-size:0.78rem;">
          <span style="color:var(--gray);font-family:'Barlow Condensed';">${p.dateStr}</span>
          <span style="color:var(--light);font-family:'Bebas Neue';letter-spacing:1px;">${p.best}kg</span>
          <span style="color:var(--gray);">${p.sets} séries · vol ${p.vol}kg</span>
        </div>
      `).join('')}
    </div>
  `;
}

function renderRecords() {
  const history = storageGet('history') || [];
  const container = document.getElementById('recordsList');
  const records = {}; // exName -> { weight, reps, date }

  history.forEach(session => {
    session.log.forEach(e => {
      if (!e.weight) return;
      if (!records[e.exName] || e.weight > records[e.exName].weight) {
        records[e.exName] = { weight: e.weight, reps: e.reps, date: session.date, progName: session.progName };
      }
    });
  });

  if (!Object.keys(records).length) {
    container.innerHTML = '<div style="color:var(--gray);text-align:center;padding:40px 0;font-size:0.85rem;">Complète des séances pour voir tes records !</div>';
    return;
  }

  const sorted = Object.entries(records).sort((a,b) => b[1].weight - a[1].weight);
  container.innerHTML = sorted.map(([name, r], i) => {
    const d = new Date(r.date);
    const dateStr = d.toLocaleDateString('fr-FR', { day:'numeric', month:'short', year:'numeric' });
    const medal = i === 0 ? '🥇' : i === 1 ? '🥈' : i === 2 ? '🥉' : '🏆';
    return `<div style="display:flex;align-items:center;gap:12px;background:var(--dark3);border:1px solid rgba(255,255,255,0.07);border-radius:10px;padding:12px 16px;margin-bottom:8px;transition:border-color 0.2s;" onmouseover="this.style.borderColor='rgba(255,183,3,0.3)'" onmouseout="this.style.borderColor='rgba(255,255,255,0.07)'">
      <div style="font-size:1.4rem;flex-shrink:0;">${medal}</div>
      <div style="flex:1;min-width:0;">
        <div style="font-family:'Barlow Condensed';font-size:0.9rem;letter-spacing:1px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${name}</div>
        <div style="font-size:0.72rem;color:var(--gray);margin-top:2px;">${dateStr} · ${r.progName}</div>
      </div>
      <div style="text-align:right;flex-shrink:0;">
        <div style="font-family:'Bebas Neue';font-size:1.5rem;color:var(--gold);letter-spacing:1px;">${r.weight}kg</div>
        <div style="font-size:0.68rem;color:var(--gray);">× ${r.reps} reps</div>
      </div>
    </div>`;
  }).join('');
}

function renderHistory() {
  const history = storageGet('history') || [];
  const container = document.getElementById('historyItems');

  // Global stats
  const totalVolume = history.reduce((a,s) => a + s.totalVolume, 0);
  const totalPRs = history.reduce((a,s) => a + s.log.filter(e => e.isPR).length, 0);
  document.getElementById('gstatSessions').textContent  = history.length;
  document.getElementById('gstatVolume').textContent    = (Math.round(totalVolume/1000*10)/10) + 't';
  document.getElementById('gstatStreak').textContent    = calcStreak(history);
  document.getElementById('gstatPRs').textContent       = totalPRs;

  if (!history.length) {
    container.innerHTML = '<div class="history-empty">Aucune séance enregistrée.<br>Lance ta première séance et sauvegarde-la !</div>';
    return;
  }

  container.innerHTML = history.map((s, i) => {
    const d = new Date(s.date);
    const dateStr = d.toLocaleDateString('fr-FR', { weekday:'long', day:'numeric', month:'long', year:'numeric' });
    const timeStr = d.toLocaleTimeString('fr-FR', { hour:'2-digit', minute:'2-digit' });
    const grouped = {};
    s.log.forEach(e => { if (!grouped[e.exName]) grouped[e.exName] = []; grouped[e.exName].push(e); });
    const prCount = s.log.filter(e => e.isPR).length;
    return `<div class="history-session" id="hs-${s.id}">
      <div class="history-session-header" onclick="toggleHistory('${s.id}')">
        <div class="history-date-block">
          <div class="history-date">${dateStr} · ${timeStr}</div>
          <div class="history-prog-name">${s.dayLabel?.split('—')[0]?.trim() || s.progName}</div>
        </div>
        <div class="history-badges">
          <div class="history-badge">${fmtTime(s.duration||0)}</div>
          <div class="history-badge green">${s.totalSets} séries</div>
          ${prCount > 0 ? `<div class="history-badge" style="background:rgba(255,183,3,0.15);color:var(--gold);">🏆 ${prCount} PR</div>` : ''}
        </div>
      </div>
      <div class="history-session-body">
        ${Object.entries(grouped).map(([name, sets]) => {
          const maxW = Math.max(...sets.map(s => s.weight || 0));
          const hasPR = sets.some(s => s.isPR);
          return `<div class="history-ex-row">
            <div class="history-ex-name">${name}${hasPR ? ' <span style="color:var(--gold);font-size:0.7rem;">🏆PR</span>' : ''}</div>
            <div class="history-ex-detail">${sets.map(s=>`${s.weight||0}kg×${s.reps}`).join(' / ')}</div>
          </div>`;
        }).join('')}
        <button class="history-delete-btn" onclick="deleteSession(${s.id})">🗑 Supprimer cette séance</button>
      </div>
    </div>`;
  }).join('');
}

function toggleHistory(id) {
  const el = document.getElementById('hs-' + id);
  if (el) el.classList.toggle('open');
}

function deleteSession(id) {
  if (!confirm('Supprimer cette séance ?')) return;
  const history = (storageGet('history') || []).filter(s => s.id !== id);
  storageSet('history', history);
  renderHistory();
}

function calcStreak(history) {
  if (!history.length) return 0;
  let streak = 0, today = new Date(); today.setHours(0,0,0,0);
  const days = [...new Set(history.map(s => {
    const d = new Date(s.date); d.setHours(0,0,0,0); return d.getTime();
  }))].sort((a,b) => b-a);
  for (let i = 0; i < days.length; i++) {
    const expected = new Date(today - i * 86400000).getTime();
    if (Math.abs(days[i] - expected) > 86400000) break;
    streak++;
  }
  return streak;
}

// ── PLANIFICATION ─────────────────────────────────────────────
let scheduleCheckInt = null;

function updateSchProgDays() {
  const key = document.getElementById('schProg')?.value;
  if (!key) return;
  const select = document.getElementById('schDay');
  if (!select) return;
  const prog = PROGRAMS[key];
  select.innerHTML = Object.entries(prog.days).map(([dk, d]) =>
    `<option value="${dk}">${d.label}</option>`
  ).join('');
}

document.addEventListener('DOMContentLoaded', () => {
  // Set default date to today
  const dateInput = document.getElementById('schDate');
  if (dateInput) dateInput.value = new Date().toISOString().split('T')[0];

  // Prog select change
  document.getElementById('schProg')?.addEventListener('change', () => {
    updateSchProgDays();
  });
  updateSchProgDays();

  // Start schedule checker
  scheduleCheckInt = setInterval(checkScheduledSessions, 30000);
  checkScheduledSessions();
});

function addSchedule() {
  const progKey  = document.getElementById('schProg').value;
  const dayKey   = document.getElementById('schDay').value;
  const date     = document.getElementById('schDate').value;
  const time     = document.getElementById('schTime').value;
  const location = document.getElementById('schLocation').value.trim();
  const reminder = parseInt(document.getElementById('schReminder').value);

  if (!date || !time) { alert('Remplis la date et l\'heure !'); return; }

  const schedules = storageGet('schedules') || [];
  const id = Date.now();
  schedules.push({
    id, progKey, dayKey,
    progName: PROGRAMS[progKey].name,
    dayLabel: PROGRAMS[progKey].days[dayKey].label,
    datetime: new Date(date + 'T' + time).getTime(),
    location, reminder,
    notified: false
  });
  storageSet('schedules', schedules);
  updateScheduleUI();
  document.getElementById('session-mode-btn').classList.add('has-scheduled');

  // Try to schedule browser notification
  scheduleNotification(schedules[schedules.length-1]);
}

function scheduleNotification(item) {
  if (!('Notification' in window) || Notification.permission !== 'granted') return;
  const msUntilReminder = item.datetime - Date.now() - (item.reminder * 60 * 1000);
  if (msUntilReminder > 0) {
    const title = `⏰ Séance dans ${item.reminder} min !`;
    const body = `${item.progName} — ${item.dayLabel?.split('—')[0]?.trim() || ''}${item.location ? ' · ' + item.location : ''}`;
    scheduleViaSW(title, body, msUntilReminder, 'schedule-' + item.id);
  }
}

function checkScheduledSessions() {
  const schedules = storageGet('schedules') || [];
  const now = Date.now();
  schedules.forEach(item => {
    const diff = item.datetime - now;
    if (!item.notified && diff > 0 && diff <= item.reminder * 60 * 1000) {
      sendNotif(
        `⏰ Séance dans ${Math.round(diff/60000)} min !`,
        `${item.progName} — ${item.dayLabel.split('—')[0].trim()}${item.location ? ' · ' + item.location : ''}`
      );
      item.notified = true;
    }
  });
  storageSet('schedules', schedules);
  updateScheduleUI();
}

function updateScheduleUI() {
  const schedules = (storageGet('schedules') || []).filter(s => s.datetime > Date.now() - 3600000);
  storageSet('schedules', schedules);
  const container = document.getElementById('scheduleItems');
  if (!container) return;

  if (!schedules.length) {
    container.innerHTML = '<div style="color:var(--gray);font-size:0.85rem;padding:20px 0;text-align:center;">Aucune séance planifiée</div>';
    document.getElementById('session-mode-btn')?.classList.remove('has-scheduled');
    return;
  }

  const now = Date.now();
  container.innerHTML = schedules.sort((a,b)=>a.datetime-b.datetime).map(item => {
    const diff = item.datetime - now;
    const diffMin = Math.round(diff / 60000);
    const diffH = Math.floor(diffMin / 60);
    const d = new Date(item.datetime);
    const dateStr = d.toLocaleDateString('fr-FR', { weekday:'short', day:'numeric', month:'short' });
    const timeStr = d.toLocaleTimeString('fr-FR', { hour:'2-digit', minute:'2-digit' });
    const isSoon = diff < 30 * 60 * 1000 && diff > 0;
    let countdown = diff < 0 ? 'En cours' : diffH > 0 ? `Dans ${diffH}h${diffMin%60 > 0 ? diffMin%60 + 'min' : ''}` : `Dans ${diffMin} min`;

    return `<div class="sch-item">
      <div class="sch-item-icon">📅</div>
      <div class="sch-item-info">
        <div class="sch-item-prog">${item.dayLabel.split('—')[0].trim()}</div>
        <div class="sch-item-time">${dateStr} à ${timeStr}${item.location ? ' · ' + item.location : ''}</div>
      </div>
      <div class="sch-item-countdown ${isSoon ? 'soon' : ''}">${countdown}</div>
      <button class="sch-item-del" onclick="deleteSchedule(${item.id})" aria-label="Supprimer">✕</button>
    </div>`;
  }).join('');
}

function deleteSchedule(id) {
  const schedules = (storageGet('schedules') || []).filter(s => s.id !== id);
  storageSet('schedules', schedules);
  updateScheduleUI();
}

// ── NOTIFICATIONS ─────────────────────────────────────────────
function checkNotifBanner() {
  const banner = document.getElementById('notifBanner');
  if (!banner) return;
  if (!('Notification' in window)) { banner.style.display = 'none'; return; }
  banner.style.display = Notification.permission === 'default' ? 'flex' : 'none';
}

function requestNotifPermission() {
  requestNotifPermissionFull();
}

function sendNotif(title, body, tag) {
  if (!('Notification' in window) || Notification.permission !== 'granted') return;
  try {
    new Notification(title, {
      body, tag: tag || 'ironforge-' + Date.now(),
      icon: '/ironforge/icon-192.png',
      badge: '/ironforge/icon-192.png',
      vibrate: [200, 100, 200],
    });
  } catch(e) {}
}

// ── REST TIMER (standalone overlay) ──────────────────────────
let timerInterval = null;
let timerTotal    = 180;
let timerRemaining = 180;
let timerRunning   = false;
const circumference = 2 * Math.PI * 35;

function openTimer(seconds) {
  setTimer(seconds || 180);
  document.getElementById('rest-timer-overlay').classList.add('active');
  startTimer();
}
function closeTimer() { document.getElementById('rest-timer-overlay').classList.remove('active'); resetTimer(); }
function setTimer(seconds) {
  timerTotal = seconds; timerRemaining = seconds; timerRunning = false;
  if (timerInterval) { clearInterval(timerInterval); timerInterval = null; }
  updateTimerDisplay();
  document.getElementById('timerStartBtn').textContent = 'Démarrer';
}
function startTimer() {
  if (timerRunning) return;
  timerRunning = true;
  document.getElementById('timerStartBtn').textContent = 'Pause';
  timerInterval = setInterval(() => {
    timerRemaining--;
    updateTimerDisplay();
    if (timerRemaining <= 0) {
      clearInterval(timerInterval); timerInterval = null; timerRunning = false;
      document.getElementById('timerStartBtn').textContent = 'Terminé ✓';
      document.getElementById('timerDisplay').style.color = '#38ef7d';
      if (navigator.vibrate) navigator.vibrate([200,100,200]);
      sendNotif('⏰ Repos terminé !', 'C\'est reparti !');
    }
  }, 1000);
}
function toggleTimer() {
  if (timerRemaining <= 0) { setTimer(timerTotal); return; }
  if (timerRunning) { clearInterval(timerInterval); timerInterval = null; timerRunning = false; document.getElementById('timerStartBtn').textContent = 'Reprendre'; }
  else startTimer();
}
function resetTimer() {
  if (timerInterval) { clearInterval(timerInterval); timerInterval = null; }
  timerRunning = false; timerRemaining = timerTotal;
  updateTimerDisplay();
  document.getElementById('timerStartBtn').textContent = 'Démarrer';
  const d = document.getElementById('timerDisplay');
  if (d) d.style.removeProperty('color');
}
function updateTimerDisplay() {
  const m = Math.floor(timerRemaining/60), s = timerRemaining%60;
  const disp = document.getElementById('timerDisplay');
  const ring = document.getElementById('timerRingFill');
  if (!disp || !ring) return;
  disp.textContent = `${m}:${s.toString().padStart(2,'0')}`;
  const prog = timerRemaining / timerTotal;
  ring.style.strokeDashoffset = circumference * (1 - prog);
  ring.setAttribute('stroke-dasharray', circumference);
}

// ── WORKOUT TRACKER (section page) ────────────────────────────
let workoutLog = [];
function addTrackerEntry() {
  const exercise = document.getElementById('trackExercise').value;
  const weight   = parseFloat(document.getElementById('trackWeight').value) || 0;
  const reps     = parseInt(document.getElementById('trackReps').value) || 0;
  const sets     = parseInt(document.getElementById('trackSets').value) || 1;
  if (!reps) { alert('Entre au moins le nombre de reps !'); return; }
  workoutLog.push({ exercise, weight, reps, sets, time: new Date().toLocaleTimeString('fr-FR',{hour:'2-digit',minute:'2-digit'}) });
  renderTracker();
  document.getElementById('trackWeight').value = '';
  document.getElementById('trackReps').value = '';
}
function renderTracker() {
  const container = document.getElementById('trackerEntries');
  const statsDiv  = document.getElementById('trackerStats');
  const clearBtn  = document.getElementById('trackerClearBtn');
  if (workoutLog.length === 0) {
    container.innerHTML = '<div class="tracker-empty">Aucune série enregistrée.<br>Commence ta séance !</div>';
    statsDiv.style.display = 'none'; clearBtn.style.display = 'none'; return;
  }
  statsDiv.style.display = 'grid'; clearBtn.style.display = 'block';
  const totalSets = workoutLog.reduce((a,e)=>a+e.sets,0);
  const totalVol  = workoutLog.reduce((a,e)=>a+(e.weight*e.reps*e.sets),0);
  const uniqueEx  = new Set(workoutLog.map(e=>e.exercise)).size;
  document.getElementById('statExercises').textContent = uniqueEx;
  document.getElementById('statSeries').textContent    = totalSets;
  document.getElementById('statVolume').textContent    = Math.round(totalVol).toLocaleString('fr-FR');
  container.innerHTML = workoutLog.map((e,i) => `
    <div class="tracker-entry">
      <div class="tracker-ex-name">${e.exercise}</div>
      <div class="tracker-badge">${e.sets}×${e.reps}${e.weight ? ' · ' + e.weight + 'kg' : ''}</div>
      <span style="color:var(--gray);font-size:0.72rem;font-family:'Barlow Condensed',sans-serif;">${e.time}</span>
      <button class="tracker-delete" onclick="deleteTrackerEntry(${i})" aria-label="Supprimer">✕</button>
    </div>`).join('');
}
function deleteTrackerEntry(index) { workoutLog.splice(index,1); renderTracker(); }
function clearTracker() { if(confirm('Effacer toute la séance ?')){ workoutLog=[]; renderTracker(); } }

// ── CALCUL EXPORT ──────────────────────────────────────────────
function copyCalcResults() {
  const cals  = document.getElementById('resultCalories')?.textContent || '';
  const prot  = document.getElementById('macroProt')?.textContent || '';
  const carb  = document.getElementById('macroCarb')?.textContent || '';
  const fat   = document.getElementById('macroFat')?.textContent || '';
  const note  = document.getElementById('resultNote')?.textContent || '';
  const text  = `🔥 IRONFORGE — Mes besoins caloriques\n━━━━━━━━━━━━━━━━━━━━━━━━\nCalories totales : ${cals} kcal/jour\nProtéines : ${prot}\nGlucides : ${carb}\nLipides : ${fat}\n━━━━━━━━━━━━━━━━━━━━━━━━\n${note}`;
  navigator.clipboard.writeText(text).then(() => {
    const btn = document.getElementById('calcCopyBtn');
    if(btn){ btn.textContent='✅ Copié !'; setTimeout(()=>{ btn.textContent='📋 Copier mes résultats'; },2000); }
  }).catch(() => alert('Copiez manuellement :\n\n' + text));
}

// ── FAQ ────────────────────────────────────────────────────────
function toggleFaq(questionEl) {
  const item = questionEl.closest('.faq-item');
  const isOpen = item.classList.contains('open');
  document.querySelectorAll('.faq-item.open').forEach(el => { el.classList.remove('open'); el.querySelector('.faq-question').setAttribute('aria-expanded','false'); });
  if (!isOpen) { item.classList.add('open'); questionEl.setAttribute('aria-expanded','true'); }
}
</script>
<!-- CUSTOM PROGRAM BUILDER MODAL -->
<div id="custom-prog-overlay">
  <div class="cpb-shell">
    <div class="cpb-header">
      <div class="cpb-title">✏️ Créer mon programme</div>
      <button class="cpb-close" onclick="closeCustomProgramBuilder()">✕</button>
    </div>
    <div class="cpb-body">
      <!-- Saved programs list -->
      <div class="cpb-saved-section" id="cpbSavedSection" style="display:none;">
        <div class="cpb-saved-title">Mes programmes enregistrés</div>
        <div id="cpbSavedList"></div>
        <div style="height:1px;background:rgba(255,255,255,0.06);margin:16px 0;"></div>
      </div>

      <!-- New program form -->
      <input type="text" class="cpb-prog-name-input" id="cpbProgName" placeholder="Nom du programme (ex: Mon PPL Perso)">

      <div class="cpb-days-list" id="cpbDaysList"></div>

      <button class="cpb-add-day-btn" onclick="cpbAddDay()">
        + Ajouter un jour
      </button>
    </div>
    <div class="cpb-footer">
      <button class="cpb-cancel-btn" onclick="closeCustomProgramBuilder()">Annuler</button>
      <button class="cpb-save-btn" onclick="cpbSaveProgram()">💾 ENREGISTRER & UTILISER</button>
    </div>
  </div>
</div>

<script>
// ══════════════════════════════════════════════════════════
//  CUSTOM PROGRAM BUILDER
// ══════════════════════════════════════════════════════════

// ── SCHEDULE TAB SWITCHER ─────────────────────────────────
function switchSchTab(tab) {
  const isOnce = tab === 'once';
  document.getElementById('sch-tab-once').style.background = isOnce ? 'linear-gradient(135deg,var(--red),var(--orange))' : 'var(--dark2)';
  document.getElementById('sch-tab-once').style.color = isOnce ? 'white' : 'var(--gray)';
  document.getElementById('sch-tab-daily').style.background = !isOnce ? 'linear-gradient(135deg,var(--gold),var(--orange))' : 'var(--dark2)';
  document.getElementById('sch-tab-daily').style.color = !isOnce ? '#0a0a0c' : 'var(--gray)';
  document.getElementById('sch-panel-once').style.display = isOnce ? 'block' : 'none';
  document.getElementById('sch-panel-daily').style.display = !isOnce ? 'block' : 'none';
  document.getElementById('oncScheduleList').style.display = isOnce ? 'block' : 'none';
  if (!isOnce) renderDailyReminderDays();
}

// ── DAILY REMINDERS ───────────────────────────────────────
const DAYS_FR = ['Lun','Mar','Mer','Jeu','Ven','Sam','Dim'];
const DAYS_FULL = ['Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi','Dimanche'];

function renderDailyReminderDays() {
  const grid = document.getElementById('dailyDaysGrid');
  if (!grid) return;
  const saved = storageGet('dailyRemindersDays') || [1,2,3,4,5]; // Mon-Fri default
  grid.innerHTML = DAYS_FR.map((d,i) => {
    const active = saved.includes(i);
    return `<div onclick="toggleDailyDay(this,${i})" data-day="${i}" style="
      padding:8px 14px; border-radius:8px; cursor:pointer; font-family:'Barlow Condensed',sans-serif;
      font-size:0.82rem; letter-spacing:2px; text-transform:uppercase; user-select:none;
      transition:all 0.2s; border:1px solid ${active?'rgba(255,183,3,0.5)':'rgba(255,255,255,0.1)'};
      background:${active?'rgba(255,183,3,0.15)':'rgba(255,255,255,0.03)'};
      color:${active?'var(--gold)':'var(--gray)'};
    ">${d}</div>`;
  }).join('');
}

function toggleDailyDay(el, i) {
  const saved = storageGet('dailyRemindersDays') || [1,2,3,4,5];
  const idx = saved.indexOf(i);
  if (idx !== -1) saved.splice(idx,1); else saved.push(i);
  storageSet('dailyRemindersDays', saved);
  renderDailyReminderDays();
}

function updateDailyProgDays() {
  // When custom prog is selected, update the name in daily list too
}

function saveDailyReminders() {
  if (!('Notification' in window)) { alert('Notifications non supportées sur ce navigateur.'); return; }
  const days = storageGet('dailyRemindersDays') || [1,2,3,4,5];
  if (!days.length) { alert('Sélectionne au moins un jour !'); return; }

  const progKey = document.getElementById('dailyProg').value;
  const time = document.getElementById('dailyTime').value || '18:00';
  const reminderMin = parseInt(document.getElementById('dailyReminder').value) || 30;
  const progName = PROGRAMS[progKey]?.name || progKey;

  const reminder = {
    id: 'daily_' + Date.now(),
    progKey, progName, time, reminderMin, days,
    createdAt: Date.now()
  };

  // Save
  const reminders = storageGet('dailyReminders') || [];
  reminders.push(reminder);
  storageSet('dailyReminders', reminders);

  // Request permission & schedule
  if (Notification.permission === 'default') {
    Notification.requestPermission().then(perm => {
      if (perm === 'granted') {
        scheduleDailyNotifs(reminder);
        renderDailyRemindersItems();
        sendNotif('🔔 Rappels activés !', `Chaque ${days.map(d=>DAYS_FR[d]).join(', ')} à ${time} — ${progName}`);
      }
    });
  } else if (Notification.permission === 'granted') {
    scheduleDailyNotifs(reminder);
    renderDailyRemindersItems();
    // Re-sync l'abonnement push avec les nouveaux rappels
    if (pushSubscription) saveSubscriptionToGitHub(pushSubscription);
    sendNotif('🔔 Rappels activés !', `Chaque ${days.map(d=>DAYS_FR[d]).join(', ')} à ${time} — ${progName}`);
  } else {
    alert('Les notifications sont bloquées. Autorise-les dans les paramètres de ton navigateur.');
  }
}

function scheduleDailyNotifs(reminder) {
  const [h, m] = reminder.time.split(':').map(Number);
  const reminderMs = reminder.reminderMin * 60 * 1000;
  const now = new Date();

  for (let day = 0; day <= 30; day++) {
    const target = new Date(now);
    target.setDate(now.getDate() + day);
    target.setHours(h, m, 0, 0);
    const notifTime = target.getTime() - reminderMs;
    const delay = notifTime - Date.now();
    const dowJs = target.getDay();
    const dowIron = dowJs === 0 ? 6 : dowJs - 1;

    if (delay > 0 && reminder.days.includes(dowIron)) {
      const tag = 'daily-' + reminder.id + '-' + day;
      const title = `⚡ Séance dans ${reminder.reminderMin} min !`;
      const body = `${reminder.progName} — Il est l'heure de s'échauffer !`;
      // Via SW → fonctionne même app en arrière-plan (PWA installée)
      scheduleViaSW(title, body, delay, tag);
    }
  }
}

function renderDailyRemindersItems() {
  const reminders = storageGet('dailyReminders') || [];
  const el = document.getElementById('dailyRemindersItems');
  if (!el) return;
  if (!reminders.length) {
    el.innerHTML = '<div style="color:var(--gray);font-size:0.82rem;text-align:center;padding:16px 0;">Aucun rappel actif</div>';
    return;
  }
  el.innerHTML = reminders.map(r => `
    <div class="sch-item">
      <div class="sch-item-icon">🔔</div>
      <div class="sch-item-info">
        <div class="sch-item-prog">${r.progName}</div>
        <div class="sch-item-time">${r.days.map(d=>DAYS_FR[d]).join(', ')} · ${r.time} · −${r.reminderMin}min</div>
      </div>
      <div class="sch-item-countdown" style="background:rgba(255,183,3,0.1);color:var(--gold);">Actif</div>
      <button class="sch-item-del" onclick="deleteDailyReminder('${r.id}')">✕</button>
    </div>
  `).join('');
}

function deleteDailyReminder(id) {
  let reminders = storageGet('dailyReminders') || [];
  reminders = reminders.filter(r => r.id !== id);
  storageSet('dailyReminders', reminders);
  renderDailyRemindersItems();
}

// Boot: reschedule all daily reminders on page load
(function bootDailyReminders() {
  if (Notification.permission !== 'granted') return;
  const reminders = storageGet('dailyReminders') || [];
  reminders.forEach(scheduleDailyNotifs);
})();

// Inject custom programs into schedule prog select when session opens
function injectCustomProgsInSchedule() {
  const customProgs = storageGet('customPrograms') || [];
  ['schProg','dailyProg'].forEach(selId => {
    const sel = document.getElementById(selId);
    if (!sel) return;
    // Remove old custom options
    [...sel.options].forEach(o => { if (o.dataset.custom) o.remove(); });
    customProgs.forEach(p => {
      const opt = document.createElement('option');
      opt.value = p.id; opt.textContent = '✏️ ' + p.name; opt.dataset.custom = '1';
      sel.appendChild(opt);
    });
  });
}

let cpbDayCount = 0;
let editingCustomProgId = null;

function openCustomProgramBuilder() {
  // Deselect other prog cards
  document.querySelectorAll('.prog-card').forEach(c => c.classList.remove('selected'));
  document.querySelector('.prog-card-custom')?.classList.add('selected');
  cpbDayCount = 0;
  editingCustomProgId = null;
  document.getElementById('cpbProgName').value = '';
  document.getElementById('cpbDaysList').innerHTML = '';
  cpbRenderSavedPrograms();
  // Add 1 day by default
  cpbAddDay();
  document.getElementById('custom-prog-overlay').classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeCustomProgramBuilder() {
  document.getElementById('custom-prog-overlay').classList.remove('active');
  document.body.style.overflow = 'hidden'; // session overlay still open
}

function cpbAddDay(name) {
  cpbDayCount++;
  const dayId = 'cpb-day-' + cpbDayCount;
  const el = document.createElement('div');
  el.className = 'cpb-day open';
  el.id = dayId;
  el.dataset.dayId = cpbDayCount;
  el.innerHTML = `
    <div class="cpb-day-header">
      <span style="font-family:'Bebas Neue',sans-serif;font-size:1rem;color:var(--gold);letter-spacing:2px;flex-shrink:0;">${cpbDayCount}</span>
      <input class="cpb-day-name-input" type="text" value="${name||''}" placeholder="Nom du jour (ex: PUSH · Pecs / Épaules)">
      <button class="cpb-day-remove" onclick="document.getElementById('${dayId}').remove()" title="Supprimer">✕</button>
      <button class="cpb-day-toggle" onclick="this.closest('.cpb-day').classList.toggle('open')">▼</button>
    </div>
    <div class="cpb-day-body">
      <div class="cpb-ex-labels">
        <span class="cpb-ex-label">Exercice</span>
        <span class="cpb-ex-label">Séries</span>
        <span class="cpb-ex-label">Reps</span>
        <span class="cpb-ex-label">Repos (sec)</span>
        <span class="cpb-ex-label"></span>
      </div>
      <div class="cpb-exercises-list" id="${dayId}-exlist"></div>
      <button class="cpb-add-ex-btn" onclick="cpbAddExercise('${dayId}-exlist')">+ Exercice</button>
    </div>
  `;
  document.getElementById('cpbDaysList').appendChild(el);
  // Add 1 default exercise
  cpbAddExercise(dayId + '-exlist');
}

function cpbAddExercise(listId, exData) {
  const exId = 'cpbex-' + Date.now() + '-' + Math.random().toString(36).substr(2,5);
  const el = document.createElement('div');
  el.className = 'cpb-ex';
  el.id = exId;
  el.innerHTML = `
    <input class="cpb-ex-input" type="text" placeholder="Nom de l'exercice" value="${exData?.name||''}">
    <input class="cpb-ex-input" type="number" placeholder="Séries" min="1" max="20" value="${exData?.sets||''}">
    <input class="cpb-ex-input" type="text" placeholder="Reps" value="${exData?.reps||''}">
    <input class="cpb-ex-input" type="number" placeholder="Repos(s)" min="0" max="600" value="${exData?.restSec||''}">
    <button class="cpb-ex-del" onclick="document.getElementById('${exId}').remove()" title="Supprimer">✕</button>
  `;
  document.getElementById(listId).appendChild(el);
}

function cpbSaveProgram() {
  const name = document.getElementById('cpbProgName').value.trim();
  if (!name) {
    document.getElementById('cpbProgName').focus();
    document.getElementById('cpbProgName').style.borderColor = 'var(--red)';
    setTimeout(() => document.getElementById('cpbProgName').style.borderColor = '', 2000);
    return;
  }

  const days = {};
  let dayIndex = 0;
  const dayEls = document.getElementById('cpbDaysList').querySelectorAll('.cpb-day');
  let valid = true;

  dayEls.forEach(dayEl => {
    const dayName = dayEl.querySelector('.cpb-day-name-input')?.value.trim() || ('JOUR ' + (dayIndex+1));
    const exEls = dayEl.querySelectorAll('.cpb-ex');
    const exercises = [];

    exEls.forEach(exEl => {
      const inputs = exEl.querySelectorAll('.cpb-ex-input');
      const exName = inputs[0]?.value.trim();
      if (!exName) return;
      const sets = parseInt(inputs[1]?.value) || 3;
      const reps = inputs[2]?.value.trim() || '10';
      const restSec = parseInt(inputs[3]?.value) || 90;
      exercises.push({ name: exName, sets, reps, restSec, muscle: 'Exercice', id: 'custom-' + Date.now() });
    });

    if (exercises.length === 0) return;
    const dayKey = 'day' + (dayIndex + 1);
    days[dayKey] = {
      label: dayName,
      muscle: dayName.split('·')[0].trim() || dayName,
      exercises
    };
    dayIndex++;
  });

  if (Object.keys(days).length === 0) {
    alert('Ajoute au moins un exercice !');
    return;
  }

  // Save to localStorage
  const customProgs = storageGet('customPrograms') || [];
  const id = editingCustomProgId || ('custom_' + Date.now());

  if (editingCustomProgId) {
    const idx = customProgs.findIndex(p => p.id === editingCustomProgId);
    if (idx !== -1) customProgs[idx] = { id, name, days };
    else customProgs.push({ id, name, days });
  } else {
    customProgs.push({ id, name, days });
  }
  storageSet('customPrograms', customProgs);

  // Add to PROGRAMS dynamically and select it
  PROGRAMS[id] = { name, days };
  injectCustomProgsInSchedule();
  closeCustomProgramBuilder();

  // Auto-select this custom program
  currentProgKey = id;
  currentDayKey = null;
  document.querySelectorAll('.prog-card').forEach(c => c.classList.remove('selected'));

  // Show day picker
  const prog = PROGRAMS[id];
  const wrap = document.getElementById('dayPickerWrap');
  const opts = document.getElementById('dayPickerOptions');
  wrap.style.display = 'block';
  opts.innerHTML = Object.entries(prog.days).map(([dk, d]) => `
    <div class="day-chip" onclick="selectDay('${dk}',this)">${d.muscle}<br><small style="font-size:0.65rem;opacity:.7;">${d.label.split('—')[0].trim()}</small></div>
  `).join('');
  document.getElementById('sessionLaunchBtn').disabled = true;
}

function cpbRenderSavedPrograms() {
  const customProgs = storageGet('customPrograms') || [];
  const section = document.getElementById('cpbSavedSection');
  const list = document.getElementById('cpbSavedList');

  // Also make sure all saved programs are loaded into PROGRAMS
  customProgs.forEach(p => { PROGRAMS[p.id] = { name: p.name, days: p.days }; });

  if (!customProgs.length) { section.style.display = 'none'; return; }
  section.style.display = 'block';
  list.innerHTML = customProgs.map(p => {
    const dayCount = Object.keys(p.days).length;
    const exCount = Object.values(p.days).reduce((a,d) => a + d.exercises.length, 0);
    return `<div class="cpb-saved-item">
      <div style="flex:1;">
        <div class="cpb-saved-item-name">${p.name}</div>
        <div class="cpb-saved-item-meta">${dayCount} jour${dayCount>1?'s':''} · ${exCount} exercice${exCount>1?'s':''}</div>
      </div>
      <button class="cpb-saved-item-edit" onclick="cpbEditProgram('${p.id}')">Modifier</button>
      <button class="cpb-saved-item-use" onclick="cpbUseProgram('${p.id}')">▶ Utiliser</button>
      <button class="cpb-saved-item-del" onclick="cpbDeleteProgram('${p.id}')">✕</button>
    </div>`;
  }).join('');
}

function cpbUseProgram(id) {
  const customProgs = storageGet('customPrograms') || [];
  const prog = customProgs.find(p => p.id === id);
  if (!prog) return;
  PROGRAMS[id] = { name: prog.name, days: prog.days };
  closeCustomProgramBuilder();
  // Définir comme programme actif et afficher la carte du jour
  storageSet('activeProgram', id);
  currentProgKey = id;
  currentDayKey = null;
  document.querySelectorAll('.prog-card').forEach(c => c.classList.remove('selected'));
  renderTodayCard();
}

function cpbEditProgram(id) {
  const customProgs = storageGet('customPrograms') || [];
  const prog = customProgs.find(p => p.id === id);
  if (!prog) return;
  editingCustomProgId = id;
  cpbDayCount = 0;
  document.getElementById('cpbProgName').value = prog.name;
  document.getElementById('cpbDaysList').innerHTML = '';

  Object.values(prog.days).forEach(day => {
    cpbDayCount++;
    const dayId = 'cpb-day-' + cpbDayCount;
    const el = document.createElement('div');
    el.className = 'cpb-day open';
    el.id = dayId;
    el.dataset.dayId = cpbDayCount;
    el.innerHTML = `
      <div class="cpb-day-header">
        <span style="font-family:'Bebas Neue',sans-serif;font-size:1rem;color:var(--gold);letter-spacing:2px;flex-shrink:0;">${cpbDayCount}</span>
        <input class="cpb-day-name-input" type="text" value="${day.label||''}" placeholder="Nom du jour">
        <button class="cpb-day-remove" onclick="document.getElementById('${dayId}').remove()" title="Supprimer">✕</button>
        <button class="cpb-day-toggle" onclick="this.closest('.cpb-day').classList.toggle('open')">▼</button>
      </div>
      <div class="cpb-day-body">
        <div class="cpb-ex-labels">
          <span class="cpb-ex-label">Exercice</span>
          <span class="cpb-ex-label">Séries</span>
          <span class="cpb-ex-label">Reps</span>
          <span class="cpb-ex-label">Repos (sec)</span>
          <span class="cpb-ex-label"></span>
        </div>
        <div class="cpb-exercises-list" id="${dayId}-exlist"></div>
        <button class="cpb-add-ex-btn" onclick="cpbAddExercise('${dayId}-exlist')">+ Exercice</button>
      </div>
    `;
    document.getElementById('cpbDaysList').appendChild(el);
    day.exercises.forEach(ex => cpbAddExercise(dayId + '-exlist', ex));
  });
}

function cpbDeleteProgram(id) {
  if (!confirm('Supprimer ce programme ?')) return;
  let customProgs = storageGet('customPrograms') || [];
  customProgs = customProgs.filter(p => p.id !== id);
  storageSet('customPrograms', customProgs);
  delete PROGRAMS[id];
  cpbRenderSavedPrograms();
}

// Load saved custom programs on startup
(function loadCustomPrograms() {
  const customProgs = storageGet('customPrograms') || [];
  customProgs.forEach(p => { PROGRAMS[p.id] = { name: p.name, days: p.days }; });
})();
</script>
</body>
</html>
